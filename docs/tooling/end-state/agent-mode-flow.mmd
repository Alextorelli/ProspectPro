%%{init: {'theme': 'dark'}}%%
flowchart TD
    subgraph Agent_Modes
        ```mermaid
        %%{init: {'theme': 'dark'}}%%
        journey
                title Agent Mode Activation Journey
                section Detect Mode
                    Activate copilot prompt: 5: Developer
                    Classify mode (@debug/@feature/@support/@optimize/@security): 4: Agent Router
                section Align Participants
                    Map mode to chat participants (@ux/@platform/@devops/@secops/@integrations): 4: Coordination Manager
                    Confirm environment matrix (dev/test/stage/prod/incident): 3: Environment Router
                section Execute Automation
                    Run lint/tests/docs pipeline scoped to environment: 4: Automation Scripts, Selected Agent
                    Invoke MCP troubleshooting + telemetry tools: 3: MCP Clusters
                section Review & Close
                    Capture outcomes in coordination ledger: 4: Coordination Manager
                    Surface recommendations to requester: 5: Selected Agent, Developer    Agent_Modes <--> Chat_Participants
