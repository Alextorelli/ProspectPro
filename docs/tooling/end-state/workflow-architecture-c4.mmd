%%{init: {\'theme\': \'dark\'}}%%
% config: theme: dark
% config: theme: dark
% config: theme: dark
% config: theme: dark
%%{init: {'theme': 'dark'}}%%
C4Context
    title AI-Driven DevOps Workflow Architecture

    Person(dev, "Developer", "Writes code, triggers AI workflows")

    System_Boundary(vscode, "VS Code + AI Ecosystem") {
        System(copilot, "GitHub Copilot", "Code generation and chat")
        System(mcp, "MCP Servers", "Environment-aware tools")
        System(agents, "Chat Participants", "Specialized AI agents")
    }

    System_Boundary(environments, "Environment Pipeline") {
        System(dev_env, "Development", "Local dev plus shared dev infra")
        System(test_env, "Testing", "Automated QA validation")
        System(stage_env, "Staging", "Production replica")
        System(prod_env, "Production", "Live user traffic")
    }

    System_Boundary(automation, "Automation Layer") {
        System(cicd, "CI/CD Pipeline", "GitOps deployment")
        System(monitoring, "Observability", "Metrics, logs, traces")
        System(iac, "Infrastructure as Code", "Environment provisioning")
    }

    Rel(dev, copilot, "Writes code with AI assistance")
    Rel(copilot, agents, "Triggers specialized agents")
    Rel(agents, mcp, "Uses environment-aware tools")
    Rel(mcp, dev_env, "Development operations")
    Rel(dev_env, cicd, "Automated promotion")
    Rel(cicd, test_env, "Deploy and test")
    Rel(test_env, stage_env, "Validated promotion")
    Rel(stage_env, prod_env, "Production deployment")
    Rel(monitoring, agents, "Feedback loop")
