%%{init: {'theme': 'dark'}}%%
flowchart LR
    ENV_ROUTER@{shape: stadium, label: "Environment Router"}

    subgraph env_clusters ["Environment-Specific MCP Clusters"]
        subgraph dev_cluster ["Development Cluster"]
            DEV_ENTRY((dev cluster))
            DEV_ENTRY --> D1[react-devtools-local]
            DEV_ENTRY --> D2[github-dev-ops]
            DEV_ENTRY --> D3[supabase-dev]
            DEV_ENTRY --> D4[postgres-local]
        end

     
        subgraph prod_cluster ["Production Cluster"]
            PROD_ENTRY((production cluster))
            PROD_ENTRY --> P1[supabase-production]
            PROD_ENTRY --> P2[monitoring-alerts]
            PROD_ENTRY --> P3[incident-response]
            PROD_ENTRY --> P4[security-scanning]
        end
    end

    subgraph cross_tools ["Cross-Environment Tools"]
        direction TB
        CROSS_ENTRY((shared services))
        CROSS_ENTRY --> X1[github-cicd]
        CROSS_ENTRY --> X2[infrastructure-as-code]
        CROSS_ENTRY --> X3[secrets-management]
    end

    ENV_ROUTER --> DEV_ENTRY
    ENV_ROUTER --> PROD_ENTRY
    ENV_ROUTER --> CROSS_ENTRY
