%%{init: {'theme': 'dark'}}%%
flowchart TD
    ChatContext@{shape: stadium, label "Chat Context"} -->|routes context| ParticipantSelector@{shape: lin-cyl, label: "Participant Selector"} 
    ParticipantSelector --> Selected_Participants
    Selected_Participants --> CoordinationSession@{shape: hex, label: "Coordination Session"}
    CoordinationSession --> Coordination_Types

    subgraph Coordination_Types
        SingleExec@{shape: process, label: "Single Execution"}
        ChainExec@{shape: sm-circ,}
            ChainExec --> Task1@{shape: subprocess, label: "Chain Exec: Task 1"}
            Task1 --> Task2@{shape: subprocess, label: "Chain Exec: Task 2"}
        SwarmExec@{shape: processes, label: "Swarm Execution"}
        EscalationExec@{shape: trap-b, label: "Escalation Execution"}
    end
 
    subgraph Selected_Participants
        UX@{shape: rounded, label: "UX"}
        Platform@{shape: rounded, label: "Platform"}
        DevOps@{shape: rounded, label: "DevOps"}
        SecOps@{shape: rounded, label: "SecOps"}
        Integrations@{shape: rounded, label: "Integrations"}
    end
      
    subgraph Workflows
        SupabasePull@{shape: lean-l, label: "supabase_pull_logs"}
        ContextSnapshot@{shape: lean-l, label: "context_snapshot"}
        VercelStatus@{shape: lean-l, label: "vercel_status_check"}
    end
    
    Coordination_Types --> Workflows
    
    subgraph Workflows
        SupabasePull@{shape: lean-l, label: "supabase_pull_logs"}
        ContextSnapshot@{shape: lean-l, label: "context_snapshot"}
        VercelStatus@{shape: lean-l, label: "vercel_status_check"}
    end
    
    Workflows -->|routes context| ChatContext


    
