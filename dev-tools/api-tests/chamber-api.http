### US Chamber of Commerce API Testing
### Use this file to test the new Chamber API integration

# Variables
@baseUrl = http://localhost:3000
@chamberApiKey = {{$dotenv USCHAMBER_API_KEY}}

### Test 1: Basic Chamber Member Search
POST {{baseUrl}}/api/test/chamber/search
Content-Type: application/json

{
  "businessType": "restaurants",
  "location": "New York, NY",
  "limit": 5
}

### Test 2: Verify Chamber Membership
POST {{baseUrl}}/api/test/chamber/verify
Content-Type: application/json

{
  "business": {
    "name": "Artisan Restaurant Group",
    "address": "123 Main St, New York, NY 10001",
    "phone": "(212) 555-0123"
  }
}

### Test 3: Get Chamber Directory
GET {{baseUrl}}/api/test/chamber/directory?chamberId=nyc-chamber&category=restaurants

### Test 4: Integration Test - Full Lead Discovery with Chamber Data
POST {{baseUrl}}/api/business-discovery
Content-Type: application/json

{
  "businessType": "dental offices",
  "location": "Los Angeles, CA",
  "maxLeads": 3,
  "includeVerification": true,
  "sources": ["google_places", "foursquare", "us_chamber"]
}

### Test 5: Chamber API Usage Stats
GET {{baseUrl}}/api/test/chamber/stats

### Test 6: Compare Results - Chamber vs Other Sources
POST {{baseUrl}}/api/test/compare-sources
Content-Type: application/json

{
  "businessType": "law firms",
  "location": "Chicago, IL",
  "sources": ["google_places", "foursquare", "us_chamber"],
  "limit": 3
}

### Test 7: Chamber Membership Verification Batch
POST {{baseUrl}}/api/test/chamber/verify-batch
Content-Type: application/json

{
  "businesses": [
    {
      "name": "Chicago Legal Associates",
      "address": "456 State St, Chicago, IL 60601",
      "phone": "(312) 555-0456"
    },
    {
      "name": "Windy City Law Group", 
      "address": "789 Michigan Ave, Chicago, IL 60611",
      "phone": "(312) 555-0789"
    }
  ]
}

### Test 8: MCP-Assisted Analysis Request
# This test demonstrates how MCP can analyze the new API integration
POST {{baseUrl}}/api/mcp/analyze-integration
Content-Type: application/json

{
  "integration": "us_chamber",
  "analysisType": "performance_and_quality",
  "timeRange": "24h"
}