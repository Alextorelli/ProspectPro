%%{init: { "theme": "dark", "fontFamily": "Inter", "flowchart": { "htmlLabels": false, "curve": "monotoneX" } }}%%
flowchart TB
    subgraph ENV["ğŸ› ï¸ Development Environment"]
   
    subgraph ORCH["ğŸ§  Orchestration Layer"]
        direction LR
        CM["ğŸ—‚ï¸ Context Manager"]
        EM["ğŸŒ Environment Manager"]
    end

    EM --> AO
    CM --> AO

    subgraph AGENTS["ğŸ‘¥ Agent Workflows"]
        direction LR
                AO["ğŸ¤– Agent Orchestrator"]
        subgraph DEV_FLOW["ğŸ’» Dev Workflow Agent"]
            direction TB
            DEV_START["ğŸš€ Start"]
            DEV_MEM["ğŸ§  Load Context<br/>80 entries"]
            DEV_MCP["ğŸŒ MCP Mesh<br/>Code Â· Test Â· Data"]
            DEV_SIG["ğŸ“¡ Build Signals<br/>Test Results"]
            DEV_SAVE["ğŸ’¾ Checkpoint<br/>Auto-save"]
            DEV_END["âœ… Complete"]
            
            DEV_START --> DEV_MEM
            DEV_MEM --> DEV_MCP
            DEV_MCP --> DEV_SIG
            DEV_SIG --> DEV_SAVE
            DEV_SAVE --> DEV_END
            DEV_END -.-> DEV_START
        end

        subgraph ARCH_FLOW["ğŸ—ï¸ System Architect Agent"]
            direction TB
            ARCH_START["ğŸš€ Start"]
            ARCH_MEM["ğŸ§  Load Context<br/>Unlimited LTM"]
            ARCH_MCP["ğŸŒ MCP Mesh<br/>Research Â· Design"]
            ARCH_SIG["ğŸ“ Design Artifacts<br/>Decisions"]
            ARCH_END["âœ… Complete"]
            
            ARCH_START --> ARCH_MEM
            ARCH_MEM --> ARCH_MCP
            ARCH_MCP --> ARCH_SIG
            ARCH_SIG --> ARCH_SAVE
            ARCH_SAVE --> ARCH_END
            ARCH_END -.-> ARCH_START
        end
    end
end

    AO -- "Launch Build" --> DEV_START
    AO -- "Design System" --> ARCH_START

    subgraph SHARED["ğŸ”„ Shared Infrastructure"]
        direction LR
        MEMORY["ğŸ§  Memory Store<br/>Scratchpad Â· LTM Â· Checkpoints"]
        MCP["ğŸŒ Full MCP Access<br/>Supabase Â· GitHub Â· Playwright<br/>Context7 Â· Utility"]
    end



    AGENTS <==> SHARED
    ORCH <--> SHARED

    style ENV fill:#065f46,stroke:#10b981,stroke-width:2px
    style ORCH fill:#1a1a2a,stroke:#a78bfa,stroke-width:2px
    style DEV_FLOW fill:#1a3a1a,stroke:#4ade80,stroke-width:2px
    style ARCH_FLOW fill:#1a2a4a,stroke:#60a5fa,stroke-width:2px
    style SHARED fill:#1a1a2a,stroke:#a78bfa,stroke-width:2px
    style DEV_START fill:#2d5016,stroke:#4ade80,stroke-width:3px
    style ARCH_START fill:#1e3a5f,stroke:#60a5fa,stroke-width:3px
    style DEV_END fill:#2d5016,stroke:#4ade80,stroke-width:3px
    style ARCH_END fill:#1e3a5f,stroke:#60a5fa,stroke-width:3px
