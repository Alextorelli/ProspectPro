var Zz=Object.defineProperty;var Vz=(t,e,n)=>e in t?Zz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Hl=(t,e,n)=>(Vz(t,typeof e!="symbol"?e+"":e,n),n),wb=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var R=(t,e,n)=>(wb(t,e,"read from private field"),n?n.call(t):e.get(t)),Q=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},J=(t,e,n,r)=>(wb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Hp=(t,e,n,r)=>({set _(i){J(t,e,i,n)},get _(){return R(t,e,r)}}),be=(t,e,n)=>(wb(t,e,"access private method"),n);function Gz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const Az="modulepreload",Mz=function(t){return"/"+t},tT={},Tl=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=Mz(a),a in tT)return;tT[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===a&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":Az,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})};function lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sV(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var oV={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_=Symbol.for("react.transitional.element"),Xz=Symbol.for("react.portal"),Uz=Symbol.for("react.fragment"),Wz=Symbol.for("react.strict_mode"),Pz=Symbol.for("react.profiler"),zz=Symbol.for("react.consumer"),Dz=Symbol.for("react.context"),jz=Symbol.for("react.forward_ref"),Bz=Symbol.for("react.suspense"),Fz=Symbol.for("react.memo"),lV=Symbol.for("react.lazy"),Hz=Symbol.for("react.activity"),nT=Symbol.iterator;function Yz(t){return t===null||typeof t!="object"?null:(t=nT&&t[nT]||t["@@iterator"],typeof t=="function"?t:null)}var uV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cV=Object.assign,dV={};function nd(t,e,n){this.props=t,this.context=e,this.refs=dV,this.updater=n||uV}nd.prototype.isReactComponent={};nd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hV(){}hV.prototype=nd.prototype;function U_(t,e,n){this.props=t,this.context=e,this.refs=dV,this.updater=n||uV}var W_=U_.prototype=new hV;W_.constructor=U_;cV(W_,nd.prototype);W_.isPureReactComponent=!0;var rT=Array.isArray;function Kw(){}var ot={H:null,A:null,T:null,S:null},fV=Object.prototype.hasOwnProperty;function P_(t,e,n){var r=n.ref;return{$$typeof:X_,type:t,key:e,ref:r!==void 0?r:null,props:n}}function Jz(t,e){return P_(t.type,e,t.props)}function z_(t){return typeof t=="object"&&t!==null&&t.$$typeof===X_}function $z(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iT=/\/+/g;function Sb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$z(""+t.key):e.toString(36)}function Kz(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Kw,Kw):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function uu(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case X_:case Xz:s=!0;break;case lV:return s=t._init,uu(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+Sb(t,0):r,rT(i)?(n="",s!=null&&(n=s.replace(iT,"$&/")+"/"),uu(i,e,n,"",function(u){return u})):i!=null&&(z_(i)&&(i=Jz(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(iT,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(rT(t))for(var l=0;l<t.length;l++)r=t[l],a=o+Sb(r,l),s+=uu(r,e,n,a,i);else if(l=Yz(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=o+Sb(r,l++),s+=uu(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return uu(Kz(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Yp(t,e,n){if(t==null)return t;var r=[],i=0;return uu(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Qz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var aT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qz={map:Yp,forEach:function(t,e,n){Yp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yp(t,function(){e++}),e},toArray:function(t){return Yp(t,function(e){return e})||[]},only:function(t){if(!z_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Activity=Hz;de.Children=qz;de.Component=nd;de.Fragment=Uz;de.Profiler=Pz;de.PureComponent=U_;de.StrictMode=Wz;de.Suspense=Bz;de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot;de.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ot.H.useMemoCache(t)}};de.cache=function(t){return function(){return t.apply(null,arguments)}};de.cacheSignal=function(){return null};de.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=cV({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!fV.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return P_(t.type,i,r)};de.createContext=function(t){return t={$$typeof:Dz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:zz,_context:t},t};de.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)fV.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return P_(t,a,i)};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:jz,render:t}};de.isValidElement=z_;de.lazy=function(t){return{$$typeof:lV,_payload:{_status:-1,_result:t},_init:Qz}};de.memo=function(t,e){return{$$typeof:Fz,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=ot.T,n={};ot.T=n;try{var r=t(),i=ot.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Kw,aT)}catch(a){aT(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),ot.T=e}};de.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()};de.use=function(t){return ot.H.use(t)};de.useActionState=function(t,e,n){return ot.H.useActionState(t,e,n)};de.useCallback=function(t,e){return ot.H.useCallback(t,e)};de.useContext=function(t){return ot.H.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t,e){return ot.H.useDeferredValue(t,e)};de.useEffect=function(t,e){return ot.H.useEffect(t,e)};de.useEffectEvent=function(t){return ot.H.useEffectEvent(t)};de.useId=function(){return ot.H.useId()};de.useImperativeHandle=function(t,e,n){return ot.H.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return ot.H.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return ot.H.useLayoutEffect(t,e)};de.useMemo=function(t,e){return ot.H.useMemo(t,e)};de.useOptimistic=function(t,e){return ot.H.useOptimistic(t,e)};de.useReducer=function(t,e,n){return ot.H.useReducer(t,e,n)};de.useRef=function(t){return ot.H.useRef(t)};de.useState=function(t){return ot.H.useState(t)};de.useSyncExternalStore=function(t,e,n){return ot.H.useSyncExternalStore(t,e,n)};de.useTransition=function(){return ot.H.useTransition()};de.version="19.2.0";oV.exports=de;var Z=oV.exports;const h=lv(Z);var pV={exports:{}},uv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD=Symbol.for("react.transitional.element"),tD=Symbol.for("react.fragment");function mV(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:eD,type:t,key:r,ref:e!==void 0?e:null,props:n}}uv.Fragment=tD;uv.jsx=mV;uv.jsxs=mV;pV.exports=uv;var Ze=pV.exports,nD=Object.create,gV=Object.defineProperty,rD=Object.getOwnPropertyDescriptor,iD=Object.getOwnPropertyNames,aD=Object.getPrototypeOf,sD=Object.prototype.hasOwnProperty,oD=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),lD=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of iD(e))!sD.call(t,i)&&i!==n&&gV(t,i,{get:()=>e[i],enumerable:!(r=rD(e,i))||r.enumerable});return t},uD=(t,e,n)=>(n=t!=null?nD(aD(t)):{},lD(!t||!t.__esModule?gV(n,"default",{value:t,enumerable:!0}):n,t)),cD=oD((t,e)=>{(function(){var n={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=a(s,i(l)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)n.call(s,l)&&s[l]&&(o=a(o,l));return o}function a(s,o){return o?s?s+" "+o:s+o:s}typeof e<"u"&&e.exports?(r.default=r,e.exports=r):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return r}):window.classNames=r})()}),dD=uD(cD()),sT="ab47aa3085e9e5ae575dd6025eb36dec4968ec7ca807d8e4a715a66db3542672",hD=`._container_18f8u_1 {
	--brand-color: #744ed4;
	--brand-color-dark: #5629c6;
	--color-text-primary: #111111;
	--color-text-primary-inverted: #fff;
	--color-text-link: var(--brand-color);
	--size-large: 24px;
	--size-medium: 16px;
	--size-small: 12px;
	--size-xSmall: 8px;

	--color-white: #fff;
	--color-gray-100: hsla(0, 0%, 93.7%, 0.49019607843137253);
	--color-gray-200: #f2f2f2;
	--color-gray-300: #eaeaea;
	--color-gray-400: #bdbdbd;
	--color-gray-500: #828282;
	--color-gray-600: #7e7e7e;
	--color-gray-700: #8a8f98;
	--color-gray-800: #2d2f36;

	--font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI',
		Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji',
		'Segoe UI Emoji', 'Segoe UI Symbol';

	background: hsl(0deg 0% 0% / 75%);
	font-family: var(--font-family);
	position: fixed;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	z-index: 999999;
	backdrop-filter: blur(1px);
	display: flex;
	justify-content: center;
	align-items: center;
}

@media only screen and (max-width: 420px) {
	._card_18f8u_41 {
		max-width: 100vw !important;
		height: 100%;
		border-radius: 0;
	}

	._cardContents_18f8u_47 {
		height: 100%;
		display: flex;
		flex-direction: column;
	}

	._form_18f8u_53 {
		height: 100%;
	}

	._textareaLabel_18f8u_57 {
		flex: 1;
	}

	._form_18f8u_53 textarea {
		height: 100%;
	}

	._ad_18f8u_65 {
		display: none;
	}
}

._card_18f8u_41 {
	border-radius: var(--size-xSmall);
	padding: 20px;
	width: 420px;
	max-width: calc(100vw - 1rem);
	background: white;
}

._title_18f8u_78 {
	font-size: 20px;
	color: var(--color-text-primary);
}

._subtitle_18f8u_83 {
	font-size: 13px;
	margin-top: var(--size-medium) !important;
	font-weight: 400;
	color: #8c8b92;
}

._form_18f8u_53 {
	padding-top: var(--size-large);
	display: flex;
	flex-direction: column;
	gap: var(--size-small);
	width: 100%;
}

._form_18f8u_53 label {
	display: flex;
	flex-direction: column;
	font-size: 11px !important;
	font-weight: 500;
	color: var(--color-gray-500);
}

._form_18f8u_53 input {
	height: 28px;
}

._form_18f8u_53 textarea {
	font-family: var(--font-family);
	min-height: 80px;
}

._form_18f8u_53 input,
._form_18f8u_53 textarea {
	background-color: var(--color-white);
	border: 1px solid #dcdbdd;
	border-radius: 6px;
	color: var(--color-gray-500);

	font-size: 13px;
	margin: 8px 0;
	outline: none;
	padding: 4px 6px;
	width: calc(100%);
}

._form_18f8u_53 button {
	align-items: center;
	display: flex;
	justify-content: center;
	height: auto;
	color: var(--color-text-primary-inverted);
	background-color: var(--brand-color);
	text-shadow: none;
	box-shadow: none;
	padding: 4px 6px;
	font-size: 14px;
	border-radius: 6px;
	border: 0;
	cursor: pointer;
}

._form_18f8u_53 button:hover {
	background-color: var(--brand-color-dark);
}

._form_18f8u_53 button[disabled] {
	opacity: 0.5;
	pointer-events: none;
}

._form_18f8u_53 ._closeButton_18f8u_154 {
	background-color: transparent;
	color: #6f6e77 !important;
	font-size: 13px;
	font-family: var(--font-family);
	border: 1px solid var(--color-white);
}

._form_18f8u_53 ._closeButton_18f8u_154:hover {
	background-color: var(--color-gray-100);
	border-color: var(--color-gray-300);
}

._confirmationButton_18f8u_167 {
	float: right;
	margin-top: 3rem;
}

._formFooter_18f8u_172 {
	display: flex;
	flex-direction: row-reverse;
	flex-wrap: wrap;
	align-items: center;
	justify-content: space-between;
}

._formActionsContainer_18f8u_180 {
	display: flex;
	flex-direction: row-reverse;
	gap: 6px;
}

._ad_18f8u_65:hover {
	background-color: var(--color-gray-100);
}

._logoContainer_18f8u_190 {
	display: flex;
	align-items: center;
	gap: 6px;

	border: 1px solid var(--color-gray-300);
	border-radius: 6px;
	color: var(--color-gray-500);
	font-size: 13px;
	padding: 4px 8px;
}

._logo_18f8u_190 {
	height: 16px;
}

._buggyButton_18f8u_206 {
	align-items: center;
	background: #5629c6;
	border-radius: 8px;
	border: 1px solid #bdbdbd;
	box-shadow: none;
	color: #fff;
	cursor: pointer;
	display: flex;
	font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI',
		Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji',
		'Segoe UI Emoji', 'Segoe UI Symbol';
	font-size: 14px;
	height: auto;
	justify-content: center;
	min-height: 40px;
	padding: 4px 16px;
	text-shadow: none;
}
`;(function(){if(!(typeof document>"u")&&!document.getElementById(sT)){var t=document.createElement("style");t.id=sT,t.textContent=hD,document.head.appendChild(t)}})();var Dt={container:"_container_18f8u_1",card:"_card_18f8u_41",cardContents:"_cardContents_18f8u_47",form:"_form_18f8u_53",textareaLabel:"_textareaLabel_18f8u_57",ad:"_ad_18f8u_65",title:"_title_18f8u_78",subtitle:"_subtitle_18f8u_83",closeButton:"_closeButton_18f8u_154",confirmationButton:"_confirmationButton_18f8u_167",formFooter:"_formFooter_18f8u_172",formActionsContainer:"_formActionsContainer_18f8u_180",logoContainer:"_logoContainer_18f8u_190",logo:"_logo_18f8u_190"};function oT({labelClose:t="Cancel",labelComments:e="Message",labelName:n="Name",labelEmail:r="Email",labelSubmit:i="Submit",subtitle2:a="If you’d like to help, tell us what happened below.",subtitle:s="Our team has been notified.",successMessage:o="Your feedback has been sent. Thank you!",successSubtitle:l="Thank you for sending us feedback. If you have any other concerns/questions, reach out to this application's support email.",title:u="It looks like we’re having issues.",placeholderComments:c="I typed in a name then clicked the button",user:d,onCloseHandler:f,onSubmitHandler:p,hideHighlightBranding:v=!1,error:m}){let[S,y]=Z.useState((d==null?void 0:d.name)||""),[g,b]=Z.useState((d==null?void 0:d.email)||""),[w,E]=Z.useState(""),[_,C]=Z.useState(!1),[k,x]=Z.useState(!1),T=Z.useRef(new Date().toISOString()),A=Z.useMemo(()=>{let z=!!g.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i);return!!S&&z&&!!w},[S,g,w]);h.useEffect(()=>{var z;(z=window==null?void 0:window.H)!=null&&z.consumeError&&m&&window.H.consumeError(m)},[m]);let M=z=>{var N;z.preventDefault(),C(!0),(N=window==null?void 0:window.H)!=null&&N.addSessionFeedback?window.H.addSessionFeedback({verbatim:w,userName:S,userEmail:g,timestampOverride:T.current}):console.warn("Highlight is not initialized. Make sure highlight.run is installed and running."),new Promise(I=>window.setTimeout(I,300)).then(()=>{C(!1),x(!0),p&&p()})};return Ze.jsxs(Ze.Fragment,{children:[Ze.jsx("style",{dangerouslySetInnerHTML:{__html:`
					@font-face {
						font-display: swap;
						font-family: 'Inter';
						font-style: normal;
						font-weight: normal;
						src: local('Inter Regular'), local('InterRegular'),
							url('https://app.highlight.io/font/Inter-Regular.woff2')
								format('woff2');
					}
					@font-face {
						font-display: swap;
						font-family: 'Inter';
						font-style: normal;
						font-weight: 500;
						src: local('Inter Medium'), local('InterMedium'),
							url('https://app.highlight.io/font/Inter-Medium.woff2')
								format('woff2');
					}

					::placeholder {
						color: var(--color-gray-300);
					}
			`}}),Ze.jsx("main",{className:Dt.container,children:Ze.jsx("div",{className:Dt.card,children:k?Ze.jsxs("div",{className:Dt.cardContents,children:[Ze.jsx("h1",{className:Dt.title,children:o}),Ze.jsx("h4",{className:Dt.subtitle,children:l}),Ze.jsx("div",{children:Ze.jsx("button",{className:(0,dD.default)(Dt.button,Dt.confirmationButton),onClick:f,children:"Close"})})]}):Ze.jsxs("div",{className:Dt.cardContents,children:[Ze.jsxs("div",{children:[Ze.jsx("h1",{className:Dt.title,children:u}),Ze.jsxs("h2",{className:Dt.subtitle,children:[s," ",a]})]}),Ze.jsxs("form",{className:Dt.form,onSubmit:M,children:[Ze.jsxs("label",{children:[n,Ze.jsx("input",{type:"text",value:S,name:"name",autoFocus:!0,onChange:z=>{y(z.target.value)},placeholder:"Tom Jerry"})]}),Ze.jsxs("label",{children:[r,Ze.jsx("input",{type:"email",value:g,name:"email",onChange:z=>{b(z.target.value)},placeholder:"mail@mail.com"})]}),Ze.jsxs("label",{className:Dt.textareaLabel,children:[e,Ze.jsx("textarea",{value:w,placeholder:c,name:"verbatim",rows:3,onChange:z=>{E(z.target.value)}})]}),Ze.jsxs("div",{className:Dt.formFooter,children:[Ze.jsxs("div",{className:Dt.formActionsContainer,children:[Ze.jsx("button",{type:"submit",disabled:!A||_,children:i}),Ze.jsx("button",{className:Dt.closeButton,onClick:f,type:"button",children:t})]}),!v&&Ze.jsx("div",{className:Dt.ad,children:Ze.jsx("a",{href:"https://highlight.io",target:"_blank",children:Ze.jsxs("div",{className:Dt.logoContainer,children:[Ze.jsx("img",{src:"https://www.highlight.io/images/logo-on-dark.png",alt:"Highlight",className:Dt.logo}),Ze.jsx("span",{children:"Powered by highlight.io"})]})})})]})]})]})})})]})}var lT={componentStack:null,error:null,showingDialog:!1},fD=class extends h.Component{constructor(){super(...arguments);Hl(this,"refs",{});Hl(this,"state",lT);Hl(this,"resetErrorBoundary",()=>{let{onReset:n}=this.props,{error:r,componentStack:i}=this.state;n&&n(r,i),this.setState(lT)});Hl(this,"hideDialog",()=>{this.setState({...this.state,showingDialog:!1}),(this.props.onAfterReportDialogCancelHandler||(()=>{window.location.href=window.location.origin}))()});Hl(this,"onReportDialogSubmitHandler",()=>{this.props.onAfterReportDialogSubmitHandler&&this.props.onAfterReportDialogSubmitHandler()})}componentDidCatch(n,r){let{beforeCapture:i,onError:a,showDialog:s}=this.props;i&&i(n,r.componentStack??null),pD(n,r),a&&a(n,r.componentStack??""),s!==!1&&this.setState({...this.state,showingDialog:!0}),this.setState({error:n,componentStack:r.componentStack??null})}componentDidMount(){let{onMount:n}=this.props;n&&n()}componentWillUnmount(){let{error:n,componentStack:r}=this.state,{onUnmount:i}=this.props;i&&i(n,r)}render(){let{fallback:n,children:r,customDialog:i}=this.props,{error:a,componentStack:s,showingDialog:o}=this.state;if(a){let l;return typeof n=="function"?l=n({error:a,componentStack:s,resetError:this.resetErrorBoundary}):l=n,h.isValidElement(l)?Ze.jsxs(Ze.Fragment,{children:[o&&Ze.jsx(oT,{...this.props.dialogOptions,onCloseHandler:this.hideDialog,onSubmitHandler:this.onReportDialogSubmitHandler}),l]}):(n&&console.warn("fallback did not produce a valid ReactElement"),o&&i?i:o&&Ze.jsx(oT,{...this.props.dialogOptions,onCloseHandler:this.hideDialog,onSubmitHandler:this.onReportDialogSubmitHandler}))}return typeof r=="function"?r():r}};function pD(t,e){let n=mD(e.componentStack??"");window.H?(console.error("Highlight ErrorBoundary caught an exception while rendering React component",{error:t}),window.H.consume(t,{payload:{component:n},source:n,type:"React.ErrorBoundary"})):console.warn("You need to install highlight.run.")}function mD(t){let e=t.split(`
`);if(e.length<1)return;let n=e[1].trim().split(" ");if(n.length===4)return`<${n[1]}>`}var rd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gD={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ps,M_,JZ,yD=(JZ=class{constructor(){Q(this,ps,gD);Q(this,M_,!1)}setTimeoutProvider(t){J(this,ps,t)}setTimeout(t,e){return R(this,ps).setTimeout(t,e)}clearTimeout(t){R(this,ps).clearTimeout(t)}setInterval(t,e){return R(this,ps).setInterval(t,e)}clearInterval(t){R(this,ps).clearInterval(t)}},ps=new WeakMap,M_=new WeakMap,JZ),Zo=new yD;function vD(t){setTimeout(t,0)}var ll=typeof window>"u"||"Deno"in globalThis;function Cn(){}function bD(t,e){return typeof t=="function"?t(e):t}function Qw(t){return typeof t=="number"&&t>=0&&t!==1/0}function yV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Is(t,e){return typeof t=="function"?t(e):t}function Rr(t,e){return typeof t=="function"?t(e):t}function uT(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==D_(s,e.options))return!1}else if(!Qh(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function cT(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(ul(e.options.mutationKey)!==ul(a))return!1}else if(!Qh(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function D_(t,e){return((e==null?void 0:e.queryKeyHashFn)||ul)(t)}function ul(t){return JSON.stringify(t,(e,n)=>qw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Qh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Qh(t[n],e[n])):!1}var wD=Object.prototype.hasOwnProperty;function vV(t,e){if(t===e)return t;const n=dT(t)&&dT(e);if(!n&&!(qw(t)&&qw(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),s=a.length,o=n?new Array(s):{};let l=0;for(let u=0;u<s;u++){const c=n?u:a[u],d=t[c],f=e[c];if(d===f){o[c]=d,(n?u<i:wD.call(t,c))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){o[c]=f;continue}const p=vV(d,f);o[c]=p,p===d&&l++}return i===s&&l===i?t:o}function m0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function dT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function qw(t){if(!hT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!hT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hT(t){return Object.prototype.toString.call(t)==="[object Object]"}function SD(t){return new Promise(e=>{Zo.setTimeout(e,t)})}function eS(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?vV(t,e):e}function ED(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function xD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var j_=Symbol();function bV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===j_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function wV(t,e){return typeof t=="function"?t(...e):!!t}var Wo,ms,cc,$Z,_D=($Z=class extends rd{constructor(){super();Q(this,Wo,void 0);Q(this,ms,void 0);Q(this,cc,void 0);J(this,cc,e=>{if(!ll&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,ms)||this.setEventListener(R(this,cc))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,ms))==null||e.call(this),J(this,ms,void 0))}setEventListener(e){var n;J(this,cc,e),(n=R(this,ms))==null||n.call(this),J(this,ms,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){R(this,Wo)!==e&&(J(this,Wo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof R(this,Wo)=="boolean"?R(this,Wo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wo=new WeakMap,ms=new WeakMap,cc=new WeakMap,$Z),B_=new _D;function tS(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var CD=vD;function kD(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=CD;const a=o=>{e?t.push(o):i(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Ut=kD(),dc,gs,hc,KZ,TD=(KZ=class extends rd{constructor(){super();Q(this,dc,!0);Q(this,gs,void 0);Q(this,hc,void 0);J(this,hc,e=>{if(!ll&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,gs)||this.setEventListener(R(this,hc))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,gs))==null||e.call(this),J(this,gs,void 0))}setEventListener(e){var n;J(this,hc,e),(n=R(this,gs))==null||n.call(this),J(this,gs,e(this.setOnline.bind(this)))}setOnline(e){R(this,dc)!==e&&(J(this,dc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return R(this,dc)}},dc=new WeakMap,gs=new WeakMap,hc=new WeakMap,KZ),g0=new TD;function RD(t){return Math.min(1e3*2**t,3e4)}function SV(t){return(t??"online")==="online"?g0.isOnline():!0}var nS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function EV(t){let e=!1,n=0,r;const i=tS(),a=()=>i.status!=="pending",s=m=>{var S;if(!a()){const y=new nS(m);f(y),(S=t.onCancel)==null||S.call(t,y)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>B_.isFocused()&&(t.networkMode==="always"||g0.isOnline())&&t.canRun(),c=()=>SV(t.networkMode)&&t.canRun(),d=m=>{a()||(r==null||r(),i.resolve(m))},f=m=>{a()||(r==null||r(),i.reject(m))},p=()=>new Promise(m=>{var S;r=y=>{(a()||u())&&m(y)},(S=t.onPause)==null||S.call(t)}).then(()=>{var m;r=void 0,a()||(m=t.onContinue)==null||m.call(t)}),v=()=>{if(a())return;let m;const S=n===0?t.initialPromise:void 0;try{m=S??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(d).catch(y=>{var _;if(a())return;const g=t.retry??(ll?0:3),b=t.retryDelay??RD,w=typeof b=="function"?b(n,y):b,E=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,y);if(e||!E){f(y);return}n++,(_=t.onFail)==null||_.call(t,n,y),SD(w).then(()=>u()?void 0:p()).then(()=>{e?f(y):v()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?v():p().then(v),i)}}var Po,QZ,xV=(QZ=class{constructor(){Q(this,Po,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qw(this.gcTime)&&J(this,Po,Zo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ll?1/0:5*60*1e3))}clearGcTimeout(){R(this,Po)&&(Zo.clearTimeout(R(this,Po)),J(this,Po,void 0))}},Po=new WeakMap,QZ),zo,fc,kr,Do,Bt,rp,jo,ai,ea,qZ,ND=(qZ=class extends xV{constructor(e){super();Q(this,ai);Q(this,zo,void 0);Q(this,fc,void 0);Q(this,kr,void 0);Q(this,Do,void 0);Q(this,Bt,void 0);Q(this,rp,void 0);Q(this,jo,void 0);J(this,jo,!1),J(this,rp,e.defaultOptions),this.setOptions(e.options),this.observers=[],J(this,Do,e.client),J(this,kr,R(this,Do).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,J(this,zo,fT(this.options)),this.state=e.state??R(this,zo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,Bt))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,rp),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=fT(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),J(this,zo,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,kr).remove(this)}setData(e,n){const r=eS(this.state.data,e,this.options);return be(this,ai,ea).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){be(this,ai,ea).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=R(this,Bt))==null?void 0:r.promise;return(i=R(this,Bt))==null||i.cancel(e),n?n.then(Cn).catch(Cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,zo))}isActive(){return this.observers.some(e=>Rr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===j_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Is(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!yV(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=R(this,Bt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=R(this,Bt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,kr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(R(this,Bt)&&(R(this,jo)?R(this,Bt).cancel({revert:!0}):R(this,Bt).cancelRetry()),this.scheduleGc()),R(this,kr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,ai,ea).call(this,{type:"invalidate"})}async fetch(e,n){var l,u,c,d,f,p,v,m,S,y,g,b;if(this.state.fetchStatus!=="idle"&&((l=R(this,Bt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,Bt))return R(this,Bt).continueRetry(),R(this,Bt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(E=>E.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(J(this,jo,!0),r.signal)})},a=()=>{const w=bV(this.options,n),_=(()=>{const C={client:R(this,Do),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return J(this,jo,!1),this.options.persister?this.options.persister(w,_,this):w(_)},o=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:R(this,Do),state:this.state,fetchFn:a};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(o,this),J(this,fc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&be(this,ai,ea).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta}),J(this,Bt,EV({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:w=>{w instanceof nS&&w.revert&&this.setState({...R(this,fc),fetchStatus:"idle"}),r.abort()},onFail:(w,E)=>{be(this,ai,ea).call(this,{type:"failed",failureCount:w,error:E})},onPause:()=>{be(this,ai,ea).call(this,{type:"pause"})},onContinue:()=>{be(this,ai,ea).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await R(this,Bt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=R(this,kr).config).onSuccess)==null||p.call(f,w,this),(m=(v=R(this,kr).config).onSettled)==null||m.call(v,w,this.state.error,this),w}catch(w){if(w instanceof nS){if(w.silent)return R(this,Bt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw be(this,ai,ea).call(this,{type:"error",error:w}),(y=(S=R(this,kr).config).onError)==null||y.call(S,w,this),(b=(g=R(this,kr).config).onSettled)==null||b.call(g,this.state.data,w,this),w}finally{this.scheduleGc()}}},zo=new WeakMap,fc=new WeakMap,kr=new WeakMap,Do=new WeakMap,Bt=new WeakMap,rp=new WeakMap,jo=new WeakMap,ai=new WeakSet,ea=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._V(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return J(this,fc,e.manual?i:void 0),i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ut.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,kr).notify({query:this,type:"updated",action:e})})},qZ);function _V(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wn,Re,ip,Sn,Bo,pc,ca,ys,ap,mc,gc,Fo,Ho,vs,yc,Yo,qd,sp,rS,op,iS,lp,aS,up,sS,cp,oS,dp,lS,hp,uS,ov,CV,eV,OD=(eV=class extends rd{constructor(e,n){super();Q(this,Yo);Q(this,sp);Q(this,op);Q(this,lp);Q(this,up);Q(this,cp);Q(this,dp);Q(this,hp);Q(this,ov);Q(this,Wn,void 0);Q(this,Re,void 0);Q(this,ip,void 0);Q(this,Sn,void 0);Q(this,Bo,void 0);Q(this,pc,void 0);Q(this,ca,void 0);Q(this,ys,void 0);Q(this,ap,void 0);Q(this,mc,void 0);Q(this,gc,void 0);Q(this,Fo,void 0);Q(this,Ho,void 0);Q(this,vs,void 0);Q(this,yc,new Set);this.options=n,J(this,Wn,e),J(this,ys,null),J(this,ca,tS()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Re).addObserver(this),pT(R(this,Re),this.options)?be(this,Yo,qd).call(this):this.updateResult(),be(this,up,sS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cS(R(this,Re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cS(R(this,Re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,cp,oS).call(this),be(this,dp,lS).call(this),R(this,Re).removeObserver(this)}setOptions(e){const n=this.options,r=R(this,Re);if(this.options=R(this,Wn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rr(this.options.enabled,R(this,Re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,hp,uS).call(this),R(this,Re).setOptions(this.options),n._defaulted&&!m0(this.options,n)&&R(this,Wn).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Re),observer:this});const i=this.hasListeners();i&&mT(R(this,Re),r,this.options,n)&&be(this,Yo,qd).call(this),this.updateResult(),i&&(R(this,Re)!==r||Rr(this.options.enabled,R(this,Re))!==Rr(n.enabled,R(this,Re))||Is(this.options.staleTime,R(this,Re))!==Is(n.staleTime,R(this,Re)))&&be(this,sp,rS).call(this);const a=be(this,op,iS).call(this);i&&(R(this,Re)!==r||Rr(this.options.enabled,R(this,Re))!==Rr(n.enabled,R(this,Re))||a!==R(this,vs))&&be(this,lp,aS).call(this,a)}getOptimisticResult(e){const n=R(this,Wn).getQueryCache().build(R(this,Wn),e),r=this.createResult(n,e);return LD(this,r)&&(J(this,Sn,r),J(this,pc,this.options),J(this,Bo,R(this,Re).state)),r}getCurrentResult(){return R(this,Sn)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,ca).status==="pending"&&R(this,ca).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){R(this,yc).add(e)}getCurrentQuery(){return R(this,Re)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=R(this,Wn).defaultQueryOptions(e),r=R(this,Wn).getQueryCache().build(R(this,Wn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return be(this,Yo,qd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Sn)))}createResult(e,n){var x;const r=R(this,Re),i=this.options,a=R(this,Sn),s=R(this,Bo),o=R(this,pc),u=e!==r?e.state:R(this,ip),{state:c}=e;let d={...c},f=!1,p;if(n._optimisticResults){const T=this.hasListeners(),A=!T&&pT(e,n),M=T&&mT(e,r,n,i);(A||M)&&(d={...d,..._V(c.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:S}=d;p=d.data;let y=!1;if(n.placeholderData!==void 0&&p===void 0&&S==="pending"){let T;a!=null&&a.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(T=a.data,y=!0):T=typeof n.placeholderData=="function"?n.placeholderData((x=R(this,gc))==null?void 0:x.state.data,R(this,gc)):n.placeholderData,T!==void 0&&(S="success",p=eS(a==null?void 0:a.data,T,n),f=!0)}if(n.select&&p!==void 0&&!y)if(a&&p===(s==null?void 0:s.data)&&n.select===R(this,ap))p=R(this,mc);else try{J(this,ap,n.select),p=n.select(p),p=eS(a==null?void 0:a.data,p,n),J(this,mc,p),J(this,ys,null)}catch(T){J(this,ys,T)}R(this,ys)&&(v=R(this,ys),p=R(this,mc),m=Date.now(),S="error");const g=d.fetchStatus==="fetching",b=S==="pending",w=S==="error",E=b&&g,_=p!==void 0,k={status:S,fetchStatus:d.fetchStatus,isPending:b,isSuccess:S==="success",isError:w,isInitialLoading:E,isLoading:E,data:p,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:w&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&_,isStale:F_(e,n),refetch:this.refetch,promise:R(this,ca),isEnabled:Rr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=z=>{k.status==="error"?z.reject(k.error):k.data!==void 0&&z.resolve(k.data)},A=()=>{const z=J(this,ca,k.promise=tS());T(z)},M=R(this,ca);switch(M.status){case"pending":e.queryHash===r.queryHash&&T(M);break;case"fulfilled":(k.status==="error"||k.data!==M.value)&&A();break;case"rejected":(k.status!=="error"||k.error!==M.reason)&&A();break}}return k}updateResult(){const e=R(this,Sn),n=this.createResult(R(this,Re),this.options);if(J(this,Bo,R(this,Re).state),J(this,pc,this.options),R(this,Bo).data!==void 0&&J(this,gc,R(this,Re)),m0(n,e))return;J(this,Sn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!R(this,yc).size)return!0;const s=new Set(a??R(this,yc));return this.options.throwOnError&&s.add("error"),Object.keys(R(this,Sn)).some(o=>{const l=o;return R(this,Sn)[l]!==e[l]&&s.has(l)})};be(this,ov,CV).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,up,sS).call(this)}},Wn=new WeakMap,Re=new WeakMap,ip=new WeakMap,Sn=new WeakMap,Bo=new WeakMap,pc=new WeakMap,ca=new WeakMap,ys=new WeakMap,ap=new WeakMap,mc=new WeakMap,gc=new WeakMap,Fo=new WeakMap,Ho=new WeakMap,vs=new WeakMap,yc=new WeakMap,Yo=new WeakSet,qd=function(e){be(this,hp,uS).call(this);let n=R(this,Re).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Cn)),n},sp=new WeakSet,rS=function(){be(this,cp,oS).call(this);const e=Is(this.options.staleTime,R(this,Re));if(ll||R(this,Sn).isStale||!Qw(e))return;const r=yV(R(this,Sn).dataUpdatedAt,e)+1;J(this,Fo,Zo.setTimeout(()=>{R(this,Sn).isStale||this.updateResult()},r))},op=new WeakSet,iS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Re)):this.options.refetchInterval)??!1},lp=new WeakSet,aS=function(e){be(this,dp,lS).call(this),J(this,vs,e),!(ll||Rr(this.options.enabled,R(this,Re))===!1||!Qw(R(this,vs))||R(this,vs)===0)&&J(this,Ho,Zo.setInterval(()=>{(this.options.refetchIntervalInBackground||B_.isFocused())&&be(this,Yo,qd).call(this)},R(this,vs)))},up=new WeakSet,sS=function(){be(this,sp,rS).call(this),be(this,lp,aS).call(this,be(this,op,iS).call(this))},cp=new WeakSet,oS=function(){R(this,Fo)&&(Zo.clearTimeout(R(this,Fo)),J(this,Fo,void 0))},dp=new WeakSet,lS=function(){R(this,Ho)&&(Zo.clearInterval(R(this,Ho)),J(this,Ho,void 0))},hp=new WeakSet,uS=function(){const e=R(this,Wn).getQueryCache().build(R(this,Wn),this.options);if(e===R(this,Re))return;const n=R(this,Re);J(this,Re,e),J(this,ip,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},ov=new WeakSet,CV=function(e){Ut.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(R(this,Sn))}),R(this,Wn).getQueryCache().notify({query:R(this,Re),type:"observerResultsUpdated"})})},eV);function ID(t,e){return Rr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function pT(t,e){return ID(t,e)||t.state.data!==void 0&&cS(t,e,e.refetchOnMount)}function cS(t,e,n){if(Rr(e.enabled,t)!==!1&&Is(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&F_(t,e)}return!1}function mT(t,e,n,r){return(t!==e||Rr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&F_(t,n)}function F_(t,e){return Rr(e.enabled,t)!==!1&&t.isStaleByTime(Is(e.staleTime,t))}function LD(t,e){return!m0(t.getCurrentResult(),e)}function gT(t){return{onFetch:(e,n)=>{var c,d,f,p,v;const r=e.options,i=(f=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],s=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const S=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=bV(e.options,e.fetchOptions),g=async(b,w,E)=>{if(m)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:w,direction:E?"backward":"forward",meta:e.options.meta};return S(A),A})(),k=await y(C),{maxPages:x}=e.options,T=E?xD:ED;return{pages:T(b.pages,k,x),pageParams:T(b.pageParams,w,x)}};if(i&&a.length){const b=i==="backward",w=b?ZD:yT,E={pages:a,pageParams:s},_=w(r,E);o=await g(E,_,b)}else{const b=t??a.length;do{const w=l===0?s[0]??r.initialPageParam:yT(r,o);if(l>0&&w==null)break;o=await g(o,w),l++}while(l<b)}return o};e.options.persister?e.fetchFn=()=>{var m,S;return(S=(m=e.options).persister)==null?void 0:S.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function yT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ZD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var fp,Ri,En,Jo,Ni,Ja,tV,VD=(tV=class extends xV{constructor(e){super();Q(this,Ni);Q(this,fp,void 0);Q(this,Ri,void 0);Q(this,En,void 0);Q(this,Jo,void 0);J(this,fp,e.client),this.mutationId=e.mutationId,J(this,En,e.mutationCache),J(this,Ri,[]),this.state=e.state||kV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,Ri).includes(e)||(R(this,Ri).push(e),this.clearGcTimeout(),R(this,En).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){J(this,Ri,R(this,Ri).filter(n=>n!==e)),this.scheduleGc(),R(this,En).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,Ri).length||(this.state.status==="pending"?this.scheduleGc():R(this,En).remove(this))}continue(){var e;return((e=R(this,Jo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,l,u,c,d,f,p,v,m,S,y,g,b,w,E,_,C,k,x;const n=()=>{be(this,Ni,Ja).call(this,{type:"continue"})},r={client:R(this,fp),meta:this.options.meta,mutationKey:this.options.mutationKey};J(this,Jo,EV({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(T,A)=>{be(this,Ni,Ja).call(this,{type:"failed",failureCount:T,error:A})},onPause:()=>{be(this,Ni,Ja).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,En).canRun(this)}));const i=this.state.status==="pending",a=!R(this,Jo).canStart();try{if(i)n();else{be(this,Ni,Ja).call(this,{type:"pending",variables:e,isPaused:a}),await((o=(s=R(this,En).config).onMutate)==null?void 0:o.call(s,e,this,r));const A=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,r));A!==this.state.context&&be(this,Ni,Ja).call(this,{type:"pending",context:A,variables:e,isPaused:a})}const T=await R(this,Jo).start();return await((d=(c=R(this,En).config).onSuccess)==null?void 0:d.call(c,T,e,this.state.context,this,r)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,T,e,this.state.context,r)),await((m=(v=R(this,En).config).onSettled)==null?void 0:m.call(v,T,null,this.state.variables,this.state.context,this,r)),await((y=(S=this.options).onSettled)==null?void 0:y.call(S,T,null,e,this.state.context,r)),be(this,Ni,Ja).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(g=R(this,En).config).onError)==null?void 0:b.call(g,T,e,this.state.context,this,r)),await((E=(w=this.options).onError)==null?void 0:E.call(w,T,e,this.state.context,r)),await((C=(_=R(this,En).config).onSettled)==null?void 0:C.call(_,void 0,T,this.state.variables,this.state.context,this,r)),await((x=(k=this.options).onSettled)==null?void 0:x.call(k,void 0,T,e,this.state.context,r)),T}finally{be(this,Ni,Ja).call(this,{type:"error",error:T})}}finally{R(this,En).runNext(this)}}},fp=new WeakMap,Ri=new WeakMap,En=new WeakMap,Jo=new WeakMap,Ni=new WeakSet,Ja=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ut.batch(()=>{R(this,Ri).forEach(r=>{r.onMutationUpdate(e)}),R(this,En).notify({mutation:this,type:"updated",action:e})})},tV);function kV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var da,si,pp,nV,GD=(nV=class extends rd{constructor(e={}){super();Q(this,da,void 0);Q(this,si,void 0);Q(this,pp,void 0);this.config=e,J(this,da,new Set),J(this,si,new Map),J(this,pp,0)}build(e,n,r){const i=new VD({client:e,mutationCache:this,mutationId:++Hp(this,pp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){R(this,da).add(e);const n=Jp(e);if(typeof n=="string"){const r=R(this,si).get(n);r?r.push(e):R(this,si).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,da).delete(e)){const n=Jp(e);if(typeof n=="string"){const r=R(this,si).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&R(this,si).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Jp(e);if(typeof n=="string"){const r=R(this,si).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Jp(e);if(typeof n=="string"){const i=(r=R(this,si).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ut.batch(()=>{R(this,da).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,da).clear(),R(this,si).clear()})}getAll(){return Array.from(R(this,da))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>cT(n,r))}findAll(e={}){return this.getAll().filter(n=>cT(e,n))}notify(e){Ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ut.batch(()=>Promise.all(e.map(n=>n.continue().catch(Cn))))}},da=new WeakMap,si=new WeakMap,pp=new WeakMap,nV);function Jp(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ha,bs,Pn,fa,vc,Eg,mp,dS,rV,AD=(rV=class extends rd{constructor(n,r){super();Q(this,vc);Q(this,mp);Q(this,ha,void 0);Q(this,bs,void 0);Q(this,Pn,void 0);Q(this,fa,void 0);J(this,ha,n),this.setOptions(r),this.bindMethods(),be(this,vc,Eg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=R(this,ha).defaultMutationOptions(n),m0(this.options,r)||R(this,ha).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Pn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ul(r.mutationKey)!==ul(this.options.mutationKey)?this.reset():((i=R(this,Pn))==null?void 0:i.state.status)==="pending"&&R(this,Pn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=R(this,Pn))==null||n.removeObserver(this)}onMutationUpdate(n){be(this,vc,Eg).call(this),be(this,mp,dS).call(this,n)}getCurrentResult(){return R(this,bs)}reset(){var n;(n=R(this,Pn))==null||n.removeObserver(this),J(this,Pn,void 0),be(this,vc,Eg).call(this),be(this,mp,dS).call(this)}mutate(n,r){var i;return J(this,fa,r),(i=R(this,Pn))==null||i.removeObserver(this),J(this,Pn,R(this,ha).getMutationCache().build(R(this,ha),this.options)),R(this,Pn).addObserver(this),R(this,Pn).execute(n)}},ha=new WeakMap,bs=new WeakMap,Pn=new WeakMap,fa=new WeakMap,vc=new WeakSet,Eg=function(){var r;const n=((r=R(this,Pn))==null?void 0:r.state)??kV();J(this,bs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},mp=new WeakSet,dS=function(n){Ut.batch(()=>{var r,i,a,s,o,l,u,c;if(R(this,fa)&&this.hasListeners()){const d=R(this,bs).variables,f=R(this,bs).context,p={client:R(this,ha),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=R(this,fa)).onSuccess)==null||i.call(r,n.data,d,f,p),(s=(a=R(this,fa)).onSettled)==null||s.call(a,n.data,null,d,f,p)):(n==null?void 0:n.type)==="error"&&((l=(o=R(this,fa)).onError)==null||l.call(o,n.error,d,f,p),(c=(u=R(this,fa)).onSettled)==null||c.call(u,void 0,n.error,d,f,p))}this.listeners.forEach(d=>{d(R(this,bs))})})},rV),Oi,iV,MD=(iV=class extends rd{constructor(e={}){super();Q(this,Oi,void 0);this.config=e,J(this,Oi,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??D_(i,n);let s=this.get(a);return s||(s=new ND({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){R(this,Oi).has(e.queryHash)||(R(this,Oi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=R(this,Oi).get(e.queryHash);n&&(e.destroy(),n===e&&R(this,Oi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Oi).get(e)}getAll(){return[...R(this,Oi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>uT(e,r)):n}notify(e){Ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Oi=new WeakMap,iV),wt,ws,Ss,bc,wc,Es,Sc,Ec,aV,XD=(aV=class{constructor(t={}){Q(this,wt,void 0);Q(this,ws,void 0);Q(this,Ss,void 0);Q(this,bc,void 0);Q(this,wc,void 0);Q(this,Es,void 0);Q(this,Sc,void 0);Q(this,Ec,void 0);J(this,wt,t.queryCache||new MD),J(this,ws,t.mutationCache||new GD),J(this,Ss,t.defaultOptions||{}),J(this,bc,new Map),J(this,wc,new Map),J(this,Es,0)}mount(){Hp(this,Es)._++,R(this,Es)===1&&(J(this,Sc,B_.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,wt).onFocus())})),J(this,Ec,g0.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,wt).onOnline())})))}unmount(){var t,e;Hp(this,Es)._--,R(this,Es)===0&&((t=R(this,Sc))==null||t.call(this),J(this,Sc,void 0),(e=R(this,Ec))==null||e.call(this),J(this,Ec,void 0))}isFetching(t){return R(this,wt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,ws).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,wt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=R(this,wt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Is(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return R(this,wt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=R(this,wt).get(r.queryHash),a=i==null?void 0:i.state.data,s=bD(e,a);if(s!==void 0)return R(this,wt).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Ut.batch(()=>R(this,wt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,wt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=R(this,wt);Ut.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=R(this,wt);return Ut.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ut.batch(()=>R(this,wt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Cn).catch(Cn)}invalidateQueries(t,e={}){return Ut.batch(()=>(R(this,wt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ut.batch(()=>R(this,wt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Cn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Cn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=R(this,wt).build(this,e);return n.isStaleByTime(Is(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cn).catch(Cn)}fetchInfiniteQuery(t){return t.behavior=gT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cn).catch(Cn)}ensureInfiniteQueryData(t){return t.behavior=gT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return g0.isOnline()?R(this,ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,wt)}getMutationCache(){return R(this,ws)}getDefaultOptions(){return R(this,Ss)}setDefaultOptions(t){J(this,Ss,t)}setQueryDefaults(t,e){R(this,bc).set(ul(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,bc).values()],n={};return e.forEach(r=>{Qh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){R(this,wc).set(ul(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,wc).values()],n={};return e.forEach(r=>{Qh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Ss).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=D_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===j_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Ss).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,wt).clear(),R(this,ws).clear()}},wt=new WeakMap,ws=new WeakMap,Ss=new WeakMap,bc=new WeakMap,wc=new WeakMap,Es=new WeakMap,Sc=new WeakMap,Ec=new WeakMap,aV),TV={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=Symbol.for("react.element"),UD=Symbol.for("react.portal"),WD=Symbol.for("react.fragment"),PD=Symbol.for("react.strict_mode"),zD=Symbol.for("react.profiler"),DD=Symbol.for("react.provider"),jD=Symbol.for("react.context"),BD=Symbol.for("react.forward_ref"),FD=Symbol.for("react.suspense"),HD=Symbol.for("react.memo"),YD=Symbol.for("react.lazy"),vT=Symbol.iterator;function JD(t){return t===null||typeof t!="object"?null:(t=vT&&t[vT]||t["@@iterator"],typeof t=="function"?t:null)}var RV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NV=Object.assign,OV={};function id(t,e,n){this.props=t,this.context=e,this.refs=OV,this.updater=n||RV}id.prototype.isReactComponent={};id.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};id.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IV(){}IV.prototype=id.prototype;function H_(t,e,n){this.props=t,this.context=e,this.refs=OV,this.updater=n||RV}var Y_=H_.prototype=new IV;Y_.constructor=H_;NV(Y_,id.prototype);Y_.isPureReactComponent=!0;var bT=Array.isArray,LV=Object.prototype.hasOwnProperty,J_={current:null},ZV={key:!0,ref:!0,__self:!0,__source:!0};function VV(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)LV.call(e,r)&&!ZV.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:gp,type:t,key:a,ref:s,props:i,_owner:J_.current}}function $D(t,e){return{$$typeof:gp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $_(t){return typeof t=="object"&&t!==null&&t.$$typeof===gp}function KD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wT=/\/+/g;function Eb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KD(""+t.key):e.toString(36)}function xg(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case gp:case UD:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Eb(s,0):r,bT(i)?(n="",t!=null&&(n=t.replace(wT,"$&/")+"/"),xg(i,e,n,"",function(u){return u})):i!=null&&($_(i)&&(i=$D(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(wT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",bT(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+Eb(a,o);s+=xg(a,e,n,l,i)}else if(l=JD(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+Eb(a,o++),s+=xg(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function $p(t,e,n){if(t==null)return t;var r=[],i=0;return xg(t,r,"","",function(a){return e.call(n,a,i++)}),r}function QD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zn={current:null},_g={transition:null},qD={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:_g,ReactCurrentOwner:J_};function GV(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:$p,forEach:function(t,e,n){$p(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $p(t,function(){e++}),e},toArray:function(t){return $p(t,function(e){return e})||[]},only:function(t){if(!$_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=id;_e.Fragment=WD;_e.Profiler=zD;_e.PureComponent=H_;_e.StrictMode=PD;_e.Suspense=FD;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qD;_e.act=GV;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NV({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=J_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)LV.call(e,l)&&!ZV.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:gp,type:t.type,key:i,ref:a,props:r,_owner:s}};_e.createContext=function(t){return t={$$typeof:jD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DD,_context:t},t.Consumer=t};_e.createElement=VV;_e.createFactory=function(t){var e=VV.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:BD,render:t}};_e.isValidElement=$_;_e.lazy=function(t){return{$$typeof:YD,_payload:{_status:-1,_result:t},_init:QD}};_e.memo=function(t,e){return{$$typeof:HD,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=_g.transition;_g.transition={};try{t()}finally{_g.transition=e}};_e.unstable_act=GV;_e.useCallback=function(t,e){return Zn.current.useCallback(t,e)};_e.useContext=function(t){return Zn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Zn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Zn.current.useEffect(t,e)};_e.useId=function(){return Zn.current.useId()};_e.useImperativeHandle=function(t,e,n){return Zn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Zn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Zn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Zn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Zn.current.useReducer(t,e,n)};_e.useRef=function(t){return Zn.current.useRef(t)};_e.useState=function(t){return Zn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Zn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Zn.current.useTransition()};_e.version="18.3.1";TV.exports=_e;var j=TV.exports;const AV=lv(j),e4=Gz({__proto__:null,default:AV},[j]);var MV={exports:{}},cv={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t4=j,n4=Symbol.for("react.element"),r4=Symbol.for("react.fragment"),i4=Object.prototype.hasOwnProperty,a4=t4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s4={key:!0,ref:!0,__self:!0,__source:!0};function XV(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)i4.call(e,r)&&!s4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:n4,type:t,key:a,ref:s,props:i,_owner:a4.current}}cv.Fragment=r4;cv.jsx=XV;cv.jsxs=XV;MV.exports=cv;var o4=MV.exports,UV=j.createContext(void 0),WV=t=>{const e=j.useContext(UV);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},l4=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o4.jsx(UV.Provider,{value:t,children:e})),PV=j.createContext(!1),u4=()=>j.useContext(PV);PV.Provider;function c4(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var d4=j.createContext(c4()),h4=()=>j.useContext(d4),f4=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},p4=t=>{j.useEffect(()=>{t.clearReset()},[t])},m4=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||wV(n,[t.error,r])),g4=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},y4=(t,e)=>t.isLoading&&t.isFetching&&!e,v4=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ST=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function b4(t,e,n){var d,f,p,v,m;const r=u4(),i=h4(),a=WV(n),s=a.defaultQueryOptions(t);(f=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,s),s._optimisticResults=r?"isRestoring":"optimistic",g4(s),f4(s,i),p4(i);const o=!a.getQueryCache().get(s.queryHash),[l]=j.useState(()=>new e(a,s)),u=l.getOptimisticResult(s),c=!r&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(S=>{const y=c?l.subscribe(Ut.batchCalls(S)):Cn;return l.updateResult(),y},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),j.useEffect(()=>{l.setOptions(s)},[s,l]),v4(s,u))throw ST(s,l,i);if(m4({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((v=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,s,u),s.experimental_prefetchInRender&&!ll&&y4(u,r)){const S=o?ST(s,l,i):(m=a.getQueryCache().get(s.queryHash))==null?void 0:m.promise;S==null||S.catch(Cn).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function w4(t,e){return b4(t,OD,e)}function zV(t,e){const n=WV(e),[r]=j.useState(()=>new AD(n,t));j.useEffect(()=>{r.setOptions(t)},[r,t]);const i=j.useSyncExternalStore(j.useCallback(s=>r.subscribe(Ut.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=j.useCallback((s,o)=>{r.mutate(s,o).catch(Cn)},[r]);if(i.error&&wV(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var DV={exports:{}},dv={},jV={exports:{}},BV={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,X){var L=O.length;O.push(X);e:for(;0<L;){var G=L-1>>>1,V=O[G];if(0<i(V,X))O[G]=X,O[L]=V,L=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var X=O[0],L=O.pop();if(L!==X){O[0]=L;e:for(var G=0,V=O.length,P=V>>>1;G<P;){var F=2*(G+1)-1,ie=O[F],re=F+1,ve=O[re];if(0>i(ie,L))re<V&&0>i(ve,ie)?(O[G]=ve,O[re]=L,G=re):(O[G]=ie,O[F]=L,G=F);else if(re<V&&0>i(ve,L))O[G]=ve,O[re]=L,G=re;else break e}}return X}function i(O,X){var L=O.sortIndex-X.sortIndex;return L!==0?L:O.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,f=3,p=!1,v=!1,m=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function w(O){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=O)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function E(O){if(m=!1,w(O),!v)if(n(l)!==null)v=!0,_||(_=!0,M());else{var X=n(u);X!==null&&I(E,X.startTime-O)}}var _=!1,C=-1,k=5,x=-1;function T(){return S?!0:!(t.unstable_now()-x<k)}function A(){if(S=!1,_){var O=t.unstable_now();x=O;var X=!0;try{e:{v=!1,m&&(m=!1,g(C),C=-1),p=!0;var L=f;try{t:{for(w(O),d=n(l);d!==null&&!(d.expirationTime>O&&T());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var V=G(d.expirationTime<=O);if(O=t.unstable_now(),typeof V=="function"){d.callback=V,w(O),X=!0;break t}d===n(l)&&r(l),w(O)}else r(l);d=n(l)}if(d!==null)X=!0;else{var P=n(u);P!==null&&I(E,P.startTime-O),X=!1}}break e}finally{d=null,f=L,p=!1}X=void 0}}finally{X?M():_=!1}}}var M;if(typeof b=="function")M=function(){b(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,N=z.port2;z.port1.onmessage=A,M=function(){N.postMessage(null)}}else M=function(){y(A,0)};function I(O,X){C=y(function(){O(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var L=f;f=X;try{return O()}finally{f=L}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(O,X){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var L=f;f=O;try{return X()}finally{f=L}},t.unstable_scheduleCallback=function(O,X,L){var G=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?G+L:G):L=G,O){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=L+V,O={id:c++,callback:X,priorityLevel:O,startTime:L,expirationTime:V,sortIndex:-1},L>G?(O.sortIndex=L,e(u,O),n(l)===null&&O===n(u)&&(m?(g(C),C=-1):m=!0,I(E,L-G))):(O.sortIndex=V,e(l,O),v||p||(v=!0,_||(_=!0,M()))),O},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(O){var X=f;return function(){var L=f;f=X;try{return O.apply(this,arguments)}finally{f=L}}}})(BV);jV.exports=BV;var S4=jV.exports,FV={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E4=Z;function HV(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ba(){}var Nn={d:{f:Ba,r:function(){throw Error(HV(522))},D:Ba,C:Ba,L:Ba,m:Ba,X:Ba,S:Ba,M:Ba},p:0,findDOMNode:null},x4=Symbol.for("react.portal");function _4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x4,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var fh=E4.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function hv(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Nn;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(HV(299));return _4(t,e,null,n)};Vn.flushSync=function(t){var e=fh.T,n=Nn.p;try{if(fh.T=null,Nn.p=2,t)return t()}finally{fh.T=e,Nn.p=n,Nn.d.f()}};Vn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Nn.d.C(t,e))};Vn.prefetchDNS=function(t){typeof t=="string"&&Nn.d.D(t)};Vn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=hv(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Nn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Nn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Vn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=hv(e.as,e.crossOrigin);Nn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Nn.d.M(t)};Vn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=hv(n,e.crossOrigin);Nn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Vn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=hv(e.as,e.crossOrigin);Nn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Nn.d.m(t)};Vn.requestFormReset=function(t){Nn.d.r(t)};Vn.unstable_batchedUpdates=function(t,e){return t(e)};Vn.useFormState=function(t,e,n){return fh.H.useFormState(t,e,n)};Vn.useFormStatus=function(){return fh.H.useHostTransitionStatus()};Vn.version="19.2.0";function YV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YV)}catch(t){console.error(t)}}YV(),FV.exports=Vn;var C4=FV.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zt=S4,JV=Z,k4=C4;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $V(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function QV(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ET(t){if(yp(t)!==t)throw Error(U(188))}function T4(t){var e=t.alternate;if(!e){if(e=yp(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ET(i),t;if(a===r)return ET(i),e;a=a.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function qV(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=qV(t),e!==null)return e;t=t.sibling}return null}var ut=Object.assign,R4=Symbol.for("react.element"),Kp=Symbol.for("react.transitional.element"),eh=Symbol.for("react.portal"),vu=Symbol.for("react.fragment"),eG=Symbol.for("react.strict_mode"),hS=Symbol.for("react.profiler"),tG=Symbol.for("react.consumer"),ga=Symbol.for("react.context"),K_=Symbol.for("react.forward_ref"),fS=Symbol.for("react.suspense"),pS=Symbol.for("react.suspense_list"),Q_=Symbol.for("react.memo"),qa=Symbol.for("react.lazy"),mS=Symbol.for("react.activity"),N4=Symbol.for("react.memo_cache_sentinel"),xT=Symbol.iterator;function Sd(t){return t===null||typeof t!="object"?null:(t=xT&&t[xT]||t["@@iterator"],typeof t=="function"?t:null)}var O4=Symbol.for("react.client.reference");function gS(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O4?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vu:return"Fragment";case hS:return"Profiler";case eG:return"StrictMode";case fS:return"Suspense";case pS:return"SuspenseList";case mS:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case eh:return"Portal";case ga:return t.displayName||"Context";case tG:return(t._context.displayName||"Context")+".Consumer";case K_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q_:return e=t.displayName||null,e!==null?e:gS(t.type)||"Memo";case qa:e=t._payload,t=t._init;try{return gS(t(e))}catch{}}return null}var th=Array.isArray,se=JV.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ue=k4.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$o={pending:!1,data:null,method:null,action:null},yS=[],bu=-1;function Di(t){return{current:t}}function Kt(t){0>bu||(t.current=yS[bu],yS[bu]=null,bu--)}function nt(t,e){bu++,yS[bu]=t.current,t.current=e}var Ui=Di(null),qh=Di(null),Ls=Di(null),y0=Di(null);function v0(t,e){switch(nt(Ls,e),nt(qh,t),nt(Ui,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?NR(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=NR(e),t=S5(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Kt(Ui),nt(Ui,t)}function xc(){Kt(Ui),Kt(qh),Kt(Ls)}function vS(t){t.memoizedState!==null&&nt(y0,t);var e=Ui.current,n=S5(e,t.type);e!==n&&(nt(qh,t),nt(Ui,n))}function b0(t){qh.current===t&&(Kt(Ui),Kt(qh)),y0.current===t&&(Kt(y0),df._currentValue=$o)}var xb,_T;function bo(t){if(xb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xb=e&&e[1]||"",_T=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xb+t+_T}var _b=!1;function Cb(t,e){if(!t||_b)return"";_b=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var f=p}Reflect.construct(t,[],d)}else{try{d.call()}catch(p){f=p}t.call(d.prototype)}}else{try{throw Error()}catch(p){f=p}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&f&&typeof p.stack=="string")return[p.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{_b=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?bo(n):""}function I4(t,e){switch(t.tag){case 26:case 27:case 5:return bo(t.type);case 16:return bo("Lazy");case 13:return t.child!==e&&e!==null?bo("Suspense Fallback"):bo("Suspense");case 19:return bo("SuspenseList");case 0:case 15:return Cb(t.type,!1);case 11:return Cb(t.type.render,!1);case 1:return Cb(t.type,!0);case 31:return bo("Activity");default:return""}}function CT(t){try{var e="",n=null;do e+=I4(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var bS=Object.prototype.hasOwnProperty,q_=zt.unstable_scheduleCallback,kb=zt.unstable_cancelCallback,L4=zt.unstable_shouldYield,Z4=zt.unstable_requestPaint,hr=zt.unstable_now,V4=zt.unstable_getCurrentPriorityLevel,nG=zt.unstable_ImmediatePriority,rG=zt.unstable_UserBlockingPriority,w0=zt.unstable_NormalPriority,G4=zt.unstable_LowPriority,iG=zt.unstable_IdlePriority,A4=zt.log,M4=zt.unstable_setDisableYieldValue,vp=null,fr=null;function xs(t){if(typeof A4=="function"&&M4(t),fr&&typeof fr.setStrictMode=="function")try{fr.setStrictMode(vp,t)}catch{}}var pr=Math.clz32?Math.clz32:W4,X4=Math.log,U4=Math.LN2;function W4(t){return t>>>=0,t===0?32:31-(X4(t)/U4|0)|0}var Qp=256,qp=262144,em=4194304;function wo(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fv(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=wo(r):(s&=o,s!==0?i=wo(s):n||(n=o&~t,n!==0&&(i=wo(n))))):(o=r&~a,o!==0?i=wo(o):s!==0?i=wo(s):n||(n=r&~t,n!==0&&(i=wo(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function bp(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function P4(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aG(){var t=em;return em<<=1,!(em&62914560)&&(em=4194304),t}function Tb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wp(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function z4(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=s&~n;0<n;){var c=31-pr(n),d=1<<c;o[c]=0,l[c]=-1;var f=u[c];if(f!==null)for(u[c]=null,c=0;c<f.length;c++){var p=f[c];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&sG(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function sG(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-pr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function oG(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function lG(t,e){var n=e&-e;return n=n&42?1:e2(n),n&(t.suspendedLanes|e)?0:n}function e2(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function t2(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function uG(){var t=Ue.p;return t!==0?t:(t=window.event,t===void 0?32:L5(t.type))}function kT(t,e){var n=Ue.p;try{return Ue.p=t,e()}finally{Ue.p=n}}var so=Math.random().toString(36).slice(2),rn="__reactFiber$"+so,er="__reactProps$"+so,ad="__reactContainer$"+so,wS="__reactEvents$"+so,D4="__reactListeners$"+so,j4="__reactHandles$"+so,TT="__reactResources$"+so,Sp="__reactMarker$"+so;function n2(t){delete t[rn],delete t[er],delete t[wS],delete t[D4],delete t[j4]}function wu(t){var e=t[rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ad]||n[rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VR(t);t!==null;){if(n=t[rn])return n;t=VR(t)}return e}t=n,n=t.parentNode}return null}function sd(t){if(t=t[rn]||t[ad]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function nh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function Hu(t){var e=t[TT];return e||(e=t[TT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function $t(t){t[Sp]=!0}var cG=new Set,dG={};function Rl(t,e){_c(t,e),_c(t+"Capture",e)}function _c(t,e){for(dG[t]=e,t=0;t<e.length;t++)cG.add(e[t])}var B4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),RT={},NT={};function F4(t){return bS.call(NT,t)?!0:bS.call(RT,t)?!1:B4.test(t)?NT[t]=!0:(RT[t]=!0,!1)}function Cg(t,e,n){if(F4(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function tm(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Hi(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Nr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hG(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H4(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function SS(t){if(!t._valueTracker){var e=hG(t)?"checked":"value";t._valueTracker=H4(t,e,""+t[e])}}function fG(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hG(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function S0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Y4=/[\n"\\]/g;function Vr(t){return t.replace(Y4,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ES(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Nr(e)):t.value!==""+Nr(e)&&(t.value=""+Nr(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?xS(t,s,Nr(e)):n!=null?xS(t,s,Nr(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Nr(o):t.removeAttribute("name")}function pG(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){SS(t);return}n=n!=null?""+Nr(n):"",e=e!=null?""+Nr(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),SS(t)}function xS(t,e,n){e==="number"&&S0(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Yu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mG(t,e,n){if(e!=null&&(e=""+Nr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Nr(n):""}function gG(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(U(92));if(th(r)){if(1<r.length)throw Error(U(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Nr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),SS(t)}function Cc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var J4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function OT(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||J4.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function yG(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&OT(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&OT(t,a,e[a])}function r2(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),K4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kg(t){return K4.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ya(){}var _S=null;function i2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Su=null,Ju=null;function IT(t){var e=sd(t);if(e&&(t=e.stateNode)){var n=t[er]||null;e:switch(t=e.stateNode,e.type){case"input":if(ES(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Vr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[er]||null;if(!i)throw Error(U(90));ES(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&fG(r)}break e;case"textarea":mG(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Yu(t,!!n.multiple,e,!1)}}}var Rb=!1;function vG(t,e,n){if(Rb)return t(e,n);Rb=!0;try{var r=t(e);return r}finally{if(Rb=!1,(Su!==null||Ju!==null)&&(Cv(),Su&&(e=Su,t=Ju,Ju=Su=null,IT(e),t)))for(e=0;e<t.length;e++)IT(t[e])}}function ef(t,e){var n=t.stateNode;if(n===null)return null;var r=n[er]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CS=!1;if(Ra)try{var Ed={};Object.defineProperty(Ed,"passive",{get:function(){CS=!0}}),window.addEventListener("test",Ed,Ed),window.removeEventListener("test",Ed,Ed)}catch{CS=!1}var _s=null,a2=null,Tg=null;function bG(){if(Tg)return Tg;var t,e=a2,n=e.length,r,i="value"in _s?_s.value:_s.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Tg=i.slice(t,1<r?1-r:void 0)}function Rg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nm(){return!0}function LT(){return!1}function tr(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?nm:LT,this.isPropagationStopped=LT,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nm)},persist:function(){},isPersistent:nm}),e}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pv=tr(Nl),Ep=ut({},Nl,{view:0,detail:0}),Q4=tr(Ep),Nb,Ob,xd,mv=ut({},Ep,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xd&&(xd&&t.type==="mousemove"?(Nb=t.screenX-xd.screenX,Ob=t.screenY-xd.screenY):Ob=Nb=0,xd=t),Nb)},movementY:function(t){return"movementY"in t?t.movementY:Ob}}),ZT=tr(mv),q4=ut({},mv,{dataTransfer:0}),ej=tr(q4),tj=ut({},Ep,{relatedTarget:0}),Ib=tr(tj),nj=ut({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),rj=tr(nj),ij=ut({},Nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aj=tr(ij),sj=ut({},Nl,{data:0}),VT=tr(sj),oj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uj[t])?!!e[t]:!1}function s2(){return cj}var dj=ut({},Ep,{key:function(t){if(t.key){var e=oj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s2,charCode:function(t){return t.type==="keypress"?Rg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hj=tr(dj),fj=ut({},mv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GT=tr(fj),pj=ut({},Ep,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s2}),mj=tr(pj),gj=ut({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),yj=tr(gj),vj=ut({},mv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bj=tr(vj),wj=ut({},Nl,{newState:0,oldState:0}),Sj=tr(wj),Ej=[9,13,27,32],o2=Ra&&"CompositionEvent"in window,ph=null;Ra&&"documentMode"in document&&(ph=document.documentMode);var xj=Ra&&"TextEvent"in window&&!ph,wG=Ra&&(!o2||ph&&8<ph&&11>=ph),AT=String.fromCharCode(32),MT=!1;function SG(t,e){switch(t){case"keyup":return Ej.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EG(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eu=!1;function _j(t,e){switch(t){case"compositionend":return EG(e);case"keypress":return e.which!==32?null:(MT=!0,AT);case"textInput":return t=e.data,t===AT&&MT?null:t;default:return null}}function Cj(t,e){if(Eu)return t==="compositionend"||!o2&&SG(t,e)?(t=bG(),Tg=a2=_s=null,Eu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wG&&e.locale!=="ko"?null:e.data;default:return null}}var kj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kj[t.type]:e==="textarea"}function xG(t,e,n,r){Su?Ju?Ju.push(r):Ju=[r]:Su=r,e=U0(e,"onChange"),0<e.length&&(n=new pv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mh=null,tf=null;function Tj(t){v5(t,0)}function gv(t){var e=nh(t);if(fG(e))return t}function UT(t,e){if(t==="change")return e}var _G=!1;if(Ra){var Lb;if(Ra){var Zb="oninput"in document;if(!Zb){var WT=document.createElement("div");WT.setAttribute("oninput","return;"),Zb=typeof WT.oninput=="function"}Lb=Zb}else Lb=!1;_G=Lb&&(!document.documentMode||9<document.documentMode)}function PT(){mh&&(mh.detachEvent("onpropertychange",CG),tf=mh=null)}function CG(t){if(t.propertyName==="value"&&gv(tf)){var e=[];xG(e,tf,t,i2(t)),vG(Tj,e)}}function Rj(t,e,n){t==="focusin"?(PT(),mh=e,tf=n,mh.attachEvent("onpropertychange",CG)):t==="focusout"&&PT()}function Nj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gv(tf)}function Oj(t,e){if(t==="click")return gv(e)}function Ij(t,e){if(t==="input"||t==="change")return gv(e)}function Lj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vr=typeof Object.is=="function"?Object.is:Lj;function nf(t,e){if(vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bS.call(e,i)||!vr(t[i],e[i]))return!1}return!0}function zT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DT(t,e){var n=zT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zT(n)}}function kG(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kG(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TG(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=S0(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=S0(t.document)}return e}function l2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Zj=Ra&&"documentMode"in document&&11>=document.documentMode,xu=null,kS=null,gh=null,TS=!1;function jT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;TS||xu==null||xu!==S0(r)||(r=xu,"selectionStart"in r&&l2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gh&&nf(gh,r)||(gh=r,r=U0(kS,"onSelect"),0<r.length&&(e=new pv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xu)))}function go(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _u={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionrun:go("Transition","TransitionRun"),transitionstart:go("Transition","TransitionStart"),transitioncancel:go("Transition","TransitionCancel"),transitionend:go("Transition","TransitionEnd")},Vb={},RG={};Ra&&(RG=document.createElement("div").style,"AnimationEvent"in window||(delete _u.animationend.animation,delete _u.animationiteration.animation,delete _u.animationstart.animation),"TransitionEvent"in window||delete _u.transitionend.transition);function Ol(t){if(Vb[t])return Vb[t];if(!_u[t])return t;var e=_u[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RG)return Vb[t]=e[n];return t}var NG=Ol("animationend"),OG=Ol("animationiteration"),IG=Ol("animationstart"),Vj=Ol("transitionrun"),Gj=Ol("transitionstart"),Aj=Ol("transitioncancel"),LG=Ol("transitionend"),ZG=new Map,RS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");RS.push("scrollEnd");function yi(t,e){ZG.set(t,e),Rl(e,[t])}var E0=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Tr=[],Cu=0,u2=0;function yv(){for(var t=Cu,e=u2=Cu=0;e<t;){var n=Tr[e];Tr[e++]=null;var r=Tr[e];Tr[e++]=null;var i=Tr[e];Tr[e++]=null;var a=Tr[e];if(Tr[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&VG(n,i,a)}}function vv(t,e,n,r){Tr[Cu++]=t,Tr[Cu++]=e,Tr[Cu++]=n,Tr[Cu++]=r,u2|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function c2(t,e,n,r){return vv(t,e,n,r),x0(t)}function Il(t,e){return vv(t,null,null,e),x0(t)}function VG(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-pr(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function x0(t){if(50<Ch)throw Ch=0,JS=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ku={};function Mj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new Mj(t,e,n,r)}function d2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ea(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function GG(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ng(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")d2(t)&&(s=1);else if(typeof t=="string")s=zB(t,n,Ui.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case mS:return t=sr(31,n,e,i),t.elementType=mS,t.lanes=a,t;case vu:return Ko(n.children,i,a,e);case eG:s=8,i|=24;break;case hS:return t=sr(12,n,e,i|2),t.elementType=hS,t.lanes=a,t;case fS:return t=sr(13,n,e,i),t.elementType=fS,t.lanes=a,t;case pS:return t=sr(19,n,e,i),t.elementType=pS,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ga:s=10;break e;case tG:s=9;break e;case K_:s=11;break e;case Q_:s=14;break e;case qa:s=16,r=null;break e}s=29,n=Error(U(130,t===null?"null":typeof t,"")),r=null}return e=sr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ko(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function Gb(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function AG(t){var e=sr(18,null,null,0);return e.stateNode=t,e}function Ab(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var BT=new WeakMap;function Gr(t,e){if(typeof t=="object"&&t!==null){var n=BT.get(t);return n!==void 0?n:(e={value:t,source:e,stack:CT(e)},BT.set(t,e),e)}return{value:t,source:e,stack:CT(e)}}var Tu=[],Ru=0,_0=null,rf=0,Or=[],Ir=0,Ks=null,Vi=1,Gi="";function oa(t,e){Tu[Ru++]=rf,Tu[Ru++]=_0,_0=t,rf=e}function MG(t,e,n){Or[Ir++]=Vi,Or[Ir++]=Gi,Or[Ir++]=Ks,Ks=t;var r=Vi;t=Gi;var i=32-pr(r)-1;r&=~(1<<i),n+=1;var a=32-pr(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Vi=1<<32-pr(e)+i|n<<i|r,Gi=a+t}else Vi=1<<a|n<<i|r,Gi=t}function h2(t){t.return!==null&&(oa(t,1),MG(t,1,0))}function f2(t){for(;t===_0;)_0=Tu[--Ru],Tu[Ru]=null,rf=Tu[--Ru],Tu[Ru]=null;for(;t===Ks;)Ks=Or[--Ir],Or[Ir]=null,Gi=Or[--Ir],Or[Ir]=null,Vi=Or[--Ir],Or[Ir]=null}function XG(t,e){Or[Ir++]=Vi,Or[Ir++]=Gi,Or[Ir++]=Ks,Vi=e.id,Gi=e.overflow,Ks=t}var an=null,at=null,Le=!1,Zs=null,Ar=!1,NS=Error(U(519));function Qs(t){var e=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw af(Gr(e,t)),NS}function FT(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[rn]=t,e[er]=r,n){case"dialog":Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":case"embed":Ee("load",e);break;case"video":case"audio":for(n=0;n<uf.length;n++)Ee(uf[n],e);break;case"source":Ee("error",e);break;case"img":case"image":case"link":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"input":Ee("invalid",e),pG(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ee("invalid",e);break;case"textarea":Ee("invalid",e),gG(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||w5(e.textContent,n)?(r.popover!=null&&(Ee("beforetoggle",e),Ee("toggle",e)),r.onScroll!=null&&Ee("scroll",e),r.onScrollEnd!=null&&Ee("scrollend",e),r.onClick!=null&&(e.onclick=ya),e=!0):e=!1,e||Qs(t,!0)}function HT(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:an=an.return}}function Yl(t){if(t!==an)return!1;if(!Le)return HT(t),Le=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||eE(t.type,t.memoizedProps)),n=!n),n&&at&&Qs(t),HT(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));at=ZR(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));at=ZR(t)}else e===27?(e=at,oo(t.type)?(t=iE,iE=null,at=t):at=e):at=an?Pr(t.stateNode.nextSibling):null;return!0}function cl(){at=an=null,Le=!1}function Mb(){var t=Zs;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),Zs=null),t}function af(t){Zs===null?Zs=[t]:Zs.push(t)}var OS=Di(null),Ll=null,va=null;function as(t,e,n){nt(OS,e._currentValue),e._currentValue=n}function xa(t){t._currentValue=OS.current,Kt(OS)}function IS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function LS(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),IS(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),IS(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function od(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(U(387));if(s=s.memoizedProps,s!==null){var o=i.type;vr(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===y0.current){if(s=i.alternate,s===null)throw Error(U(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(df):t=[df])}i=i.return}t!==null&&LS(e,t,n,r),e.flags|=262144}function C0(t){for(t=t.firstContext;t!==null;){if(!vr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function dl(t){Ll=t,va=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return UG(Ll,t)}function rm(t,e){return Ll===null&&dl(t),UG(t,e)}function UG(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},va===null){if(t===null)throw Error(U(308));va=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else va=va.next=e;return n}var Xj=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Uj=zt.unstable_scheduleCallback,Wj=zt.unstable_NormalPriority,It={$$typeof:ga,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function p2(){return{controller:new Xj,data:new Map,refCount:0}}function xp(t){t.refCount--,t.refCount===0&&Uj(Wj,function(){t.controller.abort()})}var yh=null,ZS=0,kc=0,$u=null;function Pj(t,e){if(yh===null){var n=yh=[];ZS=0,kc=U2(),$u={status:"pending",value:void 0,then:function(r){n.push(r)}}}return ZS++,e.then(YT,YT),e}function YT(){if(--ZS===0&&yh!==null){$u!==null&&($u.status="fulfilled");var t=yh;yh=null,kc=0,$u=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function zj(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var JT=se.S;se.S=function(t,e){qA=hr(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Pj(t,e),JT!==null&&JT(t,e)};var Qo=Di(null);function m2(){var t=Qo.current;return t!==null?t:$e.pooledCache}function Og(t,e){e===null?nt(Qo,Qo.current):nt(Qo,e.pool)}function WG(){var t=m2();return t===null?null:{parent:It._currentValue,pool:t}}var ld=Error(U(460)),g2=Error(U(474)),bv=Error(U(542)),k0={then:function(){}};function $T(t){return t=t.status,t==="fulfilled"||t==="rejected"}function PG(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ya,ya),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,QT(t),t;default:if(typeof e.status=="string")e.then(ya,ya);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,QT(t),t}throw qo=e,ld}}function So(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(qo=n,ld):n}}var qo=null;function KT(){if(qo===null)throw Error(U(459));var t=qo;return qo=null,t}function QT(t){if(t===ld||t===bv)throw Error(U(483))}var Ku=null,sf=0;function im(t){var e=sf;return sf+=1,Ku===null&&(Ku=[]),PG(Ku,t,e)}function _d(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function am(t,e){throw e.$$typeof===R4?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function zG(t){function e(y,g){if(t){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(y,g){return y=Ea(y,g),y.index=0,y.sibling=null,y}function a(y,g,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=67108866,g):b):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function s(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,g,b,w){return g===null||g.tag!==6?(g=Gb(b,y.mode,w),g.return=y,g):(g=i(g,b),g.return=y,g)}function l(y,g,b,w){var E=b.type;return E===vu?c(y,g,b.props.children,w,b.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===qa&&So(E)===g.type)?(g=i(g,b.props),_d(g,b),g.return=y,g):(g=Ng(b.type,b.key,b.props,null,y.mode,w),_d(g,b),g.return=y,g)}function u(y,g,b,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Ab(b,y.mode,w),g.return=y,g):(g=i(g,b.children||[]),g.return=y,g)}function c(y,g,b,w,E){return g===null||g.tag!==7?(g=Ko(b,y.mode,w,E),g.return=y,g):(g=i(g,b),g.return=y,g)}function d(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Gb(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Kp:return b=Ng(g.type,g.key,g.props,null,y.mode,b),_d(b,g),b.return=y,b;case eh:return g=Ab(g,y.mode,b),g.return=y,g;case qa:return g=So(g),d(y,g,b)}if(th(g)||Sd(g))return g=Ko(g,y.mode,b,null),g.return=y,g;if(typeof g.then=="function")return d(y,im(g),b);if(g.$$typeof===ga)return d(y,rm(y,g),b);am(y,g)}return null}function f(y,g,b,w){var E=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return E!==null?null:o(y,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kp:return b.key===E?l(y,g,b,w):null;case eh:return b.key===E?u(y,g,b,w):null;case qa:return b=So(b),f(y,g,b,w)}if(th(b)||Sd(b))return E!==null?null:c(y,g,b,w,null);if(typeof b.then=="function")return f(y,g,im(b),w);if(b.$$typeof===ga)return f(y,g,rm(y,b),w);am(y,b)}return null}function p(y,g,b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return y=y.get(b)||null,o(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kp:return y=y.get(w.key===null?b:w.key)||null,l(g,y,w,E);case eh:return y=y.get(w.key===null?b:w.key)||null,u(g,y,w,E);case qa:return w=So(w),p(y,g,b,w,E)}if(th(w)||Sd(w))return y=y.get(b)||null,c(g,y,w,E,null);if(typeof w.then=="function")return p(y,g,b,im(w),E);if(w.$$typeof===ga)return p(y,g,b,rm(g,w),E);am(g,w)}return null}function v(y,g,b,w){for(var E=null,_=null,C=g,k=g=0,x=null;C!==null&&k<b.length;k++){C.index>k?(x=C,C=null):x=C.sibling;var T=f(y,C,b[k],w);if(T===null){C===null&&(C=x);break}t&&C&&T.alternate===null&&e(y,C),g=a(T,g,k),_===null?E=T:_.sibling=T,_=T,C=x}if(k===b.length)return n(y,C),Le&&oa(y,k),E;if(C===null){for(;k<b.length;k++)C=d(y,b[k],w),C!==null&&(g=a(C,g,k),_===null?E=C:_.sibling=C,_=C);return Le&&oa(y,k),E}for(C=r(C);k<b.length;k++)x=p(C,y,k,b[k],w),x!==null&&(t&&x.alternate!==null&&C.delete(x.key===null?k:x.key),g=a(x,g,k),_===null?E=x:_.sibling=x,_=x);return t&&C.forEach(function(A){return e(y,A)}),Le&&oa(y,k),E}function m(y,g,b,w){if(b==null)throw Error(U(151));for(var E=null,_=null,C=g,k=g=0,x=null,T=b.next();C!==null&&!T.done;k++,T=b.next()){C.index>k?(x=C,C=null):x=C.sibling;var A=f(y,C,T.value,w);if(A===null){C===null&&(C=x);break}t&&C&&A.alternate===null&&e(y,C),g=a(A,g,k),_===null?E=A:_.sibling=A,_=A,C=x}if(T.done)return n(y,C),Le&&oa(y,k),E;if(C===null){for(;!T.done;k++,T=b.next())T=d(y,T.value,w),T!==null&&(g=a(T,g,k),_===null?E=T:_.sibling=T,_=T);return Le&&oa(y,k),E}for(C=r(C);!T.done;k++,T=b.next())T=p(C,y,k,T.value,w),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?k:T.key),g=a(T,g,k),_===null?E=T:_.sibling=T,_=T);return t&&C.forEach(function(M){return e(y,M)}),Le&&oa(y,k),E}function S(y,g,b,w){if(typeof b=="object"&&b!==null&&b.type===vu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Kp:e:{for(var E=b.key;g!==null;){if(g.key===E){if(E=b.type,E===vu){if(g.tag===7){n(y,g.sibling),w=i(g,b.props.children),w.return=y,y=w;break e}}else if(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===qa&&So(E)===g.type){n(y,g.sibling),w=i(g,b.props),_d(w,b),w.return=y,y=w;break e}n(y,g);break}else e(y,g);g=g.sibling}b.type===vu?(w=Ko(b.props.children,y.mode,w,b.key),w.return=y,y=w):(w=Ng(b.type,b.key,b.props,null,y.mode,w),_d(w,b),w.return=y,y=w)}return s(y);case eh:e:{for(E=b.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(y,g.sibling),w=i(g,b.children||[]),w.return=y,y=w;break e}else{n(y,g);break}else e(y,g);g=g.sibling}w=Ab(b,y.mode,w),w.return=y,y=w}return s(y);case qa:return b=So(b),S(y,g,b,w)}if(th(b))return v(y,g,b,w);if(Sd(b)){if(E=Sd(b),typeof E!="function")throw Error(U(150));return b=E.call(b),m(y,g,b,w)}if(typeof b.then=="function")return S(y,g,im(b),w);if(b.$$typeof===ga)return S(y,g,rm(y,b),w);am(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,g!==null&&g.tag===6?(n(y,g.sibling),w=i(g,b),w.return=y,y=w):(n(y,g),w=Gb(b,y.mode,w),w.return=y,y=w),s(y)):n(y,g)}return function(y,g,b,w){try{sf=0;var E=S(y,g,b,w);return Ku=null,E}catch(C){if(C===ld||C===bv)throw C;var _=sr(29,C,null,y.mode);return _.lanes=w,_.return=y,_}finally{}}}var hl=zG(!0),DG=zG(!1),es=!1;function y2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function VS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=x0(t),VG(t,null,n),e}return vv(t,r,e,n),x0(t)}function vh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oG(t,n)}}function Xb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var GS=!1;function bh(){if(GS){var t=$u;if(t!==null)throw t}}function wh(t,e,n,r){GS=!1;var i=t.updateQueue;es=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var f=o.lane&-536870913,p=f!==o.lane;if(p?(Te&f)===f:(r&f)===f){f!==0&&f===kc&&(GS=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var v=t,m=o;f=e;var S=n;switch(m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(S,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(S,d,f):v,f==null)break e;d=ut({},d,f);break e;case 2:es=!0}}f=o.callback,f!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),eo|=s,t.lanes=s,t.memoizedState=d}}function jG(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function BG(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)jG(n[t],e)}var Tc=Di(null),T0=Di(0);function qT(t,e){t=La,nt(T0,t),nt(Tc,e),La=t|e.baseLanes}function AS(){nt(T0,La),nt(Tc,Tc.current)}function v2(){La=T0.current,Kt(Tc),Kt(T0)}var br=Di(null),Wr=null;function ss(t){var e=t.alternate;nt(Ct,Ct.current&1),nt(br,t),Wr===null&&(e===null||Tc.current!==null||e.memoizedState!==null)&&(Wr=t)}function MS(t){nt(Ct,Ct.current),nt(br,t),Wr===null&&(Wr=t)}function FG(t){t.tag===22?(nt(Ct,Ct.current),nt(br,t),Wr===null&&(Wr=t)):os()}function os(){nt(Ct,Ct.current),nt(br,br.current)}function ar(t){Kt(br),Wr===t&&(Wr=null),Kt(Ct)}var Ct=Di(0);function R0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||nE(n)||rE(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Na=0,fe=null,Fe=null,Nt=null,N0=!1,Qu=!1,fl=!1,O0=0,of=0,qu=null,Dj=0;function vt(){throw Error(U(321))}function b2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vr(t[n],e[n]))return!1;return!0}function w2(t,e,n,r,i,a){return Na=a,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,se.H=t===null||t.memoizedState===null?xA:I2,fl=!1,a=n(r,i),fl=!1,Qu&&(a=YG(e,n,r,i)),HG(t),a}function HG(t){se.H=lf;var e=Fe!==null&&Fe.next!==null;if(Na=0,Nt=Fe=fe=null,N0=!1,of=0,qu=null,e)throw Error(U(300));t===null||Zt||(t=t.dependencies,t!==null&&C0(t)&&(Zt=!0))}function YG(t,e,n,r){fe=t;var i=0;do{if(Qu&&(qu=null),of=0,Qu=!1,25<=i)throw Error(U(301));if(i+=1,Nt=Fe=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}se.H=_A,a=e(n,r)}while(Qu);return a}function jj(){var t=se.H,e=t.useState()[0];return e=typeof e.then=="function"?_p(e):e,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(fe.flags|=1024),e}function S2(){var t=O0!==0;return O0=0,t}function E2(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function x2(t){if(N0){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}N0=!1}Na=0,Nt=Fe=fe=null,Qu=!1,of=O0=0,qu=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?fe.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function kt(){if(Fe===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=Nt===null?fe.memoizedState:Nt.next;if(e!==null)Nt=e,Fe=t;else{if(t===null)throw fe.alternate===null?Error(U(467)):Error(U(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Nt===null?fe.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function wv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _p(t){var e=of;return of+=1,qu===null&&(qu=[]),t=PG(qu,t,e),e=fe,(Nt===null?e.memoizedState:Nt.next)===null&&(e=e.alternate,se.H=e===null||e.memoizedState===null?xA:I2),t}function Sv(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _p(t);if(t.$$typeof===ga)return sn(t)}throw Error(U(438,String(t)))}function _2(t){var e=null,n=fe.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=fe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=wv(),fe.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=N4;return e.index++,n}function Oa(t,e){return typeof e=="function"?e(t):e}function Ig(t){var e=kt();return C2(e,Fe,t)}function C2(t,e,n){var r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,l=null,u=e,c=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Te&d)===d:(Na&d)===d){var f=u.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===kc&&(c=!0);else if((Na&f)===f){u=u.next,f===kc&&(c=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=d,s=a):l=l.next=d,fe.lanes|=f,eo|=f;d=u.action,fl&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,fe.lanes|=d,eo|=d;u=u.next}while(u!==null&&u!==e);if(l===null?s=a:l.next=o,!vr(a,t.memoizedState)&&(Zt=!0,c&&(n=$u,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Ub(t){var e=kt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);vr(a,e.memoizedState)||(Zt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function JG(t,e,n){var r=fe,i=kt(),a=Le;if(a){if(n===void 0)throw Error(U(407));n=n()}else n=e();var s=!vr((Fe||i).memoizedState,n);if(s&&(i.memoizedState=n,Zt=!0),i=i.queue,k2(QG.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,Rc(9,{destroy:void 0},KG.bind(null,r,i,n,e),null),$e===null)throw Error(U(349));a||Na&127||$G(r,e,n)}return n}function $G(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fe.updateQueue,e===null?(e=wv(),fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KG(t,e,n,r){e.value=n,e.getSnapshot=r,qG(e)&&eA(t)}function QG(t,e,n){return n(function(){qG(e)&&eA(t)})}function qG(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vr(t,n)}catch{return!0}}function eA(t){var e=Il(t,2);e!==null&&$n(e,t,2)}function XS(t){var e=xn();if(typeof t=="function"){var n=t;if(t=n(),fl){xs(!0);try{n()}finally{xs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:t},e}function tA(t,e,n,r){return t.baseState=n,C2(t,Fe,typeof r=="function"?r:Oa)}function Bj(t,e,n,r,i){if(xv(t))throw Error(U(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};se.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,nA(e,a)):(a.next=n.next,e.pending=n.next=a)}}function nA(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=se.T,s={};se.T=s;try{var o=n(i,r),l=se.S;l!==null&&l(s,o),eR(t,e,o)}catch(u){US(t,e,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),se.T=a}}else try{a=n(i,r),eR(t,e,a)}catch(u){US(t,e,u)}}function eR(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){tR(t,e,r)},function(r){return US(t,e,r)}):tR(t,e,n)}function tR(t,e,n){e.status="fulfilled",e.value=n,rA(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,nA(t,n)))}function US(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,rA(e),e=e.next;while(e!==r)}t.action=null}function rA(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function iA(t,e){return e}function nR(t,e){if(Le){var n=$e.formState;if(n!==null){e:{var r=fe;if(Le){if(at){t:{for(var i=at,a=Ar;i.nodeType!==8;){if(!a){i=null;break t}if(i=Pr(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){at=Pr(i.nextSibling),r=i.data==="F!";break e}}Qs(r)}r=!1}r&&(e=n[0])}}return n=xn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iA,lastRenderedState:e},n.queue=r,n=wA.bind(null,fe,r),r.dispatch=n,r=XS(!1),a=O2.bind(null,fe,!1,r.queue),r=xn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=Bj.bind(null,fe,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function rR(t){var e=kt();return aA(e,Fe,t)}function aA(t,e,n){if(e=C2(t,e,iA)[0],t=Ig(Oa)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=_p(e)}catch(s){throw s===ld?bv:s}else r=e;e=kt();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(fe.flags|=2048,Rc(9,{destroy:void 0},Fj.bind(null,i,n),null)),[r,a,t]}function Fj(t,e){t.action=e}function iR(t){var e=kt(),n=Fe;if(n!==null)return aA(e,n,t);kt(),e=e.memoizedState,n=kt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Rc(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=fe.updateQueue,e===null&&(e=wv(),fe.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function sA(){return kt().memoizedState}function Lg(t,e,n,r){var i=xn();fe.flags|=t,i.memoizedState=Rc(1|e,{destroy:void 0},n,r===void 0?null:r)}function Ev(t,e,n,r){var i=kt();r=r===void 0?null:r;var a=i.memoizedState.inst;Fe!==null&&r!==null&&b2(r,Fe.memoizedState.deps)?i.memoizedState=Rc(e,a,n,r):(fe.flags|=t,i.memoizedState=Rc(1|e,a,n,r))}function aR(t,e){Lg(8390656,8,t,e)}function k2(t,e){Ev(2048,8,t,e)}function Hj(t){fe.flags|=4;var e=fe.updateQueue;if(e===null)e=wv(),fe.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function oA(t){var e=kt().memoizedState;return Hj({ref:e,nextImpl:t}),function(){if(Xe&2)throw Error(U(440));return e.impl.apply(void 0,arguments)}}function lA(t,e){return Ev(4,2,t,e)}function uA(t,e){return Ev(4,4,t,e)}function cA(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dA(t,e,n){n=n!=null?n.concat([t]):null,Ev(4,4,cA.bind(null,e,t),n)}function T2(){}function hA(t,e){var n=kt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&b2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fA(t,e){var n=kt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&b2(e,r[1]))return r[0];if(r=t(),fl){xs(!0);try{t()}finally{xs(!1)}}return n.memoizedState=[r,e],r}function R2(t,e,n){return n===void 0||Na&1073741824&&!(Te&261930)?t.memoizedState=e:(t.memoizedState=n,t=t5(),fe.lanes|=t,eo|=t,n)}function pA(t,e,n,r){return vr(n,e)?n:Tc.current!==null?(t=R2(t,n,r),vr(t,e)||(Zt=!0),t):!(Na&42)||Na&1073741824&&!(Te&261930)?(Zt=!0,t.memoizedState=n):(t=t5(),fe.lanes|=t,eo|=t,e)}function mA(t,e,n,r,i){var a=Ue.p;Ue.p=a!==0&&8>a?a:8;var s=se.T,o={};se.T=o,O2(t,!1,e,n);try{var l=i(),u=se.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=zj(l,r);Sh(t,e,c,mr(t))}else Sh(t,e,r,mr(t))}catch(d){Sh(t,e,{then:function(){},status:"rejected",reason:d},mr())}finally{Ue.p=a,s!==null&&o.types!==null&&(s.types=o.types),se.T=s}}function Yj(){}function WS(t,e,n,r){if(t.tag!==5)throw Error(U(476));var i=gA(t).queue;mA(t,i,e,$o,n===null?Yj:function(){return yA(t),n(r)})}function gA(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:$o,baseState:$o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:$o},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function yA(t){var e=gA(t);e.next===null&&(e=t.alternate.memoizedState),Sh(t,e.next.queue,{},mr())}function N2(){return sn(df)}function vA(){return kt().memoizedState}function bA(){return kt().memoizedState}function Jj(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=mr();t=Vs(n);var r=Gs(e,t,n);r!==null&&($n(r,e,n),vh(r,e,n)),e={cache:p2()},t.payload=e;return}e=e.return}}function $j(t,e,n){var r=mr();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},xv(t)?SA(e,n):(n=c2(t,e,n,r),n!==null&&($n(n,t,r),EA(n,e,r)))}function wA(t,e,n){var r=mr();Sh(t,e,n,r)}function Sh(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(xv(t))SA(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,vr(o,s))return vv(t,e,i,0),$e===null&&yv(),!1}catch{}finally{}if(n=c2(t,e,i,r),n!==null)return $n(n,t,r),EA(n,e,r),!0}return!1}function O2(t,e,n,r){if(r={lane:2,revertLane:U2(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xv(t)){if(e)throw Error(U(479))}else e=c2(t,n,r,2),e!==null&&$n(e,t,2)}function xv(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function SA(t,e){Qu=N0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EA(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oG(t,n)}}var lf={readContext:sn,use:Sv,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};lf.useEffectEvent=vt;var xA={readContext:sn,use:Sv,useCallback:function(t,e){return xn().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:aR,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Lg(4194308,4,cA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lg(4194308,4,t,e)},useInsertionEffect:function(t,e){Lg(4,2,t,e)},useMemo:function(t,e){var n=xn();e=e===void 0?null:e;var r=t();if(fl){xs(!0);try{t()}finally{xs(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=xn();if(n!==void 0){var i=n(e);if(fl){xs(!0);try{n(e)}finally{xs(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=$j.bind(null,fe,t),[r.memoizedState,t]},useRef:function(t){var e=xn();return t={current:t},e.memoizedState=t},useState:function(t){t=XS(t);var e=t.queue,n=wA.bind(null,fe,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:T2,useDeferredValue:function(t,e){var n=xn();return R2(n,t,e)},useTransition:function(){var t=XS(!1);return t=mA.bind(null,fe,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=fe,i=xn();if(Le){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),$e===null)throw Error(U(349));Te&127||$G(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,aR(QG.bind(null,r,a,t),[t]),r.flags|=2048,Rc(9,{destroy:void 0},KG.bind(null,r,a,n,e),null),n},useId:function(){var t=xn(),e=$e.identifierPrefix;if(Le){var n=Gi,r=Vi;n=(r&~(1<<32-pr(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=O0++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Dj++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:N2,useFormState:nR,useActionState:nR,useOptimistic:function(t){var e=xn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=O2.bind(null,fe,!0,n),n.dispatch=e,[t,e]},useMemoCache:_2,useCacheRefresh:function(){return xn().memoizedState=Jj.bind(null,fe)},useEffectEvent:function(t){var e=xn(),n={impl:t};return e.memoizedState=n,function(){if(Xe&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},I2={readContext:sn,use:Sv,useCallback:hA,useContext:sn,useEffect:k2,useImperativeHandle:dA,useInsertionEffect:lA,useLayoutEffect:uA,useMemo:fA,useReducer:Ig,useRef:sA,useState:function(){return Ig(Oa)},useDebugValue:T2,useDeferredValue:function(t,e){var n=kt();return pA(n,Fe.memoizedState,t,e)},useTransition:function(){var t=Ig(Oa)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:_p(t),e]},useSyncExternalStore:JG,useId:vA,useHostTransitionStatus:N2,useFormState:rR,useActionState:rR,useOptimistic:function(t,e){var n=kt();return tA(n,Fe,t,e)},useMemoCache:_2,useCacheRefresh:bA};I2.useEffectEvent=oA;var _A={readContext:sn,use:Sv,useCallback:hA,useContext:sn,useEffect:k2,useImperativeHandle:dA,useInsertionEffect:lA,useLayoutEffect:uA,useMemo:fA,useReducer:Ub,useRef:sA,useState:function(){return Ub(Oa)},useDebugValue:T2,useDeferredValue:function(t,e){var n=kt();return Fe===null?R2(n,t,e):pA(n,Fe.memoizedState,t,e)},useTransition:function(){var t=Ub(Oa)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:_p(t),e]},useSyncExternalStore:JG,useId:vA,useHostTransitionStatus:N2,useFormState:iR,useActionState:iR,useOptimistic:function(t,e){var n=kt();return Fe!==null?tA(n,Fe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:_2,useCacheRefresh:bA};_A.useEffectEvent=oA;function Wb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var PS={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mr(),i=Vs(r);i.payload=e,n!=null&&(i.callback=n),e=Gs(t,i,r),e!==null&&($n(e,t,r),vh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mr(),i=Vs(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Gs(t,i,r),e!==null&&($n(e,t,r),vh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mr(),r=Vs(n);r.tag=2,e!=null&&(r.callback=e),e=Gs(t,r,n),e!==null&&($n(e,t,n),vh(e,t,n))}};function sR(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!nf(n,r)||!nf(i,a):!0}function oR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&PS.enqueueReplaceState(e,e.state,null)}function pl(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=ut({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function CA(t){E0(t)}function kA(t){console.error(t)}function TA(t){E0(t)}function I0(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function lR(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function zS(t,e,n){return n=Vs(n),n.tag=3,n.payload={element:null},n.callback=function(){I0(t,e)},n}function RA(t){return t=Vs(t),t.tag=3,t}function NA(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){lR(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){lR(e,n,r),typeof i!="function"&&(As===null?As=new Set([this]):As.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function Kj(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&od(e,n,i,!0),n=br.current,n!==null){switch(n.tag){case 31:case 13:return Wr===null?A0():n.alternate===null&&Et===0&&(Et=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===k0?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Kb(t,r,i)),!1;case 22:return n.flags|=65536,r===k0?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Kb(t,r,i)),!1}throw Error(U(435,n.tag))}return Kb(t,r,i),A0(),!1}if(Le)return e=br.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==NS&&(t=Error(U(422),{cause:r}),af(Gr(t,n)))):(r!==NS&&(e=Error(U(423),{cause:r}),af(Gr(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Gr(r,n),i=zS(t.stateNode,r,i),Xb(t,i),Et!==4&&(Et=2)),!1;var a=Error(U(520),{cause:r});if(a=Gr(a,n),_h===null?_h=[a]:_h.push(a),Et!==4&&(Et=2),e===null)return!0;r=Gr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=zS(n.stateNode,r,t),Xb(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(As===null||!As.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=RA(i),NA(i,t,n,r),Xb(n,i),!1}n=n.return}while(n!==null);return!1}var L2=Error(U(461)),Zt=!1;function en(t,e,n,r){e.child=t===null?DG(e,null,n,r):hl(e,t.child,n,r)}function uR(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return dl(e),r=w2(t,e,n,s,a,i),o=S2(),t!==null&&!Zt?(E2(t,e,i),Ia(t,e,i)):(Le&&o&&h2(e),e.flags|=1,en(t,e,r,i),e.child)}function cR(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!d2(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,OA(t,e,a,r,i)):(t=Ng(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Z2(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:nf,n(s,r)&&t.ref===e.ref)return Ia(t,e,i)}return e.flags|=1,t=Ea(a,r),t.ref=e.ref,t.return=e,e.child=t}function OA(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(nf(a,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=a,Z2(t,i))t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,Ia(t,e,i)}return DS(t,e,n,r,i)}function IA(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return dR(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Og(e,a!==null?a.cachePool:null),a!==null?qT(e,a):AS(),FG(e);else return r=e.lanes=536870912,dR(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(Og(e,a.cachePool),qT(e,a),os(),e.memoizedState=null):(t!==null&&Og(e,null),AS(),os());return en(t,e,i,n),e.child}function rh(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function dR(t,e,n,r,i){var a=m2();return a=a===null?null:{parent:It._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Og(e,null),AS(),FG(e),t!==null&&od(t,e,r,!0),e.childLanes=i,null}function Zg(t,e){return e=L0({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function hR(t,e,n){return hl(e,t.child,null,n),t=Zg(e,e.pendingProps),t.flags|=2,ar(e),e.memoizedState=null,t}function Qj(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Le){if(r.mode==="hidden")return t=Zg(e,r),e.lanes=536870912,rh(null,t);if(MS(e),(t=at)?(t=x5(t,Ar),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ks!==null?{id:Vi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},n=AG(t),n.return=e,e.child=n,an=e,at=null)):t=null,t===null)throw Qs(e);return e.lanes=536870912,null}return Zg(e,r)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(MS(e),i)if(e.flags&256)e.flags&=-257,e=hR(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(U(558));else if(Zt||od(t,e,n,!1),i=(n&t.childLanes)!==0,Zt||i){if(r=$e,r!==null&&(s=lG(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Il(t,s),$n(r,t,s),L2;A0(),e=hR(t,e,n)}else t=a.treeContext,at=Pr(s.nextSibling),an=e,Le=!0,Zs=null,Ar=!1,t!==null&&XG(e,t),e=Zg(e,r),e.flags|=4096;return e}return t=Ea(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Vg(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function DS(t,e,n,r,i){return dl(e),n=w2(t,e,n,r,void 0,i),r=S2(),t!==null&&!Zt?(E2(t,e,i),Ia(t,e,i)):(Le&&r&&h2(e),e.flags|=1,en(t,e,n,i),e.child)}function fR(t,e,n,r,i,a){return dl(e),e.updateQueue=null,n=YG(e,r,n,i),HG(t),r=S2(),t!==null&&!Zt?(E2(t,e,a),Ia(t,e,a)):(Le&&r&&h2(e),e.flags|=1,en(t,e,n,a),e.child)}function pR(t,e,n,r,i){if(dl(e),e.stateNode===null){var a=ku,s=n.contextType;typeof s=="object"&&s!==null&&(a=sn(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=PS,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},y2(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?sn(s):ku,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Wb(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&PS.enqueueReplaceState(a,a.state,null),wh(e,r,a,i),bh(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=pl(n,o);a.props=l;var u=a.context,c=n.contextType;s=ku,typeof c=="object"&&c!==null&&(s=sn(c));var d=n.getDerivedStateFromProps;c=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==s)&&oR(e,a,r,s),es=!1;var f=e.memoizedState;a.state=f,wh(e,r,a,i),bh(),u=e.memoizedState,o||f!==u||es?(typeof d=="function"&&(Wb(e,n,d,r),u=e.memoizedState),(l=es||sR(e,n,l,r,f,u,s))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,VS(t,e),s=e.memoizedProps,c=pl(n,s),a.props=c,d=e.pendingProps,f=a.context,u=n.contextType,l=ku,typeof u=="object"&&u!==null&&(l=sn(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==l)&&oR(e,a,r,l),es=!1,f=e.memoizedState,a.state=f,wh(e,r,a,i),bh();var p=e.memoizedState;s!==d||f!==p||es||t!==null&&t.dependencies!==null&&C0(t.dependencies)?(typeof o=="function"&&(Wb(e,n,o,r),p=e.memoizedState),(c=es||sR(e,n,c,r,f,p,l)||t!==null&&t.dependencies!==null&&C0(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Vg(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=hl(e,t.child,null,i),e.child=hl(e,null,n,i)):en(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Ia(t,e,i),t}function mR(t,e,n,r){return cl(),e.flags|=256,en(t,e,n,r),e.child}var Pb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zb(t){return{baseLanes:t,cachePool:WG()}}function Db(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=ur),t}function LA(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Le){if(i?ss(e):os(),(t=at)?(t=x5(t,Ar),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ks!==null?{id:Vi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},n=AG(t),n.return=e,e.child=n,an=e,at=null)):t=null,t===null)throw Qs(e);return rE(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(os(),i=e.mode,o=L0({mode:"hidden",children:o},i),r=Ko(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=zb(n),r.childLanes=Db(t,s,n),e.memoizedState=Pb,rh(null,r)):(ss(e),jS(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(ss(e),e.flags&=-257,e=jb(t,e,n)):e.memoizedState!==null?(os(),e.child=t.child,e.flags|=128,e=null):(os(),o=r.fallback,i=e.mode,r=L0({mode:"visible",children:r.children},i),o=Ko(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,hl(e,t.child,null,n),r=e.child,r.memoizedState=zb(n),r.childLanes=Db(t,s,n),e.memoizedState=Pb,e=rh(null,r));else if(ss(e),rE(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(U(419)),r.stack="",r.digest=s,af({value:r,source:null,stack:null}),e=jb(t,e,n)}else if(Zt||od(t,e,n,!1),s=(n&t.childLanes)!==0,Zt||s){if(s=$e,s!==null&&(r=lG(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Il(t,r),$n(s,t,r),L2;nE(o)||A0(),e=jb(t,e,n)}else nE(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,at=Pr(o.nextSibling),an=e,Le=!0,Zs=null,Ar=!1,t!==null&&XG(e,t),e=jS(e,r.children),e.flags|=4096);return e}return i?(os(),o=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=Ea(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=Ea(u,o):(o=Ko(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,rh(null,r),r=e.child,o=t.child.memoizedState,o===null?o=zb(n):(i=o.cachePool,i!==null?(l=It._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=WG(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=Db(t,s,n),e.memoizedState=Pb,rh(t.child,r)):(ss(e),n=t.child,t=n.sibling,n=Ea(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function jS(t,e){return e=L0({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function L0(t,e){return t=sr(22,t,null,e),t.lanes=0,t}function jb(t,e,n){return hl(e,t.child,null,n),t=jS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),IS(t.return,e,n)}function Bb(t,e,n,r,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function ZA(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Ct.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,nt(Ct,s),en(t,e,r,n),r=Le?rf:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gR(t,n,e);else if(t.tag===19)gR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&R0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bb(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&R0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bb(e,!0,n,null,a,r);break;case"together":Bb(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Ia(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),eo|=e.lanes,!(n&e.childLanes))if(t!==null){if(od(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Ea(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ea(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Z2(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&C0(t)))}function qj(t,e,n){switch(e.tag){case 3:v0(e,e.stateNode.containerInfo),as(e,It,t.memoizedState.cache),cl();break;case 27:case 5:vS(e);break;case 4:v0(e,e.stateNode.containerInfo);break;case 10:as(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,MS(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(ss(e),e.flags|=128,null):n&e.child.childLanes?LA(t,e,n):(ss(e),t=Ia(t,e,n),t!==null?t.sibling:null);ss(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(od(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return ZA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(Ct,Ct.current),r)break;return null;case 22:return e.lanes=0,IA(t,e,n,e.pendingProps);case 24:as(e,It,t.memoizedState.cache)}return Ia(t,e,n)}function VA(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Zt=!0;else{if(!Z2(t,n)&&!(e.flags&128))return Zt=!1,qj(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,Le&&e.flags&1048576&&MG(e,rf,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=So(e.elementType),e.type=t,typeof t=="function")d2(t)?(r=pl(t,r),e.tag=1,e=pR(null,e,t,r,n)):(e.tag=0,e=DS(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===K_){e.tag=11,e=uR(null,e,t,r,n);break e}else if(i===Q_){e.tag=14,e=cR(null,e,t,r,n);break e}}throw e=gS(t)||t,Error(U(306,e,""))}}return e;case 0:return DS(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=pl(r,e.pendingProps),pR(t,e,r,i,n);case 3:e:{if(v0(e,e.stateNode.containerInfo),t===null)throw Error(U(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,VS(t,e),wh(e,r,null,n);var s=e.memoizedState;if(r=s.cache,as(e,It,r),r!==a.cache&&LS(e,[It],n,!0),bh(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=mR(t,e,r,n);break e}else if(r!==i){i=Gr(Error(U(424)),e),af(i),e=mR(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Pr(t.firstChild),an=e,Le=!0,Zs=null,Ar=!0,n=DG(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(cl(),r===i){e=Ia(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 26:return Vg(t,e),t===null?(n=AR(e.type,null,e.pendingProps,null))?e.memoizedState=n:Le||(n=e.type,t=e.pendingProps,r=W0(Ls.current).createElement(n),r[rn]=e,r[er]=t,on(r,n,t),$t(r),e.stateNode=r):e.memoizedState=AR(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return vS(e),t===null&&Le&&(r=e.stateNode=_5(e.type,e.pendingProps,Ls.current),an=e,Ar=!0,i=at,oo(e.type)?(iE=i,at=Pr(r.firstChild)):at=i),en(t,e,e.pendingProps.children,n),Vg(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Le&&((i=r=at)&&(r=NB(r,e.type,e.pendingProps,Ar),r!==null?(e.stateNode=r,an=e,at=Pr(r.firstChild),Ar=!1,i=!0):i=!1),i||Qs(e)),vS(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,eE(i,a)?r=null:s!==null&&eE(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=w2(t,e,jj,null,null,n),df._currentValue=i),Vg(t,e),en(t,e,r,n),e.child;case 6:return t===null&&Le&&((t=n=at)&&(n=OB(n,e.pendingProps,Ar),n!==null?(e.stateNode=n,an=e,at=null,t=!0):t=!1),t||Qs(e)),null;case 13:return LA(t,e,n);case 4:return v0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hl(e,null,r,n):en(t,e,r,n),e.child;case 11:return uR(t,e,e.type,e.pendingProps,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,as(e,e.type,r.value),en(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,dl(e),i=sn(i),r=r(i),e.flags|=1,en(t,e,r,n),e.child;case 14:return cR(t,e,e.type,e.pendingProps,n);case 15:return OA(t,e,e.type,e.pendingProps,n);case 19:return ZA(t,e,n);case 31:return Qj(t,e,n);case 22:return IA(t,e,n,e.pendingProps);case 24:return dl(e),r=sn(It),t===null?(i=m2(),i===null&&(i=$e,a=p2(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},y2(e),as(e,It,i)):(t.lanes&n&&(VS(t,e),wh(e,null,null,n),bh()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),as(e,It,r)):(r=a.cache,as(e,It,r),r!==i.cache&&LS(e,[It],n,!0))),en(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function Yi(t){t.flags|=4}function Fb(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(i5())t.flags|=8192;else throw qo=k0,g2}else t.flags&=-16777217}function yR(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!T5(e))if(i5())t.flags|=8192;else throw qo=k0,g2}function sm(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?aG():536870912,t.lanes|=e,Nc|=e)}function Cd(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eB(t,e,n){var r=e.pendingProps;switch(f2(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return rt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),xa(It),xc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Yl(e)?Yi(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mb())),rt(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Yi(e),a!==null?(rt(e),yR(e,a)):(rt(e),Fb(e,i,null,r,n))):a?a!==t.memoizedState?(Yi(e),rt(e),yR(e,a)):(rt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Yi(e),rt(e),Fb(e,i,t,r,n)),null;case 27:if(b0(e),n=Ls.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Yi(e);else{if(!r){if(e.stateNode===null)throw Error(U(166));return rt(e),null}t=Ui.current,Yl(e)?FT(e):(t=_5(i,r,n),e.stateNode=t,Yi(e))}return rt(e),null;case 5:if(b0(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Yi(e);else{if(!r){if(e.stateNode===null)throw Error(U(166));return rt(e),null}if(a=Ui.current,Yl(e))FT(e);else{var s=W0(Ls.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[rn]=e,a[er]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(on(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Yi(e)}}return rt(e),Fb(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Yi(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(t=Ls.current,Yl(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=an,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[rn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||w5(t.nodeValue,n)),t||Qs(e,!0)}else t=W0(t).createTextNode(r),t[rn]=e,e.stateNode=t}return rt(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Yl(e),n!==null){if(t===null){if(!r)throw Error(U(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(557));t[rn]=e}else cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),t=!1}else n=Mb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(ar(e),e):(ar(e),null);if(e.flags&128)throw Error(U(558))}return rt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Yl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[rn]=e}else cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),i=!1}else i=Mb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ar(e),e):(ar(e),null)}return ar(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),sm(e,e.updateQueue),rt(e),null);case 4:return xc(),t===null&&W2(e.stateNode.containerInfo),rt(e),null;case 10:return xa(e.type),rt(e),null;case 19:if(Kt(Ct),r=e.memoizedState,r===null)return rt(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)Cd(r,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=R0(t),a!==null){for(e.flags|=128,Cd(r,!1),t=a.updateQueue,e.updateQueue=t,sm(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)GG(n,t),n=n.sibling;return nt(Ct,Ct.current&1|2),Le&&oa(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&hr()>V0&&(e.flags|=128,i=!0,Cd(r,!1),e.lanes=4194304)}else{if(!i)if(t=R0(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,sm(e,t),Cd(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Le)return rt(e),null}else 2*hr()-r.renderingStartTime>V0&&n!==536870912&&(e.flags|=128,i=!0,Cd(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=hr(),t.sibling=null,n=Ct.current,nt(Ct,i?n&1|2:n&1),Le&&oa(e,r.treeForkCount),t):(rt(e),null);case 22:case 23:return ar(e),v2(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),n=e.updateQueue,n!==null&&sm(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Kt(Qo),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),xa(It),rt(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function tB(t,e){switch(f2(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xa(It),xc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return b0(e),null;case 31:if(e.memoizedState!==null){if(ar(e),e.alternate===null)throw Error(U(340));cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(ar(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Kt(Ct),null;case 4:return xc(),null;case 10:return xa(e.type),null;case 22:case 23:return ar(e),v2(),t!==null&&Kt(Qo),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return xa(It),null;case 25:return null;default:return null}}function GA(t,e){switch(f2(e),e.tag){case 3:xa(It),xc();break;case 26:case 27:case 5:b0(e);break;case 4:xc();break;case 31:e.memoizedState!==null&&ar(e);break;case 13:ar(e);break;case 19:Kt(Ct);break;case 10:xa(e.type);break;case 22:case 23:ar(e),v2(),t!==null&&Kt(Qo);break;case 24:xa(It)}}function Cp(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){De(e,e.return,o)}}function qs(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var l=n,u=o;try{u()}catch(c){De(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){De(e,e.return,c)}}function AA(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{BG(e,n)}catch(r){De(t,t.return,r)}}}function MA(t,e,n){n.props=pl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){De(t,e,r)}}function Eh(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){De(t,e,i)}}function Ai(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){De(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){De(t,e,i)}else n.current=null}function XA(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){De(t,t.return,i)}}function Hb(t,e,n){try{var r=t.stateNode;xB(r,t.type,n,e),r[er]=e}catch(i){De(t,t.return,i)}}function UA(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&oo(t.type)||t.tag===4}function Yb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&oo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function BS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ya));else if(r!==4&&(r===27&&oo(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(BS(t,e,n),t=t.sibling;t!==null;)BS(t,e,n),t=t.sibling}function Z0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&oo(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Z0(t,e,n),t=t.sibling;t!==null;)Z0(t,e,n),t=t.sibling}function WA(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);on(e,r,n),e[rn]=t,e[er]=n}catch(a){De(t,t.return,a)}}var pa=!1,Ot=!1,Jb=!1,vR=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function nB(t,e){if(t=t.containerInfo,QS=j0,t=TG(t),l2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=s),f===a&&++c===r&&(l=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qS={focusedElem:t,selectionRange:n},j0=!1,Ht=e;Ht!==null;)if(e=Ht,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ht=t;else for(;Ht!==null;){switch(e=Ht,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var v=pl(n.type,i);t=r.getSnapshotBeforeUpdate(v,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(m){De(n,n.return,m)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)tE(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tE(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,Ht=t;break}Ht=e.return}}function PA(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$i(t,n),r&4&&Cp(5,n);break;case 1:if($i(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){De(n,n.return,s)}else{var i=pl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){De(n,n.return,s)}}r&64&&AA(n),r&512&&Eh(n,n.return);break;case 3:if($i(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{BG(t,e)}catch(s){De(n,n.return,s)}}break;case 27:e===null&&r&4&&WA(n);case 26:case 5:$i(t,n),e===null&&r&4&&XA(n),r&512&&Eh(n,n.return);break;case 12:$i(t,n);break;case 31:$i(t,n),r&4&&jA(t,n);break;case 13:$i(t,n),r&4&&BA(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=dB.bind(null,n),IB(t,n))));break;case 22:if(r=n.memoizedState!==null||pa,!r){e=e!==null&&e.memoizedState!==null||Ot,i=pa;var a=Ot;pa=r,(Ot=e)&&!a?ta(t,n,(n.subtreeFlags&8772)!==0):$i(t,n),pa=i,Ot=a}break;case 30:break;default:$i(t,n)}}function zA(t){var e=t.alternate;e!==null&&(t.alternate=null,zA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&n2(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,zn=!1;function Ji(t,e,n){for(n=n.child;n!==null;)DA(t,e,n),n=n.sibling}function DA(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(vp,n)}catch{}switch(n.tag){case 26:Ot||Ai(n,e),Ji(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ot||Ai(n,e);var r=dt,i=zn;oo(n.type)&&(dt=n.stateNode,zn=!1),Ji(t,e,n),kh(n.stateNode),dt=r,zn=i;break;case 5:Ot||Ai(n,e);case 6:if(r=dt,i=zn,dt=null,Ji(t,e,n),dt=r,zn=i,dt!==null)if(zn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(a){De(n,e,a)}else try{dt.removeChild(n.stateNode)}catch(a){De(n,e,a)}break;case 18:dt!==null&&(zn?(t=dt,IR(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Zc(t)):IR(dt,n.stateNode));break;case 4:r=dt,i=zn,dt=n.stateNode.containerInfo,zn=!0,Ji(t,e,n),dt=r,zn=i;break;case 0:case 11:case 14:case 15:qs(2,n,e),Ot||qs(4,n,e),Ji(t,e,n);break;case 1:Ot||(Ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&MA(n,e,r)),Ji(t,e,n);break;case 21:Ji(t,e,n);break;case 22:Ot=(r=Ot)||n.memoizedState!==null,Ji(t,e,n),Ot=r;break;default:Ji(t,e,n)}}function jA(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Zc(t)}catch(n){De(e,e.return,n)}}}function BA(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zc(t)}catch(n){De(e,e.return,n)}}function rB(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new vR),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new vR),e;default:throw Error(U(435,t.tag))}}function om(t,e){var n=rB(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=hB.bind(null,t,r);r.then(i,i)}})}function Mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(oo(o.type)){dt=o.stateNode,zn=!1;break e}break;case 5:dt=o.stateNode,zn=!1;break e;case 3:case 4:dt=o.stateNode.containerInfo,zn=!0;break e}o=o.return}if(dt===null)throw Error(U(160));DA(a,s,i),dt=null,zn=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)FA(e,t),e=e.sibling}var oi=null;function FA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(e,t),Xn(t),r&4&&(qs(3,t,t.return),Cp(3,t),qs(5,t,t.return));break;case 1:Mn(e,t),Xn(t),r&512&&(Ot||n===null||Ai(n,n.return)),r&64&&pa&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=oi;if(Mn(e,t),Xn(t),r&512&&(Ot||n===null||Ai(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Sp]||a[rn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),on(a,r,n),a[rn]=t,$t(a),r=a;break e;case"link":var s=XR("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),on(a,r,n),i.head.appendChild(a);break;case"meta":if(s=XR("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),on(a,r,n),i.head.appendChild(a);break;default:throw Error(U(468,r))}a[rn]=t,$t(a),r=a}t.stateNode=r}else UR(i,t.type,t.stateNode);else t.stateNode=MR(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?UR(i,t.type,t.stateNode):MR(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Hb(t,t.memoizedProps,n.memoizedProps)}break;case 27:Mn(e,t),Xn(t),r&512&&(Ot||n===null||Ai(n,n.return)),n!==null&&r&4&&Hb(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Mn(e,t),Xn(t),r&512&&(Ot||n===null||Ai(n,n.return)),t.flags&32){i=t.stateNode;try{Cc(i,"")}catch(v){De(t,t.return,v)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Hb(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Jb=!0);break;case 6:if(Mn(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(U(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(v){De(t,t.return,v)}}break;case 3:if(Mg=null,i=oi,oi=P0(e.containerInfo),Mn(e,t),oi=i,Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zc(e.containerInfo)}catch(v){De(t,t.return,v)}Jb&&(Jb=!1,HA(t));break;case 4:r=oi,oi=P0(t.stateNode.containerInfo),Mn(e,t),Xn(t),oi=r;break;case 12:Mn(e,t),Xn(t);break;case 31:Mn(e,t),Xn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,om(t,r)));break;case 13:Mn(e,t),Xn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(_v=hr()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,om(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=pa,c=Ot;if(pa=u||i,Ot=c||l,Mn(e,t),Ot=c,pa=u,Xn(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||pa||Ot||Eo(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var d=l.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(v){De(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){De(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;i?LR(p,!0):LR(l.stateNode,!1)}catch(v){De(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,om(t,n))));break;case 19:Mn(e,t),Xn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,om(t,r)));break;case 30:break;case 21:break;default:Mn(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(UA(r)){n=r;break}r=r.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var i=n.stateNode,a=Yb(t);Z0(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Cc(s,""),n.flags&=-33);var o=Yb(t);Z0(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Yb(t);BS(t,u,l);break;default:throw Error(U(161))}}catch(c){De(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HA(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;HA(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function $i(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)PA(t,e.alternate,e),e=e.sibling}function Eo(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:qs(4,e,e.return),Eo(e);break;case 1:Ai(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&MA(e,e.return,n),Eo(e);break;case 27:kh(e.stateNode);case 26:case 5:Ai(e,e.return),Eo(e);break;case 22:e.memoizedState===null&&Eo(e);break;case 30:Eo(e);break;default:Eo(e)}t=t.sibling}}function ta(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:ta(i,a,n),Cp(4,a);break;case 1:if(ta(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){De(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)jG(l[i],o)}catch(u){De(r,r.return,u)}}n&&s&64&&AA(a),Eh(a,a.return);break;case 27:WA(a);case 26:case 5:ta(i,a,n),n&&r===null&&s&4&&XA(a),Eh(a,a.return);break;case 12:ta(i,a,n);break;case 31:ta(i,a,n),n&&s&4&&jA(i,a);break;case 13:ta(i,a,n),n&&s&4&&BA(i,a);break;case 22:a.memoizedState===null&&ta(i,a,n),Eh(a,a.return);break;case 30:break;default:ta(i,a,n)}e=e.sibling}}function V2(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&xp(n))}function G2(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&xp(t))}function Kr(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)YA(t,e,n,r),e=e.sibling}function YA(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Kr(t,e,n,r),i&2048&&Cp(9,e);break;case 1:Kr(t,e,n,r);break;case 3:Kr(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&xp(t)));break;case 12:if(i&2048){Kr(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){De(e,e.return,l)}}else Kr(t,e,n,r);break;case 31:Kr(t,e,n,r);break;case 13:Kr(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?Kr(t,e,n,r):xh(t,e):a._visibility&2?Kr(t,e,n,r):(a._visibility|=2,cu(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&V2(s,e);break;case 24:Kr(t,e,n,r),i&2048&&G2(e.alternate,e);break;default:Kr(t,e,n,r)}}function cu(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:cu(a,s,o,l,i),Cp(8,s);break;case 23:break;case 22:var c=s.stateNode;s.memoizedState!==null?c._visibility&2?cu(a,s,o,l,i):xh(a,s):(c._visibility|=2,cu(a,s,o,l,i)),i&&u&2048&&V2(s.alternate,s);break;case 24:cu(a,s,o,l,i),i&&u&2048&&G2(s.alternate,s);break;default:cu(a,s,o,l,i)}e=e.sibling}}function xh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:xh(n,r),i&2048&&V2(r.alternate,r);break;case 24:xh(n,r),i&2048&&G2(r.alternate,r);break;default:xh(n,r)}e=e.sibling}}var ih=8192;function Jl(t,e,n){if(t.subtreeFlags&ih)for(t=t.child;t!==null;)JA(t,e,n),t=t.sibling}function JA(t,e,n){switch(t.tag){case 26:Jl(t,e,n),t.flags&ih&&t.memoizedState!==null&&DB(n,oi,t.memoizedState,t.memoizedProps);break;case 5:Jl(t,e,n);break;case 3:case 4:var r=oi;oi=P0(t.stateNode.containerInfo),Jl(t,e,n),oi=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ih,ih=16777216,Jl(t,e,n),ih=r):Jl(t,e,n));break;default:Jl(t,e,n)}}function $A(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function kd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Ht=r,QA(r,t)}$A(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)KA(t),t=t.sibling}function KA(t){switch(t.tag){case 0:case 11:case 15:kd(t),t.flags&2048&&qs(9,t,t.return);break;case 3:kd(t);break;case 12:kd(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Gg(t)):kd(t);break;default:kd(t)}}function Gg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Ht=r,QA(r,t)}$A(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:qs(8,e,e.return),Gg(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Gg(e));break;default:Gg(e)}t=t.sibling}}function QA(t,e){for(;Ht!==null;){var n=Ht;switch(n.tag){case 0:case 11:case 15:qs(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:xp(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Ht=r;else e:for(n=t;Ht!==null;){r=Ht;var i=r.sibling,a=r.return;if(zA(r),r===n){Ht=null;break e}if(i!==null){i.return=a,Ht=i;break e}Ht=a}}}var iB={getCacheForType:function(t){var e=sn(It),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return sn(It).controller.signal}},aB=typeof WeakMap=="function"?WeakMap:Map,Xe=0,$e=null,xe=null,Te=0,ze=0,rr=null,Cs=!1,ud=!1,A2=!1,La=0,Et=0,eo=0,el=0,M2=0,ur=0,Nc=0,_h=null,Dn=null,FS=!1,_v=0,qA=0,V0=1/0,G0=null,As=null,Wt=0,Ms=null,Oc=null,_a=0,HS=0,YS=null,e5=null,Ch=0,JS=null;function mr(){return Xe&2&&Te!==0?Te&-Te:se.T!==null?U2():uG()}function t5(){if(ur===0)if(!(Te&536870912)||Le){var t=qp;qp<<=1,!(qp&3932160)&&(qp=262144),ur=t}else ur=536870912;return t=br.current,t!==null&&(t.flags|=32),ur}function $n(t,e,n){(t===$e&&(ze===2||ze===9)||t.cancelPendingCommit!==null)&&(Ic(t,0),ks(t,Te,ur,!1)),wp(t,n),(!(Xe&2)||t!==$e)&&(t===$e&&(!(Xe&2)&&(el|=n),Et===4&&ks(t,Te,ur,!1)),ji(t))}function n5(t,e,n){if(Xe&6)throw Error(U(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||bp(t,e),i=r?lB(t,e):$b(t,e,!0),a=r;do{if(i===0){ud&&!r&&ks(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!sB(n)){i=$b(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=_h;var l=o.current.memoizedState.isDehydrated;if(l&&(Ic(o,s).flags|=256),s=$b(o,s,!1),s!==2){if(A2&&!l){o.errorRecoveryDisabledLanes|=a,el|=a,i=4;break e}a=Dn,Dn=i,a!==null&&(Dn===null?Dn=a:Dn.push.apply(Dn,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Ic(t,0),ks(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:ks(r,e,ur,!Cs);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(i=_v+300-hr(),10<i)){if(ks(r,e,ur,!Cs),fv(r,0,!0)!==0)break e;_a=e,r.timeoutHandle=E5(bR.bind(null,r,n,Dn,G0,FS,e,ur,el,Nc,Cs,a,"Throttled",-0,0),i);break e}bR(r,n,Dn,G0,FS,e,ur,el,Nc,Cs,a,null,-0,0)}}break}while(1);ji(t)}function bR(t,e,n,r,i,a,s,o,l,u,c,d,f,p){if(t.timeoutHandle=-1,d=e.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ya},JA(e,a,d);var v=(a&62914560)===a?_v-hr():(a&4194048)===a?qA-hr():0;if(v=jB(d,v),v!==null){_a=a,t.cancelPendingCommit=v(SR.bind(null,t,e,a,n,r,i,s,o,l,c,d,null,f,p)),ks(t,a,s,!u);return}}SR(t,e,a,n,r,i,s,o,l)}function sB(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!vr(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ks(t,e,n,r){e&=~M2,e&=~el,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-pr(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&sG(t,n,e)}function Cv(){return Xe&6?!0:(kp(0,!1),!1)}function X2(){if(xe!==null){if(ze===0)var t=xe.return;else t=xe,va=Ll=null,x2(t),Ku=null,sf=0,t=xe;for(;t!==null;)GA(t.alternate,t),t=t.return;xe=null}}function Ic(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,kB(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),_a=0,X2(),$e=t,xe=n=Ea(t.current,null),Te=e,ze=0,rr=null,Cs=!1,ud=bp(t,e),A2=!1,Nc=ur=M2=el=eo=Et=0,Dn=_h=null,FS=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-pr(r),a=1<<i;e|=t[i],r&=~a}return La=e,yv(),n}function r5(t,e){fe=null,se.H=lf,e===ld||e===bv?(e=KT(),ze=3):e===g2?(e=KT(),ze=4):ze=e===L2?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,rr=e,xe===null&&(Et=1,I0(t,Gr(e,t.current)))}function i5(){var t=br.current;return t===null?!0:(Te&4194048)===Te?Wr===null:(Te&62914560)===Te||Te&536870912?t===Wr:!1}function a5(){var t=se.H;return se.H=lf,t===null?lf:t}function s5(){var t=se.A;return se.A=iB,t}function A0(){Et=4,Cs||(Te&4194048)!==Te&&br.current!==null||(ud=!0),!(eo&134217727)&&!(el&134217727)||$e===null||ks($e,Te,ur,!1)}function $b(t,e,n){var r=Xe;Xe|=2;var i=a5(),a=s5();($e!==t||Te!==e)&&(G0=null,Ic(t,e)),e=!1;var s=Et;e:do try{if(ze!==0&&xe!==null){var o=xe,l=rr;switch(ze){case 8:X2(),s=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(e=!0);var u=ze;if(ze=0,rr=null,Nu(t,o,l,u),n&&ud){s=0;break e}break;default:u=ze,ze=0,rr=null,Nu(t,o,l,u)}}oB(),s=Et;break}catch(c){r5(t,c)}while(1);return e&&t.shellSuspendCounter++,va=Ll=null,Xe=r,se.H=i,se.A=a,xe===null&&($e=null,Te=0,yv()),s}function oB(){for(;xe!==null;)o5(xe)}function lB(t,e){var n=Xe;Xe|=2;var r=a5(),i=s5();$e!==t||Te!==e?(G0=null,V0=hr()+500,Ic(t,e)):ud=bp(t,e);e:do try{if(ze!==0&&xe!==null){e=xe;var a=rr;t:switch(ze){case 1:ze=0,rr=null,Nu(t,e,a,1);break;case 2:case 9:if($T(a)){ze=0,rr=null,wR(e);break}e=function(){ze!==2&&ze!==9||$e!==t||(ze=7),ji(t)},a.then(e,e);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:$T(a)?(ze=0,rr=null,wR(e)):(ze=0,rr=null,Nu(t,e,a,7));break;case 5:var s=null;switch(xe.tag){case 26:s=xe.memoizedState;case 5:case 27:var o=xe;if(s?T5(s):o.stateNode.complete){ze=0,rr=null;var l=o.sibling;if(l!==null)xe=l;else{var u=o.return;u!==null?(xe=u,kv(u)):xe=null}break t}}ze=0,rr=null,Nu(t,e,a,5);break;case 6:ze=0,rr=null,Nu(t,e,a,6);break;case 8:X2(),Et=6;break e;default:throw Error(U(462))}}uB();break}catch(c){r5(t,c)}while(1);return va=Ll=null,se.H=r,se.A=i,Xe=n,xe!==null?0:($e=null,Te=0,yv(),Et)}function uB(){for(;xe!==null&&!L4();)o5(xe)}function o5(t){var e=VA(t.alternate,t,La);t.memoizedProps=t.pendingProps,e===null?kv(t):xe=e}function wR(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=fR(n,e,e.pendingProps,e.type,void 0,Te);break;case 11:e=fR(n,e,e.pendingProps,e.type.render,e.ref,Te);break;case 5:x2(e);default:GA(n,e),e=xe=GG(e,La),e=VA(n,e,La)}t.memoizedProps=t.pendingProps,e===null?kv(t):xe=e}function Nu(t,e,n,r){va=Ll=null,x2(e),Ku=null,sf=0;var i=e.return;try{if(Kj(t,i,e,n,Te)){Et=1,I0(t,Gr(n,t.current)),xe=null;return}}catch(a){if(i!==null)throw xe=i,a;Et=1,I0(t,Gr(n,t.current)),xe=null;return}e.flags&32768?(Le||r===1?t=!0:ud||Te&536870912?t=!1:(Cs=t=!0,(r===2||r===9||r===3||r===6)&&(r=br.current,r!==null&&r.tag===13&&(r.flags|=16384))),l5(e,t)):kv(e)}function kv(t){var e=t;do{if(e.flags&32768){l5(e,Cs);return}t=e.return;var n=eB(e.alternate,e,La);if(n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);Et===0&&(Et=5)}function l5(t,e){do{var n=tB(t.alternate,t);if(n!==null){n.flags&=32767,xe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){xe=t;return}xe=t=n}while(t!==null);Et=6,xe=null}function SR(t,e,n,r,i,a,s,o,l){t.cancelPendingCommit=null;do Tv();while(Wt!==0);if(Xe&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(a=e.lanes|e.childLanes,a|=u2,z4(t,n,a,s,o,l),t===$e&&(xe=$e=null,Te=0),Oc=e,Ms=t,_a=n,HS=a,YS=i,e5=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,fB(w0,function(){return f5(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=se.T,se.T=null,i=Ue.p,Ue.p=2,s=Xe,Xe|=4;try{nB(t,e,n)}finally{Xe=s,Ue.p=i,se.T=r}}Wt=1,u5(),c5(),d5()}}function u5(){if(Wt===1){Wt=0;var t=Ms,e=Oc,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=se.T,se.T=null;var r=Ue.p;Ue.p=2;var i=Xe;Xe|=4;try{FA(e,t);var a=qS,s=TG(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&kG(o.ownerDocument.documentElement,o)){if(l!==null&&l2(o)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),v=o.textContent.length,m=Math.min(l.start,v),S=l.end===void 0?m:Math.min(l.end,v);!p.extend&&m>S&&(s=S,S=m,m=s);var y=DT(o,m),g=DT(o,S);if(y&&g&&(p.rangeCount!==1||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==g.node||p.focusOffset!==g.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),m>S?(p.addRange(b),p.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),p.addRange(b))}}}}for(d=[],p=o;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}j0=!!QS,qS=QS=null}finally{Xe=i,Ue.p=r,se.T=n}}t.current=e,Wt=2}}function c5(){if(Wt===2){Wt=0;var t=Ms,e=Oc,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=se.T,se.T=null;var r=Ue.p;Ue.p=2;var i=Xe;Xe|=4;try{PA(t,e.alternate,e)}finally{Xe=i,Ue.p=r,se.T=n}}Wt=3}}function d5(){if(Wt===4||Wt===3){Wt=0,Z4();var t=Ms,e=Oc,n=_a,r=e5;e.subtreeFlags&10256||e.flags&10256?Wt=5:(Wt=0,Oc=Ms=null,h5(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(As=null),t2(n),e=e.stateNode,fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(vp,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=se.T,i=Ue.p,Ue.p=2,se.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{se.T=e,Ue.p=i}}_a&3&&Tv(),ji(t),i=t.pendingLanes,n&261930&&i&42?t===JS?Ch++:(Ch=0,JS=t):Ch=0,kp(0,!1)}}function h5(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,xp(e)))}function Tv(){return u5(),c5(),d5(),f5()}function f5(){if(Wt!==5)return!1;var t=Ms,e=HS;HS=0;var n=t2(_a),r=se.T,i=Ue.p;try{Ue.p=32>n?32:n,se.T=null,n=YS,YS=null;var a=Ms,s=_a;if(Wt=0,Oc=Ms=null,_a=0,Xe&6)throw Error(U(331));var o=Xe;if(Xe|=4,KA(a.current),YA(a,a.current,s,n),Xe=o,kp(0,!1),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(vp,a)}catch{}return!0}finally{Ue.p=i,se.T=r,h5(t,e)}}function ER(t,e,n){e=Gr(n,e),e=zS(t.stateNode,e,2),t=Gs(t,e,2),t!==null&&(wp(t,2),ji(t))}function De(t,e,n){if(t.tag===3)ER(t,t,n);else for(;e!==null;){if(e.tag===3){ER(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){t=Gr(n,t),n=RA(2),r=Gs(e,n,2),r!==null&&(NA(n,r,e,t),wp(r,2),ji(r));break}}e=e.return}}function Kb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(A2=!0,i.add(n),t=cB.bind(null,t,e,n),e.then(t,t))}function cB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,$e===t&&(Te&n)===n&&(Et===4||Et===3&&(Te&62914560)===Te&&300>hr()-_v?!(Xe&2)&&Ic(t,0):M2|=n,Nc===Te&&(Nc=0)),ji(t)}function p5(t,e){e===0&&(e=aG()),t=Il(t,e),t!==null&&(wp(t,e),ji(t))}function dB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),p5(t,n)}function hB(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(U(314))}r!==null&&r.delete(e),p5(t,n)}function fB(t,e){return q_(t,e)}var M0=null,du=null,$S=!1,X0=!1,Qb=!1,Ts=0;function ji(t){t!==du&&t.next===null&&(du===null?M0=du=t:du=du.next=t),X0=!0,$S||($S=!0,mB())}function kp(t,e){if(!Qb&&X0){Qb=!0;do for(var n=!1,r=M0;r!==null;){if(!e)if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-pr(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,xR(r,a))}else a=Te,a=fv(r,r===$e?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||bp(r,a)||(n=!0,xR(r,a));r=r.next}while(n);Qb=!1}}function pB(){m5()}function m5(){X0=$S=!1;var t=0;Ts!==0&&CB()&&(t=Ts);for(var e=hr(),n=null,r=M0;r!==null;){var i=r.next,a=g5(r,e);a===0?(r.next=null,n===null?M0=i:n.next=i,i===null&&(du=n)):(n=r,(t!==0||a&3)&&(X0=!0)),r=i}Wt!==0&&Wt!==5||kp(t,!1),Ts!==0&&(Ts=0)}function g5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-pr(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=P4(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=$e,n=Te,n=fv(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(ze===2||ze===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&kb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||bp(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&kb(r),t2(n)){case 2:case 8:n=rG;break;case 32:n=w0;break;case 268435456:n=iG;break;default:n=w0}return r=y5.bind(null,t),n=q_(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&kb(r),t.callbackPriority=2,t.callbackNode=null,2}function y5(t,e){if(Wt!==0&&Wt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Tv()&&t.callbackNode!==n)return null;var r=Te;return r=fv(t,t===$e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(n5(t,r,e),g5(t,hr()),t.callbackNode!=null&&t.callbackNode===n?y5.bind(null,t):null)}function xR(t,e){if(Tv())return null;n5(t,e,!0)}function mB(){TB(function(){Xe&6?q_(nG,pB):m5()})}function U2(){if(Ts===0){var t=kc;t===0&&(t=Qp,Qp<<=1,!(Qp&261888)&&(Qp=256)),Ts=t}return Ts}function _R(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kg(""+t)}function CR(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function gB(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=_R((i[er]||null).action),s=r.submitter;s&&(e=(e=s[er]||null)?_R(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new pv("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ts!==0){var l=s?CR(i,s):new FormData(i);WS(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?CR(i,s):new FormData(i),WS(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var qb=0;qb<RS.length;qb++){var e1=RS[qb],yB=e1.toLowerCase(),vB=e1[0].toUpperCase()+e1.slice(1);yi(yB,"on"+vB)}yi(NG,"onAnimationEnd");yi(OG,"onAnimationIteration");yi(IG,"onAnimationStart");yi("dblclick","onDoubleClick");yi("focusin","onFocus");yi("focusout","onBlur");yi(Vj,"onTransitionRun");yi(Gj,"onTransitionStart");yi(Aj,"onTransitionCancel");yi(LG,"onTransitionEnd");_c("onMouseEnter",["mouseout","mouseover"]);_c("onMouseLeave",["mouseout","mouseover"]);_c("onPointerEnter",["pointerout","pointerover"]);_c("onPointerLeave",["pointerout","pointerover"]);Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uf));function v5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){E0(c)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){E0(c)}i.currentTarget=null,a=l}}}}function Ee(t,e){var n=e[wS];n===void 0&&(n=e[wS]=new Set);var r=t+"__bubble";n.has(r)||(b5(e,t,2,!1),n.add(r))}function t1(t,e,n){var r=0;e&&(r|=4),b5(n,t,r,e)}var lm="_reactListening"+Math.random().toString(36).slice(2);function W2(t){if(!t[lm]){t[lm]=!0,cG.forEach(function(n){n!=="selectionchange"&&(bB.has(n)||t1(n,!1,t),t1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lm]||(e[lm]=!0,t1("selectionchange",!1,e))}}function b5(t,e,n,r){switch(L5(e)){case 2:var i=HB;break;case 8:i=YB;break;default:i=j2}n=i.bind(null,e,n,t),i=void 0,!CS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function n1(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=wu(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}vG(function(){var u=a,c=i2(n),d=[];e:{var f=ZG.get(t);if(f!==void 0){var p=pv,v=t;switch(t){case"keypress":if(Rg(n)===0)break e;case"keydown":case"keyup":p=hj;break;case"focusin":v="focus",p=Ib;break;case"focusout":v="blur",p=Ib;break;case"beforeblur":case"afterblur":p=Ib;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ZT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ej;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mj;break;case NG:case OG:case IG:p=rj;break;case LG:p=yj;break;case"scroll":case"scrollend":p=Q4;break;case"wheel":p=bj;break;case"copy":case"cut":case"paste":p=aj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=GT;break;case"toggle":case"beforetoggle":p=Sj}var m=(e&4)!==0,S=!m&&(t==="scroll"||t==="scrollend"),y=m?f!==null?f+"Capture":null:f;m=[];for(var g=u,b;g!==null;){var w=g;if(b=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||b===null||y===null||(w=ef(g,y),w!=null&&m.push(cf(g,w,b))),S)break;g=g.return}0<m.length&&(f=new p(f,v,null,n,c),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==_S&&(v=n.relatedTarget||n.fromElement)&&(wu(v)||v[ad]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?wu(v):null,v!==null&&(S=yp(v),m=v.tag,v!==S||m!==5&&m!==27&&m!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=ZT,w="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=GT,w="onPointerLeave",y="onPointerEnter",g="pointer"),S=p==null?f:nh(p),b=v==null?f:nh(v),f=new m(w,g+"leave",p,n,c),f.target=S,f.relatedTarget=b,w=null,wu(c)===u&&(m=new m(y,g+"enter",v,n,c),m.target=b,m.relatedTarget=S,w=m),S=w,p&&v)t:{for(m=wB,y=p,g=v,b=0,w=y;w;w=m(w))b++;w=0;for(var E=g;E;E=m(E))w++;for(;0<b-w;)y=m(y),b--;for(;0<w-b;)g=m(g),w--;for(;b--;){if(y===g||g!==null&&y===g.alternate){m=y;break t}y=m(y),g=m(g)}m=null}else m=null;p!==null&&kR(d,f,p,m,!1),v!==null&&S!==null&&kR(d,S,v,m,!0)}}e:{if(f=u?nh(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=UT;else if(XT(f))if(_G)_=Ij;else{_=Nj;var C=Rj}else p=f.nodeName,!p||p.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&r2(u.elementType)&&(_=UT):_=Oj;if(_&&(_=_(t,u))){xG(d,_,n,c);break e}C&&C(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&xS(f,"number",f.value)}switch(C=u?nh(u):window,t){case"focusin":(XT(C)||C.contentEditable==="true")&&(xu=C,kS=u,gh=null);break;case"focusout":gh=kS=xu=null;break;case"mousedown":TS=!0;break;case"contextmenu":case"mouseup":case"dragend":TS=!1,jT(d,n,c);break;case"selectionchange":if(Zj)break;case"keydown":case"keyup":jT(d,n,c)}var k;if(o2)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Eu?SG(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(wG&&n.locale!=="ko"&&(Eu||x!=="onCompositionStart"?x==="onCompositionEnd"&&Eu&&(k=bG()):(_s=c,a2="value"in _s?_s.value:_s.textContent,Eu=!0)),C=U0(u,x),0<C.length&&(x=new VT(x,t,null,n,c),d.push({event:x,listeners:C}),k?x.data=k:(k=EG(n),k!==null&&(x.data=k)))),(k=xj?_j(t,n):Cj(t,n))&&(x=U0(u,"onBeforeInput"),0<x.length&&(C=new VT("onBeforeInput","beforeinput",null,n,c),d.push({event:C,listeners:x}),C.data=k)),gB(d,t,u,n,c)}v5(d,e)})}function cf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function U0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=ef(t,n),i!=null&&r.unshift(cf(t,i,a)),i=ef(t,e),i!=null&&r.push(cf(t,i,a))),t.tag===3)return r;t=t.return}return[]}function wB(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kR(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=ef(n,a),u!=null&&s.unshift(cf(n,u,l))):i||(u=ef(n,a),u!=null&&s.push(cf(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var SB=/\r\n?/g,EB=/\u0000|\uFFFD/g;function TR(t){return(typeof t=="string"?t:""+t).replace(SB,`
`).replace(EB,"")}function w5(t,e){return e=TR(e),TR(t)===e}function Be(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Cc(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Cc(t,""+r);break;case"className":tm(t,"class",r);break;case"tabIndex":tm(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":tm(t,n,r);break;case"style":yG(t,r,a);break;case"data":if(e!=="object"){tm(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=kg(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Be(t,e,"name",i.name,i,null),Be(t,e,"formEncType",i.formEncType,i,null),Be(t,e,"formMethod",i.formMethod,i,null),Be(t,e,"formTarget",i.formTarget,i,null)):(Be(t,e,"encType",i.encType,i,null),Be(t,e,"method",i.method,i,null),Be(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=kg(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=ya);break;case"onScroll":r!=null&&Ee("scroll",t);break;case"onScrollEnd":r!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(U(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=kg(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),Cg(t,"popover",r);break;case"xlinkActuate":Hi(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Hi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Hi(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Hi(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Hi(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Hi(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Hi(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Hi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Hi(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Cg(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=$4.get(n)||n,Cg(t,n,r))}}function KS(t,e,n,r,i,a){switch(n){case"style":yG(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(U(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Cc(t,r):(typeof r=="number"||typeof r=="bigint")&&Cc(t,""+r);break;case"onScroll":r!=null&&Ee("scroll",t);break;case"onScrollEnd":r!=null&&Ee("scrollend",t);break;case"onClick":r!=null&&(t.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dG.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[er]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Cg(t,n,r)}}}function on(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Be(t,e,a,s,n,null)}}i&&Be(t,e,"srcSet",n.srcSet,n,null),r&&Be(t,e,"src",n.src,n,null);return;case"input":Ee("invalid",t);var o=a=s=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":s=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(U(137,e));break;default:Be(t,e,r,c,n,null)}}pG(t,a,o,l,u,s,i,!1);return;case"select":Ee("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Be(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?Yu(t,!!r,e,!1):n!=null&&Yu(t,!!r,n,!0);return;case"textarea":Ee("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(U(91));break;default:Be(t,e,s,o,n,null)}gG(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Be(t,e,l,r,n,null)}return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(r=0;r<uf.length;r++)Ee(uf[r],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Be(t,e,u,r,n,null)}return;default:if(r2(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&KS(t,e,c,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Be(t,e,o,r,n,null))}function xB(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,u=null,c=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||Be(t,e,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(p!=null||d!=null))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(U(137,e));break;default:p!==d&&Be(t,e,f,p,r,d)}}ES(t,s,o,l,u,c,a,i);return;case"select":p=s=o=f=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||Be(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":f=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&Be(t,e,i,a,r,l)}e=o,n=s,r=p,f!=null?Yu(t,!!n,f,!1):!!r!=!!n&&(e!=null?Yu(t,!!n,e,!0):Yu(t,!!n,n?[]:"",!1));return;case"textarea":p=f=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Be(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(U(91));break;default:i!==a&&Be(t,e,s,i,r,a)}mG(t,f,p);return;case"option":for(var v in n)if(f=n[v],n.hasOwnProperty(v)&&f!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:Be(t,e,v,null,r,f)}for(l in r)if(f=r[l],p=n[l],r.hasOwnProperty(l)&&f!==p&&(f!=null||p!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Be(t,e,l,f,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&f!=null&&!r.hasOwnProperty(m)&&Be(t,e,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(f!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(U(137,e));break;default:Be(t,e,u,f,r,p)}return;default:if(r2(e)){for(var S in n)f=n[S],n.hasOwnProperty(S)&&f!==void 0&&!r.hasOwnProperty(S)&&KS(t,e,S,void 0,r,f);for(c in r)f=r[c],p=n[c],!r.hasOwnProperty(c)||f===p||f===void 0&&p===void 0||KS(t,e,c,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!=null&&!r.hasOwnProperty(y)&&Be(t,e,y,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||f==null&&p==null||Be(t,e,d,f,r,p)}function RR(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _B(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&RR(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>o)break;var c=l.transferSize,d=l.initiatorType;c&&RR(d)&&(l=l.responseEnd,s+=c*(l<o?1:(o-u)/(l-u)))}if(--r,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var QS=null,qS=null;function W0(t){return t.nodeType===9?t:t.ownerDocument}function NR(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S5(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function eE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var r1=null;function CB(){var t=window.event;return t&&t.type==="popstate"?t===r1?!1:(r1=t,!0):(r1=null,!1)}var E5=typeof setTimeout=="function"?setTimeout:void 0,kB=typeof clearTimeout=="function"?clearTimeout:void 0,OR=typeof Promise=="function"?Promise:void 0,TB=typeof queueMicrotask=="function"?queueMicrotask:typeof OR<"u"?function(t){return OR.resolve(null).then(t).catch(RB)}:E5;function RB(t){setTimeout(function(){throw t})}function oo(t){return t==="head"}function IR(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Zc(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")kh(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,kh(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Sp]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&kh(t.ownerDocument.body);n=i}while(n);Zc(e)}function LR(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function tE(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":tE(n),n2(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function NB(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Sp])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Pr(t.nextSibling),t===null)break}return null}function OB(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Pr(t.nextSibling),t===null))return null;return t}function x5(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Pr(t.nextSibling),t===null))return null;return t}function nE(t){return t.data==="$?"||t.data==="$~"}function rE(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function IB(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var iE=null;function ZR(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Pr(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function VR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function _5(t,e,n){switch(e=W0(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function kh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);n2(t)}var jr=new Map,GR=new Set;function P0(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wa=Ue.d;Ue.d={f:LB,r:ZB,D:VB,C:GB,L:AB,m:MB,X:UB,S:XB,M:WB};function LB(){var t=Wa.f(),e=Cv();return t||e}function ZB(t){var e=sd(t);e!==null&&e.tag===5&&e.type==="form"?yA(e):Wa.r(t)}var cd=typeof document>"u"?null:document;function C5(t,e,n){var r=cd;if(r&&typeof e=="string"&&e){var i=Vr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),GR.has(i)||(GR.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),on(e,"link",t),$t(e),r.head.appendChild(e)))}}function VB(t){Wa.D(t),C5("dns-prefetch",t,null)}function GB(t,e){Wa.C(t,e),C5("preconnect",t,e)}function AB(t,e,n){Wa.L(t,e,n);var r=cd;if(r&&t&&e){var i='link[rel="preload"][as="'+Vr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Vr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Vr(n.imageSizes)+'"]')):i+='[href="'+Vr(t)+'"]';var a=i;switch(e){case"style":a=Lc(t);break;case"script":a=dd(t)}jr.has(a)||(t=ut({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),jr.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Tp(a))||e==="script"&&r.querySelector(Rp(a))||(e=r.createElement("link"),on(e,"link",t),$t(e),r.head.appendChild(e)))}}function MB(t,e){Wa.m(t,e);var n=cd;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Vr(r)+'"][href="'+Vr(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=dd(t)}if(!jr.has(a)&&(t=ut({rel:"modulepreload",href:t},e),jr.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rp(a)))return}r=n.createElement("link"),on(r,"link",t),$t(r),n.head.appendChild(r)}}}function XB(t,e,n){Wa.S(t,e,n);var r=cd;if(r&&t){var i=Hu(r).hoistableStyles,a=Lc(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Tp(a)))o.loading=5;else{t=ut({rel:"stylesheet",href:t,"data-precedence":e},n),(n=jr.get(a))&&P2(t,n);var l=s=r.createElement("link");$t(l),on(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ag(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function UB(t,e){Wa.X(t,e);var n=cd;if(n&&t){var r=Hu(n).hoistableScripts,i=dd(t),a=r.get(i);a||(a=n.querySelector(Rp(i)),a||(t=ut({src:t,async:!0},e),(e=jr.get(i))&&z2(t,e),a=n.createElement("script"),$t(a),on(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function WB(t,e){Wa.M(t,e);var n=cd;if(n&&t){var r=Hu(n).hoistableScripts,i=dd(t),a=r.get(i);a||(a=n.querySelector(Rp(i)),a||(t=ut({src:t,async:!0,type:"module"},e),(e=jr.get(i))&&z2(t,e),a=n.createElement("script"),$t(a),on(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function AR(t,e,n,r){var i=(i=Ls.current)?P0(i):null;if(!i)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Lc(n.href),n=Hu(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Lc(n.href);var a=Hu(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(Tp(t)))&&!a._p&&(s.instance=a,s.state.loading=5),jr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jr.set(t,n),a||PB(i,t,n,s.state))),e&&r===null)throw Error(U(528,""));return s}if(e&&r!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=dd(n),n=Hu(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function Lc(t){return'href="'+Vr(t)+'"'}function Tp(t){return'link[rel="stylesheet"]['+t+"]"}function k5(t){return ut({},t,{"data-precedence":t.precedence,precedence:null})}function PB(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),on(e,"link",n),$t(e),t.head.appendChild(e))}function dd(t){return'[src="'+Vr(t)+'"]'}function Rp(t){return"script[async]"+t}function MR(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Vr(n.href)+'"]');if(r)return e.instance=r,$t(r),r;var i=ut({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),$t(r),on(r,"style",i),Ag(r,n.precedence,t),e.instance=r;case"stylesheet":i=Lc(n.href);var a=t.querySelector(Tp(i));if(a)return e.state.loading|=4,e.instance=a,$t(a),a;r=k5(n),(i=jr.get(i))&&P2(r,i),a=(t.ownerDocument||t).createElement("link"),$t(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),on(a,"link",r),e.state.loading|=4,Ag(a,n.precedence,t),e.instance=a;case"script":return a=dd(n.src),(i=t.querySelector(Rp(a)))?(e.instance=i,$t(i),i):(r=n,(i=jr.get(a))&&(r=ut({},n),z2(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),$t(i),on(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Ag(r,n.precedence,t));return e.instance}function Ag(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function P2(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function z2(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Mg=null;function XR(t,e,n){if(Mg===null){var r=new Map,i=Mg=new Map;i.set(n,r)}else i=Mg,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Sp]||a[rn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function UR(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function zB(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function T5(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function DB(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Lc(r.href),a=e.querySelector(Tp(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=z0.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,$t(a);return}a=e.ownerDocument||e,r=k5(r),(i=jr.get(i))&&P2(r,i),a=a.createElement("link"),$t(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),on(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=z0.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var i1=0;function jB(t,e){return t.stylesheets&&t.count===0&&Xg(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Xg(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&i1===0&&(i1=62500*_B());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xg(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>i1?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function z0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var D0=null;function Xg(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,D0=new Map,e.forEach(BB,t),D0=null,z0.call(t))}function BB(t,e){if(!(e.state.loading&4)){var n=D0.get(t);if(n)var r=n.get(null);else{n=new Map,D0.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=z0.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var df={$$typeof:ga,Provider:null,Consumer:null,_currentValue:$o,_currentValue2:$o,_threadCount:0};function FB(t,e,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tb(0),this.hiddenUpdates=Tb(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function R5(t,e,n,r,i,a,s,o,l,u,c,d){return t=new FB(t,e,n,s,l,u,c,d,o),e=1,a===!0&&(e|=24),a=sr(3,null,null,e),t.current=a,a.stateNode=t,e=p2(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},y2(a),t}function N5(t){return t?(t=ku,t):ku}function O5(t,e,n,r,i,a){i=N5(i),r.context===null?r.context=i:r.pendingContext=i,r=Vs(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Gs(t,r,e),n!==null&&($n(n,t,e),vh(n,t,e))}function WR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function D2(t,e){WR(t,e),(t=t.alternate)&&WR(t,e)}function I5(t){if(t.tag===13||t.tag===31){var e=Il(t,67108864);e!==null&&$n(e,t,67108864),D2(t,67108864)}}function PR(t){if(t.tag===13||t.tag===31){var e=mr();e=e2(e);var n=Il(t,e);n!==null&&$n(n,t,e),D2(t,e)}}var j0=!0;function HB(t,e,n,r){var i=se.T;se.T=null;var a=Ue.p;try{Ue.p=2,j2(t,e,n,r)}finally{Ue.p=a,se.T=i}}function YB(t,e,n,r){var i=se.T;se.T=null;var a=Ue.p;try{Ue.p=8,j2(t,e,n,r)}finally{Ue.p=a,se.T=i}}function j2(t,e,n,r){if(j0){var i=aE(r);if(i===null)n1(t,e,r,B0,n),zR(t,r);else if($B(i,t,e,n,r))r.stopPropagation();else if(zR(t,r),e&4&&-1<JB.indexOf(t)){for(;i!==null;){var a=sd(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=wo(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-pr(s);o.entanglements[1]|=l,s&=~l}ji(a),!(Xe&6)&&(V0=hr()+500,kp(0,!1))}}break;case 31:case 13:o=Il(a,2),o!==null&&$n(o,a,2),Cv(),D2(a,2)}if(a=aE(r),a===null&&n1(t,e,r,B0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else n1(t,e,r,null,n)}}function aE(t){return t=i2(t),B2(t)}var B0=null;function B2(t){if(B0=null,t=wu(t),t!==null){var e=yp(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=KV(e),t!==null)return t;t=null}else if(n===31){if(t=QV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return B0=t,null}function L5(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(V4()){case nG:return 2;case rG:return 8;case w0:case G4:return 32;case iG:return 268435456;default:return 32}default:return 32}}var sE=!1,Xs=null,Us=null,Ws=null,hf=new Map,ff=new Map,ls=[],JB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zR(t,e){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":hf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ff.delete(e.pointerId)}}function Td(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=sd(e),e!==null&&I5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $B(t,e,n,r,i){switch(e){case"focusin":return Xs=Td(Xs,t,e,n,r,i),!0;case"dragenter":return Us=Td(Us,t,e,n,r,i),!0;case"mouseover":return Ws=Td(Ws,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return hf.set(a,Td(hf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ff.set(a,Td(ff.get(a)||null,t,e,n,r,i)),!0}return!1}function Z5(t){var e=wu(t.target);if(e!==null){var n=yp(e);if(n!==null){if(e=n.tag,e===13){if(e=KV(n),e!==null){t.blockedOn=e,kT(t.priority,function(){PR(n)});return}}else if(e===31){if(e=QV(n),e!==null){t.blockedOn=e,kT(t.priority,function(){PR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ug(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=aE(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_S=r,n.target.dispatchEvent(r),_S=null}else return e=sd(n),e!==null&&I5(e),t.blockedOn=n,!1;e.shift()}return!0}function DR(t,e,n){Ug(t)&&n.delete(e)}function KB(){sE=!1,Xs!==null&&Ug(Xs)&&(Xs=null),Us!==null&&Ug(Us)&&(Us=null),Ws!==null&&Ug(Ws)&&(Ws=null),hf.forEach(DR),ff.forEach(DR)}function um(t,e){t.blockedOn===e&&(t.blockedOn=null,sE||(sE=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,KB)))}var cm=null;function jR(t){cm!==t&&(cm=t,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,function(){cm===t&&(cm=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(B2(r||n)===null)continue;break}var a=sd(n);a!==null&&(t.splice(e,3),e-=3,WS(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Zc(t){function e(l){return um(l,t)}Xs!==null&&um(Xs,t),Us!==null&&um(Us,t),Ws!==null&&um(Ws,t),hf.forEach(e),ff.forEach(e);for(var n=0;n<ls.length;n++){var r=ls[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ls.length&&(n=ls[0],n.blockedOn===null);)Z5(n),n.blockedOn===null&&ls.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[er]||null;if(typeof a=="function")s||jR(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[er]||null)o=s.formAction;else if(B2(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),jR(n)}}}function V5(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function F2(t){this._internalRoot=t}Rv.prototype.render=F2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,r=mr();O5(n,r,t,e,null,null)};Rv.prototype.unmount=F2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;O5(t.current,2,null,t,null,null),Cv(),e[ad]=null}};function Rv(t){this._internalRoot=t}Rv.prototype.unstable_scheduleHydration=function(t){if(t){var e=uG();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ls.length&&e!==0&&e<ls[n].priority;n++);ls.splice(n,0,t),n===0&&Z5(t)}};var BR=JV.version;if(BR!=="19.2.0")throw Error(U(527,BR,"19.2.0"));Ue.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=T4(e),t=t!==null?qV(t):null,t=t===null?null:t.stateNode,t};var QB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{vp=dm.inject(QB),fr=dm}catch{}}dv.createRoot=function(t,e){if(!$V(t))throw Error(U(299));var n=!1,r="",i=CA,a=kA,s=TA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=R5(t,1,!1,null,null,n,r,null,i,a,s,V5),t[ad]=e.current,W2(t),new F2(e)};dv.hydrateRoot=function(t,e,n){if(!$V(t))throw Error(U(299));var r=!1,i="",a=CA,s=kA,o=TA,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=R5(t,1,!0,e,n??null,r,i,l,a,s,o,V5),e.context=N5(null),n=e.current,r=mr(),r=e2(r),i=Vs(r),i.callback=null,Gs(n,i,r),n=r,e.current.lanes=n,wp(e,n),ji(e),t[ad]=e.current,W2(t),new Rv(e)};dv.version="19.2.0";function G5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G5)}catch(t){console.error(t)}}G5(),DV.exports=dv;var qB=DV.exports;const eF=lv(qB);var Jr={},A5={exports:{}},M5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var V=L.length;L.push(G);e:for(;0<V;){var P=V-1>>>1,F=L[P];if(0<i(F,G))L[P]=G,L[V]=F,V=P;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var G=L[0],V=L.pop();if(V!==G){L[0]=V;e:for(var P=0,F=L.length,ie=F>>>1;P<ie;){var re=2*(P+1)-1,ve=L[re],ce=re+1,H=L[ce];if(0>i(ve,V))ce<F&&0>i(H,ve)?(L[P]=H,L[ce]=V,P=ce):(L[P]=ve,L[re]=V,P=re);else if(ce<F&&0>i(H,V))L[P]=H,L[ce]=V,P=ce;else break e}}return G}function i(L,G){var V=L.sortIndex-G.sortIndex;return V!==0?V:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,f=3,p=!1,v=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=L)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function w(L){if(m=!1,b(L),!v)if(n(l)!==null)v=!0,O(E);else{var G=n(u);G!==null&&X(w,G.startTime-L)}}function E(L,G){v=!1,m&&(m=!1,y(k),k=-1),p=!0;var V=f;try{for(b(G),d=n(l);d!==null&&(!(d.expirationTime>G)||L&&!A());){var P=d.callback;if(typeof P=="function"){d.callback=null,f=d.priorityLevel;var F=P(d.expirationTime<=G);G=t.unstable_now(),typeof F=="function"?d.callback=F:d===n(l)&&r(l),b(G)}else r(l);d=n(l)}if(d!==null)var ie=!0;else{var re=n(u);re!==null&&X(w,re.startTime-G),ie=!1}return ie}finally{d=null,f=V,p=!1}}var _=!1,C=null,k=-1,x=5,T=-1;function A(){return!(t.unstable_now()-T<x)}function M(){if(C!==null){var L=t.unstable_now();T=L;var G=!0;try{G=C(!0,L)}finally{G?z():(_=!1,C=null)}}else _=!1}var z;if(typeof g=="function")z=function(){g(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,I=N.port2;N.port1.onmessage=M,z=function(){I.postMessage(null)}}else z=function(){S(M,0)};function O(L){C=L,_||(_=!0,z())}function X(L,G){k=S(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var V=f;f=G;try{return L()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=f;f=L;try{return G()}finally{f=V}},t.unstable_scheduleCallback=function(L,G,V){var P=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?P+V:P):V=P,L){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=V+F,L={id:c++,callback:G,priorityLevel:L,startTime:V,expirationTime:F,sortIndex:-1},V>P?(L.sortIndex=V,e(u,L),n(l)===null&&L===n(u)&&(m?(y(k),k=-1):m=!0,X(w,V-P))):(L.sortIndex=F,e(l,L),v||p||(v=!0,O(E))),L},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(L){var G=f;return function(){var V=f;f=G;try{return L.apply(this,arguments)}finally{f=V}}}})(M5);A5.exports=M5;var tF=A5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nF=j,wr=tF;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X5=new Set,pf={};function Zl(t,e){Vc(t,e),Vc(t+"Capture",e)}function Vc(t,e){for(pf[t]=e,t=0;t<e.length;t++)X5.add(e[t])}var Za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oE=Object.prototype.hasOwnProperty,rF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FR={},HR={};function iF(t){return oE.call(HR,t)?!0:oE.call(FR,t)?!1:rF.test(t)?HR[t]=!0:(FR[t]=!0,!1)}function aF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sF(t,e,n,r){if(e===null||typeof e>"u"||aF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gn(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){un[t]=new Gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];un[e]=new Gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){un[t]=new Gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){un[t]=new Gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){un[t]=new Gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){un[t]=new Gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){un[t]=new Gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){un[t]=new Gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){un[t]=new Gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var H2=/[\-:]([a-z])/g;function Y2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(H2,Y2);un[e]=new Gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(H2,Y2);un[e]=new Gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(H2,Y2);un[e]=new Gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){un[t]=new Gn(t,1,!1,t.toLowerCase(),null,!1,!1)});un.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){un[t]=new Gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function J2(t,e,n,r){var i=un.hasOwnProperty(e)?un[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sF(e,n,i,r)&&(n=null),r||i===null?iF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pa=nF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hm=Symbol.for("react.element"),Ou=Symbol.for("react.portal"),Iu=Symbol.for("react.fragment"),$2=Symbol.for("react.strict_mode"),lE=Symbol.for("react.profiler"),U5=Symbol.for("react.provider"),W5=Symbol.for("react.context"),K2=Symbol.for("react.forward_ref"),uE=Symbol.for("react.suspense"),cE=Symbol.for("react.suspense_list"),Q2=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),P5=Symbol.for("react.offscreen"),YR=Symbol.iterator;function Rd(t){return t===null||typeof t!="object"?null:(t=YR&&t[YR]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,a1;function ah(t){if(a1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);a1=e&&e[1]||""}return`
`+a1+t}var s1=!1;function o1(t,e){if(!t||s1)return"";s1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{s1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ah(t):""}function oF(t){switch(t.tag){case 5:return ah(t.type);case 16:return ah("Lazy");case 13:return ah("Suspense");case 19:return ah("SuspenseList");case 0:case 2:case 15:return t=o1(t.type,!1),t;case 11:return t=o1(t.type.render,!1),t;case 1:return t=o1(t.type,!0),t;default:return""}}function dE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Iu:return"Fragment";case Ou:return"Portal";case lE:return"Profiler";case $2:return"StrictMode";case uE:return"Suspense";case cE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W5:return(t.displayName||"Context")+".Consumer";case U5:return(t._context.displayName||"Context")+".Provider";case K2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q2:return e=t.displayName||null,e!==null?e:dE(t.type)||"Memo";case ts:e=t._payload,t=t._init;try{return dE(t(e))}catch{}}return null}function lF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dE(e);case 8:return e===$2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function to(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uF(t){var e=z5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fm(t){t._valueTracker||(t._valueTracker=uF(t))}function D5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=z5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function F0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hE(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function JR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=to(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j5(t,e){e=e.checked,e!=null&&J2(t,"checked",e,!1)}function fE(t,e){j5(t,e);var n=to(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pE(t,e.type,n):e.hasOwnProperty("defaultValue")&&pE(t,e.type,to(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $R(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pE(t,e,n){(e!=="number"||F0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sh=Array.isArray;function ec(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+to(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(sh(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:to(n)}}function B5(t,e){var n=to(e.value),r=to(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function QR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pm,H5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pm=pm||document.createElement("div"),pm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cF=["Webkit","ms","Moz","O"];Object.keys(Th).forEach(function(t){cF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Th[e]=Th[t]})});function Y5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Th.hasOwnProperty(t)&&Th[t]?(""+e).trim():e+"px"}function J5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Y5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dF=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yE(t,e){if(e){if(dF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function vE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bE=null;function q2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wE=null,tc=null,nc=null;function qR(t){if(t=Ip(t)){if(typeof wE!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Zv(e),wE(t.stateNode,t.type,e))}}function $5(t){tc?nc?nc.push(t):nc=[t]:tc=t}function K5(){if(tc){var t=tc,e=nc;if(nc=tc=null,qR(t),e)for(t=0;t<e.length;t++)qR(e[t])}}function Q5(t,e){return t(e)}function q5(){}var l1=!1;function eM(t,e,n){if(l1)return t(e,n);l1=!0;try{return Q5(t,e,n)}finally{l1=!1,(tc!==null||nc!==null)&&(q5(),K5())}}function gf(t,e){var n=t.stateNode;if(n===null)return null;var r=Zv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var SE=!1;if(Za)try{var Nd={};Object.defineProperty(Nd,"passive",{get:function(){SE=!0}}),window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{SE=!1}function hF(t,e,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Rh=!1,H0=null,Y0=!1,EE=null,fF={onError:function(t){Rh=!0,H0=t}};function pF(t,e,n,r,i,a,s,o,l){Rh=!1,H0=null,hF.apply(fF,arguments)}function mF(t,e,n,r,i,a,s,o,l){if(pF.apply(this,arguments),Rh){if(Rh){var u=H0;Rh=!1,H0=null}else throw Error(D(198));Y0||(Y0=!0,EE=u)}}function Vl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eN(t){if(Vl(t)!==t)throw Error(D(188))}function gF(t){var e=t.alternate;if(!e){if(e=Vl(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return eN(i),t;if(a===r)return eN(i),e;a=a.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function nM(t){return t=gF(t),t!==null?rM(t):null}function rM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rM(t);if(e!==null)return e;t=t.sibling}return null}var iM=wr.unstable_scheduleCallback,tN=wr.unstable_cancelCallback,yF=wr.unstable_shouldYield,vF=wr.unstable_requestPaint,_t=wr.unstable_now,bF=wr.unstable_getCurrentPriorityLevel,eC=wr.unstable_ImmediatePriority,aM=wr.unstable_UserBlockingPriority,J0=wr.unstable_NormalPriority,wF=wr.unstable_LowPriority,sM=wr.unstable_IdlePriority,Nv=null,Wi=null;function SF(t){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(Nv,t,void 0,(t.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:_F,EF=Math.log,xF=Math.LN2;function _F(t){return t>>>=0,t===0?32:31-(EF(t)/xF|0)|0}var mm=64,gm=4194304;function oh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=oh(o):(a&=s,a!==0&&(r=oh(a)))}else s=n&~i,s!==0?r=oh(s):a!==0&&(r=oh(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-di(e),i=1<<n,r|=t[n],e&=~i;return r}function CF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-di(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=CF(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function xE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oM(){var t=mm;return mm<<=1,!(mm&4194240)&&(mm=64),t}function u1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Np(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-di(e),t[e]=n}function TF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-di(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function tC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-di(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function lM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uM,nC,cM,dM,hM,_E=!1,ym=[],Ps=null,zs=null,Ds=null,yf=new Map,vf=new Map,us=[],RF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nN(t,e){switch(t){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":yf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vf.delete(e.pointerId)}}function Od(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ip(e),e!==null&&nC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NF(t,e,n,r,i){switch(e){case"focusin":return Ps=Od(Ps,t,e,n,r,i),!0;case"dragenter":return zs=Od(zs,t,e,n,r,i),!0;case"mouseover":return Ds=Od(Ds,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return yf.set(a,Od(yf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,vf.set(a,Od(vf.get(a)||null,t,e,n,r,i)),!0}return!1}function fM(t){var e=Vo(t.target);if(e!==null){var n=Vl(e);if(n!==null){if(e=n.tag,e===13){if(e=tM(n),e!==null){t.blockedOn=e,hM(t.priority,function(){cM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=CE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bE=r,n.target.dispatchEvent(r),bE=null}else return e=Ip(n),e!==null&&nC(e),t.blockedOn=n,!1;e.shift()}return!0}function rN(t,e,n){Wg(t)&&n.delete(e)}function OF(){_E=!1,Ps!==null&&Wg(Ps)&&(Ps=null),zs!==null&&Wg(zs)&&(zs=null),Ds!==null&&Wg(Ds)&&(Ds=null),yf.forEach(rN),vf.forEach(rN)}function Id(t,e){t.blockedOn===e&&(t.blockedOn=null,_E||(_E=!0,wr.unstable_scheduleCallback(wr.unstable_NormalPriority,OF)))}function bf(t){function e(i){return Id(i,t)}if(0<ym.length){Id(ym[0],t);for(var n=1;n<ym.length;n++){var r=ym[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ps!==null&&Id(Ps,t),zs!==null&&Id(zs,t),Ds!==null&&Id(Ds,t),yf.forEach(e),vf.forEach(e),n=0;n<us.length;n++)r=us[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<us.length&&(n=us[0],n.blockedOn===null);)fM(n),n.blockedOn===null&&us.shift()}var rc=Pa.ReactCurrentBatchConfig,K0=!0;function IF(t,e,n,r){var i=je,a=rc.transition;rc.transition=null;try{je=1,rC(t,e,n,r)}finally{je=i,rc.transition=a}}function LF(t,e,n,r){var i=je,a=rc.transition;rc.transition=null;try{je=4,rC(t,e,n,r)}finally{je=i,rc.transition=a}}function rC(t,e,n,r){if(K0){var i=CE(t,e,n,r);if(i===null)b1(t,e,r,Q0,n),nN(t,r);else if(NF(i,t,e,n,r))r.stopPropagation();else if(nN(t,r),e&4&&-1<RF.indexOf(t)){for(;i!==null;){var a=Ip(i);if(a!==null&&uM(a),a=CE(t,e,n,r),a===null&&b1(t,e,r,Q0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else b1(t,e,r,null,n)}}var Q0=null;function CE(t,e,n,r){if(Q0=null,t=q2(r),t=Vo(t),t!==null)if(e=Vl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Q0=t,null}function pM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bF()){case eC:return 1;case aM:return 4;case J0:case wF:return 16;case sM:return 536870912;default:return 16}default:return 16}}var Rs=null,iC=null,Pg=null;function mM(){if(Pg)return Pg;var t,e=iC,n=e.length,r,i="value"in Rs?Rs.value:Rs.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Pg=i.slice(t,1<r?1-r:void 0)}function zg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vm(){return!0}function iN(){return!1}function Er(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vm:iN,this.isPropagationStopped=iN,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vm)},persist:function(){},isPersistent:vm}),e}var hd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aC=Er(hd),Op=yt({},hd,{view:0,detail:0}),ZF=Er(Op),c1,d1,Ld,Ov=yt({},Op,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ld&&(Ld&&t.type==="mousemove"?(c1=t.screenX-Ld.screenX,d1=t.screenY-Ld.screenY):d1=c1=0,Ld=t),c1)},movementY:function(t){return"movementY"in t?t.movementY:d1}}),aN=Er(Ov),VF=yt({},Ov,{dataTransfer:0}),GF=Er(VF),AF=yt({},Op,{relatedTarget:0}),h1=Er(AF),MF=yt({},hd,{animationName:0,elapsedTime:0,pseudoElement:0}),XF=Er(MF),UF=yt({},hd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WF=Er(UF),PF=yt({},hd,{data:0}),sN=Er(PF),zF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jF[t])?!!e[t]:!1}function sC(){return BF}var FF=yt({},Op,{key:function(t){if(t.key){var e=zF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sC,charCode:function(t){return t.type==="keypress"?zg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HF=Er(FF),YF=yt({},Ov,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oN=Er(YF),JF=yt({},Op,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sC}),$F=Er(JF),KF=yt({},hd,{propertyName:0,elapsedTime:0,pseudoElement:0}),QF=Er(KF),qF=yt({},Ov,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eH=Er(qF),tH=[9,13,27,32],oC=Za&&"CompositionEvent"in window,Nh=null;Za&&"documentMode"in document&&(Nh=document.documentMode);var nH=Za&&"TextEvent"in window&&!Nh,gM=Za&&(!oC||Nh&&8<Nh&&11>=Nh),lN=String.fromCharCode(32),uN=!1;function yM(t,e){switch(t){case"keyup":return tH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lu=!1;function rH(t,e){switch(t){case"compositionend":return vM(e);case"keypress":return e.which!==32?null:(uN=!0,lN);case"textInput":return t=e.data,t===lN&&uN?null:t;default:return null}}function iH(t,e){if(Lu)return t==="compositionend"||!oC&&yM(t,e)?(t=mM(),Pg=iC=Rs=null,Lu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gM&&e.locale!=="ko"?null:e.data;default:return null}}var aH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aH[t.type]:e==="textarea"}function bM(t,e,n,r){$5(r),e=q0(e,"onChange"),0<e.length&&(n=new aC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Oh=null,wf=null;function sH(t){OM(t,0)}function Iv(t){var e=Gu(t);if(D5(e))return t}function oH(t,e){if(t==="change")return e}var wM=!1;if(Za){var f1;if(Za){var p1="oninput"in document;if(!p1){var dN=document.createElement("div");dN.setAttribute("oninput","return;"),p1=typeof dN.oninput=="function"}f1=p1}else f1=!1;wM=f1&&(!document.documentMode||9<document.documentMode)}function hN(){Oh&&(Oh.detachEvent("onpropertychange",SM),wf=Oh=null)}function SM(t){if(t.propertyName==="value"&&Iv(wf)){var e=[];bM(e,wf,t,q2(t)),eM(sH,e)}}function lH(t,e,n){t==="focusin"?(hN(),Oh=e,wf=n,Oh.attachEvent("onpropertychange",SM)):t==="focusout"&&hN()}function uH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iv(wf)}function cH(t,e){if(t==="click")return Iv(e)}function dH(t,e){if(t==="input"||t==="change")return Iv(e)}function hH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pi=typeof Object.is=="function"?Object.is:hH;function Sf(t,e){if(pi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oE.call(e,i)||!pi(t[i],e[i]))return!1}return!0}function fN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pN(t,e){var n=fN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fN(n)}}function EM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?EM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xM(){for(var t=window,e=F0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=F0(t.document)}return e}function lC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fH(t){var e=xM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&EM(n.ownerDocument.documentElement,n)){if(r!==null&&lC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=pN(n,a);var s=pN(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pH=Za&&"documentMode"in document&&11>=document.documentMode,Zu=null,kE=null,Ih=null,TE=!1;function mN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;TE||Zu==null||Zu!==F0(r)||(r=Zu,"selectionStart"in r&&lC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ih&&Sf(Ih,r)||(Ih=r,r=q0(kE,"onSelect"),0<r.length&&(e=new aC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zu)))}function bm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vu={animationend:bm("Animation","AnimationEnd"),animationiteration:bm("Animation","AnimationIteration"),animationstart:bm("Animation","AnimationStart"),transitionend:bm("Transition","TransitionEnd")},m1={},_M={};Za&&(_M=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function Lv(t){if(m1[t])return m1[t];if(!Vu[t])return t;var e=Vu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _M)return m1[t]=e[n];return t}var CM=Lv("animationend"),kM=Lv("animationiteration"),TM=Lv("animationstart"),RM=Lv("transitionend"),NM=new Map,gN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(t,e){NM.set(t,e),Zl(e,[t])}for(var g1=0;g1<gN.length;g1++){var y1=gN[g1],mH=y1.toLowerCase(),gH=y1[0].toUpperCase()+y1.slice(1);lo(mH,"on"+gH)}lo(CM,"onAnimationEnd");lo(kM,"onAnimationIteration");lo(TM,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(RM,"onTransitionEnd");Vc("onMouseEnter",["mouseout","mouseover"]);Vc("onMouseLeave",["mouseout","mouseover"]);Vc("onPointerEnter",["pointerout","pointerover"]);Vc("onPointerLeave",["pointerout","pointerover"]);Zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yH=new Set("cancel close invalid load scroll toggle".split(" ").concat(lh));function yN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mF(r,e,void 0,t),t.currentTarget=null}function OM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;yN(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;yN(i,o,u),a=l}}}if(Y0)throw t=EE,Y0=!1,EE=null,t}function it(t,e){var n=e[LE];n===void 0&&(n=e[LE]=new Set);var r=t+"__bubble";n.has(r)||(IM(e,t,2,!1),n.add(r))}function v1(t,e,n){var r=0;e&&(r|=4),IM(n,t,r,e)}var wm="_reactListening"+Math.random().toString(36).slice(2);function Ef(t){if(!t[wm]){t[wm]=!0,X5.forEach(function(n){n!=="selectionchange"&&(yH.has(n)||v1(n,!1,t),v1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wm]||(e[wm]=!0,v1("selectionchange",!1,e))}}function IM(t,e,n,r){switch(pM(e)){case 1:var i=IF;break;case 4:i=LF;break;default:i=rC}n=i.bind(null,e,n,t),i=void 0,!SE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function b1(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Vo(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}eM(function(){var u=a,c=q2(n),d=[];e:{var f=NM.get(t);if(f!==void 0){var p=aC,v=t;switch(t){case"keypress":if(zg(n)===0)break e;case"keydown":case"keyup":p=HF;break;case"focusin":v="focus",p=h1;break;case"focusout":v="blur",p=h1;break;case"beforeblur":case"afterblur":p=h1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=aN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=GF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$F;break;case CM:case kM:case TM:p=XF;break;case RM:p=QF;break;case"scroll":p=ZF;break;case"wheel":p=eH;break;case"copy":case"cut":case"paste":p=WF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=oN}var m=(e&4)!==0,S=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var g=u,b;g!==null;){b=g;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,y!==null&&(w=gf(g,y),w!=null&&m.push(xf(g,w,b)))),S)break;g=g.return}0<m.length&&(f=new p(f,v,null,n,c),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==bE&&(v=n.relatedTarget||n.fromElement)&&(Vo(v)||v[Va]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Vo(v):null,v!==null&&(S=Vl(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=aN,w="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=oN,w="onPointerLeave",y="onPointerEnter",g="pointer"),S=p==null?f:Gu(p),b=v==null?f:Gu(v),f=new m(w,g+"leave",p,n,c),f.target=S,f.relatedTarget=b,w=null,Vo(c)===u&&(m=new m(y,g+"enter",v,n,c),m.target=b,m.relatedTarget=S,w=m),S=w,p&&v)t:{for(m=p,y=v,g=0,b=m;b;b=$l(b))g++;for(b=0,w=y;w;w=$l(w))b++;for(;0<g-b;)m=$l(m),g--;for(;0<b-g;)y=$l(y),b--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=$l(m),y=$l(y)}m=null}else m=null;p!==null&&vN(d,f,p,m,!1),v!==null&&S!==null&&vN(d,S,v,m,!0)}}e:{if(f=u?Gu(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=oH;else if(cN(f))if(wM)E=dH;else{E=uH;var _=lH}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=cH);if(E&&(E=E(t,u))){bM(d,E,n,c);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&pE(f,"number",f.value)}switch(_=u?Gu(u):window,t){case"focusin":(cN(_)||_.contentEditable==="true")&&(Zu=_,kE=u,Ih=null);break;case"focusout":Ih=kE=Zu=null;break;case"mousedown":TE=!0;break;case"contextmenu":case"mouseup":case"dragend":TE=!1,mN(d,n,c);break;case"selectionchange":if(pH)break;case"keydown":case"keyup":mN(d,n,c)}var C;if(oC)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Lu?yM(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(gM&&n.locale!=="ko"&&(Lu||k!=="onCompositionStart"?k==="onCompositionEnd"&&Lu&&(C=mM()):(Rs=c,iC="value"in Rs?Rs.value:Rs.textContent,Lu=!0)),_=q0(u,k),0<_.length&&(k=new sN(k,t,null,n,c),d.push({event:k,listeners:_}),C?k.data=C:(C=vM(n),C!==null&&(k.data=C)))),(C=nH?rH(t,n):iH(t,n))&&(u=q0(u,"onBeforeInput"),0<u.length&&(c=new sN("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}OM(d,e)})}function xf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function q0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gf(t,n),a!=null&&r.unshift(xf(t,a,i)),a=gf(t,e),a!=null&&r.push(xf(t,a,i))),t=t.return}return r}function $l(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vN(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=gf(n,a),l!=null&&s.unshift(xf(n,l,o))):i||(l=gf(n,a),l!=null&&s.push(xf(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var vH=/\r\n?/g,bH=/\u0000|\uFFFD/g;function bN(t){return(typeof t=="string"?t:""+t).replace(vH,`
`).replace(bH,"")}function Sm(t,e,n){if(e=bN(e),bN(t)!==e&&n)throw Error(D(425))}function ey(){}var RE=null,NE=null;function OE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var IE=typeof setTimeout=="function"?setTimeout:void 0,wH=typeof clearTimeout=="function"?clearTimeout:void 0,wN=typeof Promise=="function"?Promise:void 0,SH=typeof queueMicrotask=="function"?queueMicrotask:typeof wN<"u"?function(t){return wN.resolve(null).then(t).catch(EH)}:IE;function EH(t){setTimeout(function(){throw t})}function w1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bf(e)}function js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function SN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fd=Math.random().toString(36).slice(2),Zi="__reactFiber$"+fd,_f="__reactProps$"+fd,Va="__reactContainer$"+fd,LE="__reactEvents$"+fd,xH="__reactListeners$"+fd,_H="__reactHandles$"+fd;function Vo(t){var e=t[Zi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Va]||n[Zi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=SN(t);t!==null;){if(n=t[Zi])return n;t=SN(t)}return e}t=n,n=t.parentNode}return null}function Ip(t){return t=t[Zi]||t[Va],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Zv(t){return t[_f]||null}var ZE=[],Au=-1;function uo(t){return{current:t}}function lt(t){0>Au||(t.current=ZE[Au],ZE[Au]=null,Au--)}function et(t,e){Au++,ZE[Au]=t.current,t.current=e}var no={},gn=uo(no),Kn=uo(!1),ml=no;function Gc(t,e){var n=t.type.contextTypes;if(!n)return no;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function ty(){lt(Kn),lt(gn)}function EN(t,e,n){if(gn.current!==no)throw Error(D(168));et(gn,e),et(Kn,n)}function LM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,lF(t)||"Unknown",i));return yt({},n,r)}function ny(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||no,ml=gn.current,et(gn,t),et(Kn,Kn.current),!0}function xN(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=LM(t,e,ml),r.__reactInternalMemoizedMergedChildContext=t,lt(Kn),lt(gn),et(gn,t)):lt(Kn),et(Kn,n)}var la=null,Vv=!1,S1=!1;function ZM(t){la===null?la=[t]:la.push(t)}function CH(t){Vv=!0,ZM(t)}function co(){if(!S1&&la!==null){S1=!0;var t=0,e=je;try{var n=la;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}la=null,Vv=!1}catch(i){throw la!==null&&(la=la.slice(t+1)),iM(eC,co),i}finally{je=e,S1=!1}}return null}var Mu=[],Xu=0,ry=null,iy=0,Lr=[],Zr=0,gl=null,ba=1,wa="";function xo(t,e){Mu[Xu++]=iy,Mu[Xu++]=ry,ry=t,iy=e}function VM(t,e,n){Lr[Zr++]=ba,Lr[Zr++]=wa,Lr[Zr++]=gl,gl=t;var r=ba;t=wa;var i=32-di(r)-1;r&=~(1<<i),n+=1;var a=32-di(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ba=1<<32-di(e)+i|n<<i|r,wa=a+t}else ba=1<<a|n<<i|r,wa=t}function uC(t){t.return!==null&&(xo(t,1),VM(t,1,0))}function cC(t){for(;t===ry;)ry=Mu[--Xu],Mu[Xu]=null,iy=Mu[--Xu],Mu[Xu]=null;for(;t===gl;)gl=Lr[--Zr],Lr[Zr]=null,wa=Lr[--Zr],Lr[Zr]=null,ba=Lr[--Zr],Lr[Zr]=null}var gr=null,cr=null,ft=!1,ci=null;function GM(t,e){var n=Xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _N(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gr=t,cr=js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gr=t,cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gl!==null?{id:ba,overflow:wa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gr=t,cr=null,!0):!1;default:return!1}}function VE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function GE(t){if(ft){var e=cr;if(e){var n=e;if(!_N(t,e)){if(VE(t))throw Error(D(418));e=js(n.nextSibling);var r=gr;e&&_N(t,e)?GM(r,n):(t.flags=t.flags&-4097|2,ft=!1,gr=t)}}else{if(VE(t))throw Error(D(418));t.flags=t.flags&-4097|2,ft=!1,gr=t}}}function CN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gr=t}function Em(t){if(t!==gr)return!1;if(!ft)return CN(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!OE(t.type,t.memoizedProps)),e&&(e=cr)){if(VE(t))throw AM(),Error(D(418));for(;e;)GM(t,e),e=js(e.nextSibling)}if(CN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cr=js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cr=null}}else cr=gr?js(t.stateNode.nextSibling):null;return!0}function AM(){for(var t=cr;t;)t=js(t.nextSibling)}function Ac(){cr=gr=null,ft=!1}function dC(t){ci===null?ci=[t]:ci.push(t)}var kH=Pa.ReactCurrentBatchConfig;function Zd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function xm(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kN(t){var e=t._init;return e(t._payload)}function MM(t){function e(y,g){if(t){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Ys(y,g),y.index=0,y.sibling=null,y}function a(y,g,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,g,b,w){return g===null||g.tag!==6?(g=R1(b,y.mode,w),g.return=y,g):(g=i(g,b),g.return=y,g)}function l(y,g,b,w){var E=b.type;return E===Iu?c(y,g,b.props.children,w,b.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ts&&kN(E)===g.type)?(w=i(g,b.props),w.ref=Zd(y,g,b),w.return=y,w):(w=Jg(b.type,b.key,b.props,null,y.mode,w),w.ref=Zd(y,g,b),w.return=y,w)}function u(y,g,b,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=N1(b,y.mode,w),g.return=y,g):(g=i(g,b.children||[]),g.return=y,g)}function c(y,g,b,w,E){return g===null||g.tag!==7?(g=nl(b,y.mode,w,E),g.return=y,g):(g=i(g,b),g.return=y,g)}function d(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=R1(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hm:return b=Jg(g.type,g.key,g.props,null,y.mode,b),b.ref=Zd(y,null,g),b.return=y,b;case Ou:return g=N1(g,y.mode,b),g.return=y,g;case ts:var w=g._init;return d(y,w(g._payload),b)}if(sh(g)||Rd(g))return g=nl(g,y.mode,b,null),g.return=y,g;xm(y,g)}return null}function f(y,g,b,w){var E=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:o(y,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hm:return b.key===E?l(y,g,b,w):null;case Ou:return b.key===E?u(y,g,b,w):null;case ts:return E=b._init,f(y,g,E(b._payload),w)}if(sh(b)||Rd(b))return E!==null?null:c(y,g,b,w,null);xm(y,b)}return null}function p(y,g,b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(b)||null,o(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hm:return y=y.get(w.key===null?b:w.key)||null,l(g,y,w,E);case Ou:return y=y.get(w.key===null?b:w.key)||null,u(g,y,w,E);case ts:var _=w._init;return p(y,g,b,_(w._payload),E)}if(sh(w)||Rd(w))return y=y.get(b)||null,c(g,y,w,E,null);xm(g,w)}return null}function v(y,g,b,w){for(var E=null,_=null,C=g,k=g=0,x=null;C!==null&&k<b.length;k++){C.index>k?(x=C,C=null):x=C.sibling;var T=f(y,C,b[k],w);if(T===null){C===null&&(C=x);break}t&&C&&T.alternate===null&&e(y,C),g=a(T,g,k),_===null?E=T:_.sibling=T,_=T,C=x}if(k===b.length)return n(y,C),ft&&xo(y,k),E;if(C===null){for(;k<b.length;k++)C=d(y,b[k],w),C!==null&&(g=a(C,g,k),_===null?E=C:_.sibling=C,_=C);return ft&&xo(y,k),E}for(C=r(y,C);k<b.length;k++)x=p(C,y,k,b[k],w),x!==null&&(t&&x.alternate!==null&&C.delete(x.key===null?k:x.key),g=a(x,g,k),_===null?E=x:_.sibling=x,_=x);return t&&C.forEach(function(A){return e(y,A)}),ft&&xo(y,k),E}function m(y,g,b,w){var E=Rd(b);if(typeof E!="function")throw Error(D(150));if(b=E.call(b),b==null)throw Error(D(151));for(var _=E=null,C=g,k=g=0,x=null,T=b.next();C!==null&&!T.done;k++,T=b.next()){C.index>k?(x=C,C=null):x=C.sibling;var A=f(y,C,T.value,w);if(A===null){C===null&&(C=x);break}t&&C&&A.alternate===null&&e(y,C),g=a(A,g,k),_===null?E=A:_.sibling=A,_=A,C=x}if(T.done)return n(y,C),ft&&xo(y,k),E;if(C===null){for(;!T.done;k++,T=b.next())T=d(y,T.value,w),T!==null&&(g=a(T,g,k),_===null?E=T:_.sibling=T,_=T);return ft&&xo(y,k),E}for(C=r(y,C);!T.done;k++,T=b.next())T=p(C,y,k,T.value,w),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?k:T.key),g=a(T,g,k),_===null?E=T:_.sibling=T,_=T);return t&&C.forEach(function(M){return e(y,M)}),ft&&xo(y,k),E}function S(y,g,b,w){if(typeof b=="object"&&b!==null&&b.type===Iu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case hm:e:{for(var E=b.key,_=g;_!==null;){if(_.key===E){if(E=b.type,E===Iu){if(_.tag===7){n(y,_.sibling),g=i(_,b.props.children),g.return=y,y=g;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ts&&kN(E)===_.type){n(y,_.sibling),g=i(_,b.props),g.ref=Zd(y,_,b),g.return=y,y=g;break e}n(y,_);break}else e(y,_);_=_.sibling}b.type===Iu?(g=nl(b.props.children,y.mode,w,b.key),g.return=y,y=g):(w=Jg(b.type,b.key,b.props,null,y.mode,w),w.ref=Zd(y,g,b),w.return=y,y=w)}return s(y);case Ou:e:{for(_=b.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(y,g.sibling),g=i(g,b.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=N1(b,y.mode,w),g.return=y,y=g}return s(y);case ts:return _=b._init,S(y,g,_(b._payload),w)}if(sh(b))return v(y,g,b,w);if(Rd(b))return m(y,g,b,w);xm(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,b),g.return=y,y=g):(n(y,g),g=R1(b,y.mode,w),g.return=y,y=g),s(y)):n(y,g)}return S}var Mc=MM(!0),XM=MM(!1),ay=uo(null),sy=null,Uu=null,hC=null;function fC(){hC=Uu=sy=null}function pC(t){var e=ay.current;lt(ay),t._currentValue=e}function AE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ic(t,e){sy=t,hC=Uu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jn=!0),t.firstContext=null)}function Br(t){var e=t._currentValue;if(hC!==t)if(t={context:t,memoizedValue:e,next:null},Uu===null){if(sy===null)throw Error(D(308));Uu=t,sy.dependencies={lanes:0,firstContext:t}}else Uu=Uu.next=t;return e}var Go=null;function mC(t){Go===null?Go=[t]:Go.push(t)}function UM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mC(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ga(t,r)}function Ga(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ns=!1;function gC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ca(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ga(t,n)}return i=r.interleaved,i===null?(e.next=e,mC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ga(t,n)}function Dg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tC(t,n)}}function TN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oy(t,e,n,r){var i=t.updateQueue;ns=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var f=o.lane,p=o.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,m=o;switch(f=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=yt({},d,f);break e;case 2:ns=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);vl|=s,t.lanes=s,t.memoizedState=d}}function RN(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var Lp={},Pi=uo(Lp),Cf=uo(Lp),kf=uo(Lp);function Ao(t){if(t===Lp)throw Error(D(174));return t}function yC(t,e){switch(et(kf,e),et(Cf,t),et(Pi,Lp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gE(e,t)}lt(Pi),et(Pi,e)}function Xc(){lt(Pi),lt(Cf),lt(kf)}function PM(t){Ao(kf.current);var e=Ao(Pi.current),n=gE(e,t.type);e!==n&&(et(Cf,t),et(Pi,n))}function vC(t){Cf.current===t&&(lt(Pi),lt(Cf))}var mt=uo(0);function ly(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var E1=[];function bC(){for(var t=0;t<E1.length;t++)E1[t]._workInProgressVersionPrimary=null;E1.length=0}var jg=Pa.ReactCurrentDispatcher,x1=Pa.ReactCurrentBatchConfig,yl=0,gt=null,Xt=null,Yt=null,uy=!1,Lh=!1,Tf=0,TH=0;function cn(){throw Error(D(321))}function wC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pi(t[n],e[n]))return!1;return!0}function SC(t,e,n,r,i,a){if(yl=a,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jg.current=t===null||t.memoizedState===null?IH:LH,t=n(r,i),Lh){a=0;do{if(Lh=!1,Tf=0,25<=a)throw Error(D(301));a+=1,Yt=Xt=null,e.updateQueue=null,jg.current=ZH,t=n(r,i)}while(Lh)}if(jg.current=cy,e=Xt!==null&&Xt.next!==null,yl=0,Yt=Xt=gt=null,uy=!1,e)throw Error(D(300));return t}function EC(){var t=Tf!==0;return Tf=0,t}function ki(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?gt.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function Fr(){if(Xt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=Yt===null?gt.memoizedState:Yt.next;if(e!==null)Yt=e,Xt=t;else{if(t===null)throw Error(D(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Yt===null?gt.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Rf(t,e){return typeof e=="function"?e(t):e}function _1(t){var e=Fr(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Xt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((yl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,gt.lanes|=c,vl|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,pi(r,e.memoizedState)||(Jn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,gt.lanes|=a,vl|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function C1(t){var e=Fr(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);pi(a,e.memoizedState)||(Jn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function zM(){}function DM(t,e){var n=gt,r=Fr(),i=e(),a=!pi(r.memoizedState,i);if(a&&(r.memoizedState=i,Jn=!0),r=r.queue,xC(FM.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Yt!==null&&Yt.memoizedState.tag&1){if(n.flags|=2048,Nf(9,BM.bind(null,n,r,i,e),void 0,null),Qt===null)throw Error(D(349));yl&30||jM(n,e,i)}return i}function jM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BM(t,e,n,r){e.value=n,e.getSnapshot=r,HM(e)&&YM(t)}function FM(t,e,n){return n(function(){HM(e)&&YM(t)})}function HM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pi(t,n)}catch{return!0}}function YM(t){var e=Ga(t,1);e!==null&&hi(e,t,1,-1)}function NN(t){var e=ki();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:t},e.queue=t,t=t.dispatch=OH.bind(null,gt,t),[e.memoizedState,t]}function Nf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JM(){return Fr().memoizedState}function Bg(t,e,n,r){var i=ki();gt.flags|=t,i.memoizedState=Nf(1|e,n,void 0,r===void 0?null:r)}function Gv(t,e,n,r){var i=Fr();r=r===void 0?null:r;var a=void 0;if(Xt!==null){var s=Xt.memoizedState;if(a=s.destroy,r!==null&&wC(r,s.deps)){i.memoizedState=Nf(e,n,a,r);return}}gt.flags|=t,i.memoizedState=Nf(1|e,n,a,r)}function ON(t,e){return Bg(8390656,8,t,e)}function xC(t,e){return Gv(2048,8,t,e)}function $M(t,e){return Gv(4,2,t,e)}function KM(t,e){return Gv(4,4,t,e)}function QM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qM(t,e,n){return n=n!=null?n.concat([t]):null,Gv(4,4,QM.bind(null,e,t),n)}function _C(){}function eX(t,e){var n=Fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tX(t,e){var n=Fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nX(t,e,n){return yl&21?(pi(n,e)||(n=oM(),gt.lanes|=n,vl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jn=!0),t.memoizedState=n)}function RH(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=x1.transition;x1.transition={};try{t(!1),e()}finally{je=n,x1.transition=r}}function rX(){return Fr().memoizedState}function NH(t,e,n){var r=Hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iX(t))aX(e,n);else if(n=UM(t,e,n,r),n!==null){var i=In();hi(n,t,r,i),sX(n,e,r)}}function OH(t,e,n){var r=Hs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iX(t))aX(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,pi(o,s)){var l=e.interleaved;l===null?(i.next=i,mC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=UM(t,e,i,r),n!==null&&(i=In(),hi(n,t,r,i),sX(n,e,r))}}function iX(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function aX(t,e){Lh=uy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sX(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tC(t,n)}}var cy={readContext:Br,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},IH={readContext:Br,useCallback:function(t,e){return ki().memoizedState=[t,e===void 0?null:e],t},useContext:Br,useEffect:ON,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bg(4194308,4,QM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bg(4,2,t,e)},useMemo:function(t,e){var n=ki();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ki();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NH.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=ki();return t={current:t},e.memoizedState=t},useState:NN,useDebugValue:_C,useDeferredValue:function(t){return ki().memoizedState=t},useTransition:function(){var t=NN(!1),e=t[0];return t=RH.bind(null,t[1]),ki().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=ki();if(ft){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Qt===null)throw Error(D(349));yl&30||jM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,ON(FM.bind(null,r,a,t),[t]),r.flags|=2048,Nf(9,BM.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ki(),e=Qt.identifierPrefix;if(ft){var n=wa,r=ba;n=(r&~(1<<32-di(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LH={readContext:Br,useCallback:eX,useContext:Br,useEffect:xC,useImperativeHandle:qM,useInsertionEffect:$M,useLayoutEffect:KM,useMemo:tX,useReducer:_1,useRef:JM,useState:function(){return _1(Rf)},useDebugValue:_C,useDeferredValue:function(t){var e=Fr();return nX(e,Xt.memoizedState,t)},useTransition:function(){var t=_1(Rf)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:zM,useSyncExternalStore:DM,useId:rX,unstable_isNewReconciler:!1},ZH={readContext:Br,useCallback:eX,useContext:Br,useEffect:xC,useImperativeHandle:qM,useInsertionEffect:$M,useLayoutEffect:KM,useMemo:tX,useReducer:C1,useRef:JM,useState:function(){return C1(Rf)},useDebugValue:_C,useDeferredValue:function(t){var e=Fr();return Xt===null?e.memoizedState=t:nX(e,Xt.memoizedState,t)},useTransition:function(){var t=C1(Rf)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:zM,useSyncExternalStore:DM,useId:rX,unstable_isNewReconciler:!1};function ni(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ME(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Av={isMounted:function(t){return(t=t._reactInternals)?Vl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=In(),i=Hs(t),a=Ca(r,i);a.payload=e,n!=null&&(a.callback=n),e=Bs(t,a,i),e!==null&&(hi(e,t,i,r),Dg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=In(),i=Hs(t),a=Ca(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Bs(t,a,i),e!==null&&(hi(e,t,i,r),Dg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=In(),r=Hs(t),i=Ca(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bs(t,i,r),e!==null&&(hi(e,t,r,n),Dg(e,t,r))}};function IN(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Sf(n,r)||!Sf(i,a):!0}function oX(t,e,n){var r=!1,i=no,a=e.contextType;return typeof a=="object"&&a!==null?a=Br(a):(i=Qn(e)?ml:gn.current,r=e.contextTypes,a=(r=r!=null)?Gc(t,i):no),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Av,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function LN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Av.enqueueReplaceState(e,e.state,null)}function XE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gC(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Br(a):(a=Qn(e)?ml:gn.current,i.context=Gc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ME(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Av.enqueueReplaceState(i,i.state,null),oy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uc(t,e){try{var n="",r=e;do n+=oF(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function k1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function UE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VH=typeof WeakMap=="function"?WeakMap:Map;function lX(t,e,n){n=Ca(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hy||(hy=!0,JE=r),UE(t,e)},n}function uX(t,e,n){n=Ca(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){UE(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){UE(t,e),typeof r!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ZN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=YH.bind(null,t,e,n),e.then(t,t))}function VN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GN(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ca(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var GH=Pa.ReactCurrentOwner,Jn=!1;function _n(t,e,n,r){e.child=t===null?XM(e,null,n,r):Mc(e,t.child,n,r)}function AN(t,e,n,r,i){n=n.render;var a=e.ref;return ic(e,i),r=SC(t,e,n,r,a,i),n=EC(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Aa(t,e,i)):(ft&&n&&uC(e),e.flags|=1,_n(t,e,r,i),e.child)}function MN(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!LC(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,cX(t,e,a,r,i)):(t=Jg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Sf,n(s,r)&&t.ref===e.ref)return Aa(t,e,i)}return e.flags|=1,t=Ys(a,r),t.ref=e.ref,t.return=e,e.child=t}function cX(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Sf(a,r)&&t.ref===e.ref)if(Jn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Jn=!0);else return e.lanes=t.lanes,Aa(t,e,i)}return WE(t,e,n,r,i)}function dX(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Pu,ir),ir|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Pu,ir),ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,et(Pu,ir),ir|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,et(Pu,ir),ir|=r;return _n(t,e,i,n),e.child}function hX(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function WE(t,e,n,r,i){var a=Qn(n)?ml:gn.current;return a=Gc(e,a),ic(e,i),n=SC(t,e,n,r,a,i),r=EC(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Aa(t,e,i)):(ft&&r&&uC(e),e.flags|=1,_n(t,e,n,i),e.child)}function XN(t,e,n,r,i){if(Qn(n)){var a=!0;ny(e)}else a=!1;if(ic(e,i),e.stateNode===null)Fg(t,e),oX(e,n,r),XE(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Br(u):(u=Qn(n)?ml:gn.current,u=Gc(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&LN(e,s,r,u),ns=!1;var f=e.memoizedState;s.state=f,oy(e,r,s,i),l=e.memoizedState,o!==r||f!==l||Kn.current||ns?(typeof c=="function"&&(ME(e,n,c,r),l=e.memoizedState),(o=ns||IN(e,n,o,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,WM(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ni(e.type,o),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Br(l):(l=Qn(n)?ml:gn.current,l=Gc(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||f!==l)&&LN(e,s,r,l),ns=!1,f=e.memoizedState,s.state=f,oy(e,r,s,i);var v=e.memoizedState;o!==d||f!==v||Kn.current||ns?(typeof p=="function"&&(ME(e,n,p,r),v=e.memoizedState),(u=ns||IN(e,n,u,r,f,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return PE(t,e,n,r,a,i)}function PE(t,e,n,r,i,a){hX(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&xN(e,n,!1),Aa(t,e,a);r=e.stateNode,GH.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Mc(e,t.child,null,a),e.child=Mc(e,null,o,a)):_n(t,e,o,a),e.memoizedState=r.state,i&&xN(e,n,!0),e.child}function fX(t){var e=t.stateNode;e.pendingContext?EN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EN(t,e.context,!1),yC(t,e.containerInfo)}function UN(t,e,n,r,i){return Ac(),dC(i),e.flags|=256,_n(t,e,n,r),e.child}var zE={dehydrated:null,treeContext:null,retryLane:0};function DE(t){return{baseLanes:t,cachePool:null,transitions:null}}function pX(t,e,n){var r=e.pendingProps,i=mt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(mt,i&1),t===null)return GE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Uv(s,r,0,null),t=nl(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=DE(n),e.memoizedState=zE,t):CC(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return AH(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ys(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ys(o,a):(a=nl(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?DE(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=zE,r}return a=t.child,t=a.sibling,r=Ys(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function CC(t,e){return e=Uv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _m(t,e,n,r){return r!==null&&dC(r),Mc(e,t.child,null,n),t=CC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AH(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=k1(Error(D(422))),_m(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Uv({mode:"visible",children:r.children},i,0,null),a=nl(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Mc(e,t.child,null,s),e.child.memoizedState=DE(s),e.memoizedState=zE,a);if(!(e.mode&1))return _m(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(D(419)),r=k1(a,r,void 0),_m(t,e,s,r)}if(o=(s&t.childLanes)!==0,Jn||o){if(r=Qt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ga(t,i),hi(r,t,i,-1))}return IC(),r=k1(Error(D(421))),_m(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JH.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,cr=js(i.nextSibling),gr=e,ft=!0,ci=null,t!==null&&(Lr[Zr++]=ba,Lr[Zr++]=wa,Lr[Zr++]=gl,ba=t.id,wa=t.overflow,gl=e),e=CC(e,r.children),e.flags|=4096,e)}function WN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),AE(t.return,e,n)}function T1(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function mX(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(_n(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WN(t,n,e);else if(t.tag===19)WN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ly(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),T1(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ly(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}T1(e,!0,n,null,a);break;case"together":T1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Aa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Ys(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ys(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MH(t,e,n){switch(e.tag){case 3:fX(e),Ac();break;case 5:PM(e);break;case 1:Qn(e.type)&&ny(e);break;case 4:yC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(ay,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?pX(t,e,n):(et(mt,mt.current&1),t=Aa(t,e,n),t!==null?t.sibling:null);et(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mX(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,dX(t,e,n)}return Aa(t,e,n)}var gX,jE,yX,vX;gX=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jE=function(){};yX=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ao(Pi.current);var a=null;switch(n){case"input":i=hE(t,i),r=hE(t,r),a=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),a=[];break;case"textarea":i=mE(t,i),r=mE(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ey)}yE(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pf.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};vX=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vd(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XH(t,e,n){var r=e.pendingProps;switch(cC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Qn(e.type)&&ty(),dn(e),null;case 3:return r=e.stateNode,Xc(),lt(Kn),lt(gn),bC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Em(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ci!==null&&(QE(ci),ci=null))),jE(t,e),dn(e),null;case 5:vC(e);var i=Ao(kf.current);if(n=e.type,t!==null&&e.stateNode!=null)yX(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return dn(e),null}if(t=Ao(Pi.current),Em(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Zi]=e,r[_f]=a,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<lh.length;i++)it(lh[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":JR(r,a),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},it("invalid",r);break;case"textarea":KR(r,a),it("invalid",r)}yE(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Sm(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Sm(r.textContent,o,t),i=["children",""+o]):pf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&it("scroll",r)}switch(n){case"input":fm(r),$R(r,a,!0);break;case"textarea":fm(r),QR(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ey)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Zi]=e,t[_f]=r,gX(t,e,!1,!1),e.stateNode=t;e:{switch(s=vE(n,r),n){case"dialog":it("cancel",t),it("close",t),i=r;break;case"iframe":case"object":case"embed":it("load",t),i=r;break;case"video":case"audio":for(i=0;i<lh.length;i++)it(lh[i],t);i=r;break;case"source":it("error",t),i=r;break;case"img":case"image":case"link":it("error",t),it("load",t),i=r;break;case"details":it("toggle",t),i=r;break;case"input":JR(t,r),i=hE(t,r),it("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),it("invalid",t);break;case"textarea":KR(t,r),i=mE(t,r),it("invalid",t);break;default:i=r}yE(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?J5(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&H5(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mf(t,l):typeof l=="number"&&mf(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&it("scroll",t):l!=null&&J2(t,a,l,s))}switch(n){case"input":fm(t),$R(t,r,!1);break;case"textarea":fm(t),QR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+to(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ec(t,!!r.multiple,a,!1):r.defaultValue!=null&&ec(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ey)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)vX(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=Ao(kf.current),Ao(Pi.current),Em(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zi]=e,(a=r.nodeValue!==n)&&(t=gr,t!==null))switch(t.tag){case 3:Sm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sm(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zi]=e,e.stateNode=r}return dn(e),null;case 13:if(lt(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&cr!==null&&e.mode&1&&!(e.flags&128))AM(),Ac(),e.flags|=98560,a=!1;else if(a=Em(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(D(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(D(317));a[Zi]=e}else Ac(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),a=!1}else ci!==null&&(QE(ci),ci=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Pt===0&&(Pt=3):IC())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return Xc(),jE(t,e),t===null&&Ef(e.stateNode.containerInfo),dn(e),null;case 10:return pC(e.type._context),dn(e),null;case 17:return Qn(e.type)&&ty(),dn(e),null;case 19:if(lt(mt),a=e.memoizedState,a===null)return dn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Vd(a,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ly(t),s!==null){for(e.flags|=128,Vd(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(mt,mt.current&1|2),e.child}t=t.sibling}a.tail!==null&&_t()>Wc&&(e.flags|=128,r=!0,Vd(a,!1),e.lanes=4194304)}else{if(!r)if(t=ly(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ft)return dn(e),null}else 2*_t()-a.renderingStartTime>Wc&&n!==1073741824&&(e.flags|=128,r=!0,Vd(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=_t(),e.sibling=null,n=mt.current,et(mt,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return OC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ir&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function UH(t,e){switch(cC(e),e.tag){case 1:return Qn(e.type)&&ty(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xc(),lt(Kn),lt(gn),bC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vC(e),null;case 13:if(lt(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Ac()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(mt),null;case 4:return Xc(),null;case 10:return pC(e.type._context),null;case 22:case 23:return OC(),null;case 24:return null;default:return null}}var Cm=!1,hn=!1,WH=typeof WeakSet=="function"?WeakSet:Set,K=null;function Wu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(t,e,r)}else n.current=null}function BE(t,e,n){try{n()}catch(r){St(t,e,r)}}var PN=!1;function PH(t,e){if(RE=K0,t=xM(),lC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=s),f===a&&++c===r&&(l=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(NE={focusedElem:t,selectionRange:n},K0=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,S=v.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ni(e.type,m),S);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){St(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return v=PN,PN=!1,v}function Zh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&BE(e,n,a)}i=i.next}while(i!==r)}}function Mv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function FE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bX(t){var e=t.alternate;e!==null&&(t.alternate=null,bX(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zi],delete e[_f],delete e[LE],delete e[xH],delete e[_H])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wX(t){return t.tag===5||t.tag===3||t.tag===4}function zN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wX(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function HE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ey));else if(r!==4&&(t=t.child,t!==null))for(HE(t,e,n),t=t.sibling;t!==null;)HE(t,e,n),t=t.sibling}function YE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(YE(t,e,n),t=t.sibling;t!==null;)YE(t,e,n),t=t.sibling}var qt=null,li=!1;function Fa(t,e,n){for(n=n.child;n!==null;)SX(t,e,n),n=n.sibling}function SX(t,e,n){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(Nv,n)}catch{}switch(n.tag){case 5:hn||Wu(n,e);case 6:var r=qt,i=li;qt=null,Fa(t,e,n),qt=r,li=i,qt!==null&&(li?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(li?(t=qt,n=n.stateNode,t.nodeType===8?w1(t.parentNode,n):t.nodeType===1&&w1(t,n),bf(t)):w1(qt,n.stateNode));break;case 4:r=qt,i=li,qt=n.stateNode.containerInfo,li=!0,Fa(t,e,n),qt=r,li=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&BE(n,e,s),i=i.next}while(i!==r)}Fa(t,e,n);break;case 1:if(!hn&&(Wu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){St(n,e,o)}Fa(t,e,n);break;case 21:Fa(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,Fa(t,e,n),hn=r):Fa(t,e,n);break;default:Fa(t,e,n)}}function DN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WH),e.forEach(function(r){var i=$H.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:qt=o.stateNode,li=!1;break e;case 3:qt=o.stateNode.containerInfo,li=!0;break e;case 4:qt=o.stateNode.containerInfo,li=!0;break e}o=o.return}if(qt===null)throw Error(D(160));SX(a,s,i),qt=null,li=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){St(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)EX(e,t),e=e.sibling}function EX(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qr(e,t),Ei(t),r&4){try{Zh(3,t,t.return),Mv(3,t)}catch(m){St(t,t.return,m)}try{Zh(5,t,t.return)}catch(m){St(t,t.return,m)}}break;case 1:Qr(e,t),Ei(t),r&512&&n!==null&&Wu(n,n.return);break;case 5:if(Qr(e,t),Ei(t),r&512&&n!==null&&Wu(n,n.return),t.flags&32){var i=t.stateNode;try{mf(i,"")}catch(m){St(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&j5(i,a),vE(o,s);var u=vE(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?J5(i,d):c==="dangerouslySetInnerHTML"?H5(i,d):c==="children"?mf(i,d):J2(i,c,d,u)}switch(o){case"input":fE(i,a);break;case"textarea":B5(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ec(i,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?ec(i,!!a.multiple,a.defaultValue,!0):ec(i,!!a.multiple,a.multiple?[]:"",!1))}i[_f]=a}catch(m){St(t,t.return,m)}}break;case 6:if(Qr(e,t),Ei(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){St(t,t.return,m)}}break;case 3:if(Qr(e,t),Ei(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bf(e.containerInfo)}catch(m){St(t,t.return,m)}break;case 4:Qr(e,t),Ei(t);break;case 13:Qr(e,t),Ei(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(RC=_t())),r&4&&DN(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(u=hn)||c,Qr(e,t),hn=u):Qr(e,t),Ei(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(K=t,c=t.child;c!==null;){for(d=K=c;K!==null;){switch(f=K,p=f.child,f.tag){case 0:case 11:case 14:case 15:Zh(4,f,f.return);break;case 1:Wu(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){St(r,n,m)}}break;case 5:Wu(f,f.return);break;case 22:if(f.memoizedState!==null){BN(d);continue}}p!==null?(p.return=f,K=p):BN(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Y5("display",s))}catch(m){St(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){St(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qr(e,t),Ei(t),r&4&&DN(t);break;case 21:break;default:Qr(e,t),Ei(t)}}function Ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wX(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mf(i,""),r.flags&=-33);var a=zN(t);YE(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=zN(t);HE(t,o,s);break;default:throw Error(D(161))}}catch(l){St(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zH(t,e,n){K=t,xX(t)}function xX(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Cm;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||hn;o=Cm;var u=hn;if(Cm=s,(hn=l)&&!u)for(K=i;K!==null;)s=K,l=s.child,s.tag===22&&s.memoizedState!==null?FN(i):l!==null?(l.return=s,K=l):FN(i);for(;a!==null;)K=a,xX(a),a=a.sibling;K=i,Cm=o,hn=u}jN(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,K=a):jN(t)}}function jN(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||Mv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ni(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&RN(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}RN(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&bf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}hn||e.flags&512&&FE(e)}catch(f){St(e,e.return,f)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function BN(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function FN(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mv(4,e)}catch(l){St(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){St(e,i,l)}}var a=e.return;try{FE(e)}catch(l){St(e,a,l)}break;case 5:var s=e.return;try{FE(e)}catch(l){St(e,s,l)}}}catch(l){St(e,e.return,l)}if(e===t){K=null;break}var o=e.sibling;if(o!==null){o.return=e.return,K=o;break}K=e.return}}var DH=Math.ceil,dy=Pa.ReactCurrentDispatcher,kC=Pa.ReactCurrentOwner,zr=Pa.ReactCurrentBatchConfig,Me=0,Qt=null,Lt=null,ln=0,ir=0,Pu=uo(0),Pt=0,Of=null,vl=0,Xv=0,TC=0,Vh=null,Fn=null,RC=0,Wc=1/0,ra=null,hy=!1,JE=null,Fs=null,km=!1,Ns=null,fy=0,Gh=0,$E=null,Hg=-1,Yg=0;function In(){return Me&6?_t():Hg!==-1?Hg:Hg=_t()}function Hs(t){return t.mode&1?Me&2&&ln!==0?ln&-ln:kH.transition!==null?(Yg===0&&(Yg=oM()),Yg):(t=je,t!==0||(t=window.event,t=t===void 0?16:pM(t.type)),t):1}function hi(t,e,n,r){if(50<Gh)throw Gh=0,$E=null,Error(D(185));Np(t,n,r),(!(Me&2)||t!==Qt)&&(t===Qt&&(!(Me&2)&&(Xv|=n),Pt===4&&cs(t,ln)),qn(t,r),n===1&&Me===0&&!(e.mode&1)&&(Wc=_t()+500,Vv&&co()))}function qn(t,e){var n=t.callbackNode;kF(t,e);var r=$0(t,t===Qt?ln:0);if(r===0)n!==null&&tN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tN(n),e===1)t.tag===0?CH(HN.bind(null,t)):ZM(HN.bind(null,t)),SH(function(){!(Me&6)&&co()}),n=null;else{switch(lM(r)){case 1:n=eC;break;case 4:n=aM;break;case 16:n=J0;break;case 536870912:n=sM;break;default:n=J0}n=IX(n,_X.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _X(t,e){if(Hg=-1,Yg=0,Me&6)throw Error(D(327));var n=t.callbackNode;if(ac()&&t.callbackNode!==n)return null;var r=$0(t,t===Qt?ln:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=py(t,r);else{e=r;var i=Me;Me|=2;var a=kX();(Qt!==t||ln!==e)&&(ra=null,Wc=_t()+500,tl(t,e));do try{FH();break}catch(o){CX(t,o)}while(1);fC(),dy.current=a,Me=i,Lt!==null?e=0:(Qt=null,ln=0,e=Pt)}if(e!==0){if(e===2&&(i=xE(t),i!==0&&(r=i,e=KE(t,i))),e===1)throw n=Of,tl(t,0),cs(t,r),qn(t,_t()),n;if(e===6)cs(t,r);else{if(i=t.current.alternate,!(r&30)&&!jH(i)&&(e=py(t,r),e===2&&(a=xE(t),a!==0&&(r=a,e=KE(t,a))),e===1))throw n=Of,tl(t,0),cs(t,r),qn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:_o(t,Fn,ra);break;case 3:if(cs(t,r),(r&130023424)===r&&(e=RC+500-_t(),10<e)){if($0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){In(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=IE(_o.bind(null,t,Fn,ra),e);break}_o(t,Fn,ra);break;case 4:if(cs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-di(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DH(r/1960))-r,10<r){t.timeoutHandle=IE(_o.bind(null,t,Fn,ra),r);break}_o(t,Fn,ra);break;case 5:_o(t,Fn,ra);break;default:throw Error(D(329))}}}return qn(t,_t()),t.callbackNode===n?_X.bind(null,t):null}function KE(t,e){var n=Vh;return t.current.memoizedState.isDehydrated&&(tl(t,e).flags|=256),t=py(t,e),t!==2&&(e=Fn,Fn=n,e!==null&&QE(e)),t}function QE(t){Fn===null?Fn=t:Fn.push.apply(Fn,t)}function jH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!pi(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cs(t,e){for(e&=~TC,e&=~Xv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-di(e),r=1<<n;t[n]=-1,e&=~r}}function HN(t){if(Me&6)throw Error(D(327));ac();var e=$0(t,0);if(!(e&1))return qn(t,_t()),null;var n=py(t,e);if(t.tag!==0&&n===2){var r=xE(t);r!==0&&(e=r,n=KE(t,r))}if(n===1)throw n=Of,tl(t,0),cs(t,e),qn(t,_t()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_o(t,Fn,ra),qn(t,_t()),null}function NC(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(Wc=_t()+500,Vv&&co())}}function bl(t){Ns!==null&&Ns.tag===0&&!(Me&6)&&ac();var e=Me;Me|=1;var n=zr.transition,r=je;try{if(zr.transition=null,je=1,t)return t()}finally{je=r,zr.transition=n,Me=e,!(Me&6)&&co()}}function OC(){ir=Pu.current,lt(Pu)}function tl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wH(n)),Lt!==null)for(n=Lt.return;n!==null;){var r=n;switch(cC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ty();break;case 3:Xc(),lt(Kn),lt(gn),bC();break;case 5:vC(r);break;case 4:Xc();break;case 13:lt(mt);break;case 19:lt(mt);break;case 10:pC(r.type._context);break;case 22:case 23:OC()}n=n.return}if(Qt=t,Lt=t=Ys(t.current,null),ln=ir=e,Pt=0,Of=null,TC=Xv=vl=0,Fn=Vh=null,Go!==null){for(e=0;e<Go.length;e++)if(n=Go[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Go=null}return t}function CX(t,e){do{var n=Lt;try{if(fC(),jg.current=cy,uy){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uy=!1}if(yl=0,Yt=Xt=gt=null,Lh=!1,Tf=0,kC.current=null,n===null||n.return===null){Pt=1,Of=e,Lt=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=ln,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=VN(s);if(p!==null){p.flags&=-257,GN(p,s,o,a,e),p.mode&1&&ZN(a,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){ZN(a,u,e),IC();break e}l=Error(D(426))}}else if(ft&&o.mode&1){var S=VN(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),GN(S,s,o,a,e),dC(Uc(l,o));break e}}a=l=Uc(l,o),Pt!==4&&(Pt=2),Vh===null?Vh=[a]:Vh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=lX(a,l,e);TN(a,y);break e;case 1:o=l;var g=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fs===null||!Fs.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=uX(a,o,e);TN(a,w);break e}}a=a.return}while(a!==null)}RX(n)}catch(E){e=E,Lt===n&&n!==null&&(Lt=n=n.return);continue}break}while(1)}function kX(){var t=dy.current;return dy.current=cy,t===null?cy:t}function IC(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Qt===null||!(vl&268435455)&&!(Xv&268435455)||cs(Qt,ln)}function py(t,e){var n=Me;Me|=2;var r=kX();(Qt!==t||ln!==e)&&(ra=null,tl(t,e));do try{BH();break}catch(i){CX(t,i)}while(1);if(fC(),Me=n,dy.current=r,Lt!==null)throw Error(D(261));return Qt=null,ln=0,Pt}function BH(){for(;Lt!==null;)TX(Lt)}function FH(){for(;Lt!==null&&!yF();)TX(Lt)}function TX(t){var e=OX(t.alternate,t,ir);t.memoizedProps=t.pendingProps,e===null?RX(t):Lt=e,kC.current=null}function RX(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UH(n,e),n!==null){n.flags&=32767,Lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,Lt=null;return}}else if(n=XH(n,e,ir),n!==null){Lt=n;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);Pt===0&&(Pt=5)}function _o(t,e,n){var r=je,i=zr.transition;try{zr.transition=null,je=1,HH(t,e,n,r)}finally{zr.transition=i,je=r}return null}function HH(t,e,n,r){do ac();while(Ns!==null);if(Me&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(TF(t,a),t===Qt&&(Lt=Qt=null,ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||km||(km=!0,IX(J0,function(){return ac(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=zr.transition,zr.transition=null;var s=je;je=1;var o=Me;Me|=4,kC.current=null,PH(t,n),EX(n,t),fH(NE),K0=!!RE,NE=RE=null,t.current=n,zH(n),vF(),Me=o,je=s,zr.transition=a}else t.current=n;if(km&&(km=!1,Ns=t,fy=i),a=t.pendingLanes,a===0&&(Fs=null),SF(n.stateNode),qn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hy)throw hy=!1,t=JE,JE=null,t;return fy&1&&t.tag!==0&&ac(),a=t.pendingLanes,a&1?t===$E?Gh++:(Gh=0,$E=t):Gh=0,co(),null}function ac(){if(Ns!==null){var t=lM(fy),e=zr.transition,n=je;try{if(zr.transition=null,je=16>t?16:t,Ns===null)var r=!1;else{if(t=Ns,Ns=null,fy=0,Me&6)throw Error(D(331));var i=Me;for(Me|=4,K=t.current;K!==null;){var a=K,s=a.child;if(K.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(K=u;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:Zh(8,c,a)}var d=c.child;if(d!==null)d.return=c,K=d;else for(;K!==null;){c=K;var f=c.sibling,p=c.return;if(bX(c),c===u){K=null;break}if(f!==null){f.return=p,K=f;break}K=p}}}var v=a.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(m!==null)}}K=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,K=s;else e:for(;K!==null;){if(a=K,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zh(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,K=y;break e}K=a.return}}var g=t.current;for(K=g;K!==null;){s=K;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,K=b;else e:for(s=g;K!==null;){if(o=K,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Mv(9,o)}}catch(E){St(o,o.return,E)}if(o===s){K=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,K=w;break e}K=o.return}}if(Me=i,co(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(Nv,t)}catch{}r=!0}return r}finally{je=n,zr.transition=e}}return!1}function YN(t,e,n){e=Uc(n,e),e=lX(t,e,1),t=Bs(t,e,1),e=In(),t!==null&&(Np(t,1,e),qn(t,e))}function St(t,e,n){if(t.tag===3)YN(t,t,n);else for(;e!==null;){if(e.tag===3){YN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fs===null||!Fs.has(r))){t=Uc(n,t),t=uX(e,t,1),e=Bs(e,t,1),t=In(),e!==null&&(Np(e,1,t),qn(e,t));break}}e=e.return}}function YH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=In(),t.pingedLanes|=t.suspendedLanes&n,Qt===t&&(ln&n)===n&&(Pt===4||Pt===3&&(ln&130023424)===ln&&500>_t()-RC?tl(t,0):TC|=n),qn(t,e)}function NX(t,e){e===0&&(t.mode&1?(e=gm,gm<<=1,!(gm&130023424)&&(gm=4194304)):e=1);var n=In();t=Ga(t,e),t!==null&&(Np(t,e,n),qn(t,n))}function JH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NX(t,n)}function $H(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),NX(t,n)}var OX;OX=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kn.current)Jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jn=!1,MH(t,e,n);Jn=!!(t.flags&131072)}else Jn=!1,ft&&e.flags&1048576&&VM(e,iy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fg(t,e),t=e.pendingProps;var i=Gc(e,gn.current);ic(e,n),i=SC(null,e,r,t,i,n);var a=EC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(a=!0,ny(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gC(e),i.updater=Av,e.stateNode=i,i._reactInternals=e,XE(e,r,t,n),e=PE(null,e,r,!0,a,n)):(e.tag=0,ft&&a&&uC(e),_n(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=QH(r),t=ni(r,t),i){case 0:e=WE(null,e,r,t,n);break e;case 1:e=XN(null,e,r,t,n);break e;case 11:e=AN(null,e,r,t,n);break e;case 14:e=MN(null,e,r,ni(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),WE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),XN(t,e,r,i,n);case 3:e:{if(fX(e),t===null)throw Error(D(387));r=e.pendingProps,a=e.memoizedState,i=a.element,WM(t,e),oy(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Uc(Error(D(423)),e),e=UN(t,e,r,n,i);break e}else if(r!==i){i=Uc(Error(D(424)),e),e=UN(t,e,r,n,i);break e}else for(cr=js(e.stateNode.containerInfo.firstChild),gr=e,ft=!0,ci=null,n=XM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ac(),r===i){e=Aa(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return PM(e),t===null&&GE(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,OE(r,i)?s=null:a!==null&&OE(r,a)&&(e.flags|=32),hX(t,e),_n(t,e,s,n),e.child;case 6:return t===null&&GE(e),null;case 13:return pX(t,e,n);case 4:return yC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mc(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),AN(t,e,r,i,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,et(ay,r._currentValue),r._currentValue=s,a!==null)if(pi(a.value,s)){if(a.children===i.children&&!Kn.current){e=Aa(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ca(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),AE(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(D(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),AE(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}_n(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ic(e,n),i=Br(i),r=r(i),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,i=ni(r,e.pendingProps),i=ni(r.type,i),MN(t,e,r,i,n);case 15:return cX(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),Fg(t,e),e.tag=1,Qn(r)?(t=!0,ny(e)):t=!1,ic(e,n),oX(e,r,i),XE(e,r,i,n),PE(null,e,r,!0,t,n);case 19:return mX(t,e,n);case 22:return dX(t,e,n)}throw Error(D(156,e.tag))};function IX(t,e){return iM(t,e)}function KH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(t,e,n,r){return new KH(t,e,n,r)}function LC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QH(t){if(typeof t=="function")return LC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===K2)return 11;if(t===Q2)return 14}return 2}function Ys(t,e){var n=t.alternate;return n===null?(n=Xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jg(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")LC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Iu:return nl(n.children,i,a,e);case $2:s=8,i|=8;break;case lE:return t=Xr(12,n,e,i|2),t.elementType=lE,t.lanes=a,t;case uE:return t=Xr(13,n,e,i),t.elementType=uE,t.lanes=a,t;case cE:return t=Xr(19,n,e,i),t.elementType=cE,t.lanes=a,t;case P5:return Uv(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U5:s=10;break e;case W5:s=9;break e;case K2:s=11;break e;case Q2:s=14;break e;case ts:s=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Xr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function nl(t,e,n,r){return t=Xr(7,t,r,e),t.lanes=n,t}function Uv(t,e,n,r){return t=Xr(22,t,r,e),t.elementType=P5,t.lanes=n,t.stateNode={isHidden:!1},t}function R1(t,e,n){return t=Xr(6,t,null,e),t.lanes=n,t}function N1(t,e,n){return e=Xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u1(0),this.expirationTimes=u1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ZC(t,e,n,r,i,a,s,o,l){return t=new qH(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Xr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gC(a),t}function eY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ou,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LX(t){if(!t)return no;t=t._reactInternals;e:{if(Vl(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Qn(n))return LM(t,n,e)}return e}function ZX(t,e,n,r,i,a,s,o,l){return t=ZC(n,r,!0,t,i,a,s,o,l),t.context=LX(null),n=t.current,r=In(),i=Hs(n),a=Ca(r,i),a.callback=e??null,Bs(n,a,i),t.current.lanes=i,Np(t,i,r),qn(t,r),t}function Wv(t,e,n,r){var i=e.current,a=In(),s=Hs(i);return n=LX(n),e.context===null?e.context=n:e.pendingContext=n,e=Ca(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(i,e,s),t!==null&&(hi(t,i,s,a),Dg(t,i,s)),s}function my(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function JN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function VC(t,e){JN(t,e),(t=t.alternate)&&JN(t,e)}function tY(){return null}var VX=typeof reportError=="function"?reportError:function(t){console.error(t)};function GC(t){this._internalRoot=t}Pv.prototype.render=GC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Wv(t,e,null,null)};Pv.prototype.unmount=GC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bl(function(){Wv(null,t,null,null)}),e[Va]=null}};function Pv(t){this._internalRoot=t}Pv.prototype.unstable_scheduleHydration=function(t){if(t){var e=dM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<us.length&&e!==0&&e<us[n].priority;n++);us.splice(n,0,t),n===0&&fM(t)}};function AC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $N(){}function nY(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=my(s);a.call(u)}}var s=ZX(e,r,t,0,null,!1,!1,"",$N);return t._reactRootContainer=s,t[Va]=s.current,Ef(t.nodeType===8?t.parentNode:t),bl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=my(l);o.call(u)}}var l=ZC(t,0,!1,null,null,!1,!1,"",$N);return t._reactRootContainer=l,t[Va]=l.current,Ef(t.nodeType===8?t.parentNode:t),bl(function(){Wv(e,l,n,r)}),l}function Dv(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=my(s);o.call(l)}}Wv(e,s,t,i)}else s=nY(n,e,t,i,r);return my(s)}uM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=oh(e.pendingLanes);n!==0&&(tC(e,n|1),qn(e,_t()),!(Me&6)&&(Wc=_t()+500,co()))}break;case 13:bl(function(){var r=Ga(t,1);if(r!==null){var i=In();hi(r,t,1,i)}}),VC(t,1)}};nC=function(t){if(t.tag===13){var e=Ga(t,134217728);if(e!==null){var n=In();hi(e,t,134217728,n)}VC(t,134217728)}};cM=function(t){if(t.tag===13){var e=Hs(t),n=Ga(t,e);if(n!==null){var r=In();hi(n,t,e,r)}VC(t,e)}};dM=function(){return je};hM=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};wE=function(t,e,n){switch(e){case"input":if(fE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zv(r);if(!i)throw Error(D(90));D5(r),fE(r,i)}}}break;case"textarea":B5(t,n);break;case"select":e=n.value,e!=null&&ec(t,!!n.multiple,e,!1)}};Q5=NC;q5=bl;var rY={usingClientEntryPoint:!1,Events:[Ip,Gu,Zv,$5,K5,NC]},Gd={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iY={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nM(t),t===null?null:t.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||tY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{Nv=Tm.inject(iY),Wi=Tm}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rY;Jr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AC(e))throw Error(D(200));return eY(t,e,null,n)};Jr.createRoot=function(t,e){if(!AC(t))throw Error(D(299));var n=!1,r="",i=VX;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ZC(t,1,!1,null,null,n,!1,r,i),t[Va]=e.current,Ef(t.nodeType===8?t.parentNode:t),new GC(e)};Jr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=nM(e),t=t===null?null:t.stateNode,t};Jr.flushSync=function(t){return bl(t)};Jr.hydrate=function(t,e,n){if(!zv(e))throw Error(D(200));return Dv(null,t,e,!0,n)};Jr.hydrateRoot=function(t,e,n){if(!AC(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=VX;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=ZX(e,null,t,1,n??null,i,!1,a,s),t[Va]=e.current,Ef(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pv(e)};Jr.render=function(t,e,n){if(!zv(e))throw Error(D(200));return Dv(null,t,e,!1,n)};Jr.unmountComponentAtNode=function(t){if(!zv(t))throw Error(D(40));return t._reactRootContainer?(bl(function(){Dv(null,null,t,!1,function(){t._reactRootContainer=null,t[Va]=null})}),!0):!1};Jr.unstable_batchedUpdates=NC;Jr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zv(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Dv(t,e,n,!1,r)};Jr.version="18.3.1-next-f1338f8080-20240426";function GX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GX)}catch(t){console.error(t)}}GX();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},If.apply(this,arguments)}var Os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Os||(Os={}));const KN="popstate";function aY(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return qE("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gy(i)}return oY(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AX(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sY(){return Math.random().toString(36).substr(2,8)}function QN(t,e){return{usr:t.state,key:t.key,idx:e}}function qE(t,e,n,r){return n===void 0&&(n=null),If({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pd(e):e,{state:n,key:e&&e.key||r||sY()})}function gy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Os.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(If({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){o=Os.Pop;let S=c(),y=S==null?null:S-u;u=S,l&&l({action:o,location:m.location,delta:y})}function f(S,y){o=Os.Push;let g=qE(m.location,S,y);n&&n(g,S),u=c()+1;let b=QN(g,u),w=m.createHref(g);try{s.pushState(b,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}a&&l&&l({action:o,location:m.location,delta:1})}function p(S,y){o=Os.Replace;let g=qE(m.location,S,y);n&&n(g,S),u=c();let b=QN(g,u),w=m.createHref(g);s.replaceState(b,"",w),a&&l&&l({action:o,location:m.location,delta:0})}function v(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof S=="string"?S:gy(S);return g=g.replace(/ $/,"%20"),Vt(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let m={get action(){return o},get location(){return t(i,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(KN,d),l=S,()=>{i.removeEventListener(KN,d),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(S){return s.go(S)}};return m}var qN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qN||(qN={}));function lY(t,e,n){return n===void 0&&(n="/"),uY(t,e,n,!1)}function uY(t,e,n,r){let i=typeof e=="string"?pd(e):e,a=MC(i.pathname||"/",n);if(a==null)return null;let s=MX(t);cY(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=SY(a);o=bY(s[l],u,r)}return o}function MX(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Js([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(Vt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),MX(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:yY(u,a.index),routesMeta:c})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of XX(a.path))i(a,s,l)}),e}function XX(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=XX(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function cY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dY=/^:[\w-]+$/,hY=3,fY=2,pY=1,mY=10,gY=-2,eO=t=>t==="*";function yY(t,e){let n=t.split("/"),r=n.length;return n.some(eO)&&(r+=gY),e&&(r+=fY),n.filter(i=>!eO(i)).reduce((i,a)=>i+(dY.test(a)?hY:a===""?pY:mY),r)}function vY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bY(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",d=tO({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=tO({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Js([a,d.pathname]),pathnameBase:CY(Js([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=Js([a,d.pathnameBase]))}return s}function tO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wY(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let m=o[d]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const v=o[d];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function wY(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),AX(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AX(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function MC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EY(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pd(t):t;return{pathname:n?n.startsWith("/")?n:xY(n,e):e,search:kY(r),hash:TY(i)}}function xY(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function O1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _Y(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UX(t,e){let n=_Y(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function WX(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pd(t):(i=If({},t),Vt(!i.pathname||!i.pathname.includes("?"),O1("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),O1("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),O1("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=EY(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Js=t=>t.join("/").replace(/\/\/+/g,"/"),CY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PX=["post","put","patch","delete"];new Set(PX);const NY=["get",...PX];new Set(NY);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lf.apply(this,arguments)}const XC=j.createContext(null),OY=j.createContext(null),Gl=j.createContext(null),jv=j.createContext(null),ho=j.createContext({outlet:null,matches:[],isDataRoute:!1}),zX=j.createContext(null);function IY(t,e){let{relative:n}=e===void 0?{}:e;Zp()||Vt(!1);let{basename:r,navigator:i}=j.useContext(Gl),{hash:a,pathname:s,search:o}=jX(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Js([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Zp(){return j.useContext(jv)!=null}function Al(){return Zp()||Vt(!1),j.useContext(jv).location}function DX(t){j.useContext(Gl).static||j.useLayoutEffect(t)}function Ml(){let{isDataRoute:t}=j.useContext(ho);return t?BY():LY()}function LY(){Zp()||Vt(!1);let t=j.useContext(XC),{basename:e,future:n,navigator:r}=j.useContext(Gl),{matches:i}=j.useContext(ho),{pathname:a}=Al(),s=JSON.stringify(UX(i,n.v7_relativeSplatPath)),o=j.useRef(!1);return DX(()=>{o.current=!0}),j.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=WX(u,JSON.parse(s),a,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Js([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,s,a,t])}function ZY(){let{matches:t}=j.useContext(ho),e=t[t.length-1];return e?e.params:{}}function jX(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(Gl),{matches:i}=j.useContext(ho),{pathname:a}=Al(),s=JSON.stringify(UX(i,r.v7_relativeSplatPath));return j.useMemo(()=>WX(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function VY(t,e){return GY(t,e)}function GY(t,e,n,r){Zp()||Vt(!1);let{navigator:i}=j.useContext(Gl),{matches:a}=j.useContext(ho),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Al(),c;if(e){var d;let S=typeof e=="string"?pd(e):e;l==="/"||(d=S.pathname)!=null&&d.startsWith(l)||Vt(!1),c=S}else c=u;let f=c.pathname||"/",p=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=lY(t,{pathname:p}),m=WY(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Js([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Js([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return e&&m?j.createElement(jv.Provider,{value:{location:Lf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Os.Pop}},m):m}function AY(){let t=jY(),e=RY(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,a)}const MY=j.createElement(AY,null);class XY extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(ho.Provider,{value:this.props.routeContext},j.createElement(zX.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UY(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(XC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(ho.Provider,{value:e},r)}function WY(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||Vt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,f)=>{let p,v=!1,m=null,S=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||MY,l&&(u<0&&f===0?(FY("route-fallback",!1),v=!0,S=null):u===f&&(v=!0,S=d.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,f+1)),g=()=>{let b;return p?b=m:v?b=S:d.route.Component?b=j.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=c,j.createElement(UY,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?j.createElement(XY,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var BX=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BX||{}),yy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yy||{});function PY(t){let e=j.useContext(XC);return e||Vt(!1),e}function zY(t){let e=j.useContext(OY);return e||Vt(!1),e}function DY(t){let e=j.useContext(ho);return e||Vt(!1),e}function FX(t){let e=DY(),n=e.matches[e.matches.length-1];return n.route.id||Vt(!1),n.route.id}function jY(){var t;let e=j.useContext(zX),n=zY(yy.UseRouteError),r=FX(yy.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BY(){let{router:t}=PY(BX.UseNavigateStable),e=FX(yy.UseNavigateStable),n=j.useRef(!1);return DX(()=>{n.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Lf({fromRouteId:e},a)))},[t,e])}const nO={};function FY(t,e,n){!e&&!nO[t]&&(nO[t]=!0)}function HY(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function xi(t){Vt(!1)}function YY(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Os.Pop,navigator:a,static:s=!1,future:o}=t;Zp()&&Vt(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:a,static:s,future:Lf({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=pd(r));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:v="default"}=r,m=j.useMemo(()=>{let S=MC(c,l);return S==null?null:{location:{pathname:S,search:d,hash:f,state:p,key:v},navigationType:i}},[l,c,d,f,p,v,i]);return m==null?null:j.createElement(Gl.Provider,{value:u},j.createElement(jv.Provider,{children:n,value:m}))}function JY(t){let{children:e,location:n}=t;return VY(ex(e),n)}new Promise(()=>{});function ex(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let a=[...e,i];if(r.type===j.Fragment){n.push.apply(n,ex(r.props.children,a));return}r.type!==xi&&Vt(!1),!r.props.index||!r.props.children||Vt(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ex(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(this,arguments)}function $Y(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function KY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QY(t,e){return t.button===0&&(!e||e==="_self")&&!KY(t)}function nx(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function qY(t,e){let n=nx(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const eJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tJ="6";try{window.__reactRouterVersion=tJ}catch{}const nJ="startTransition",rO=e4[nJ];function rJ(t){let{basename:e,children:n,future:r,window:i}=t,a=j.useRef();a.current==null&&(a.current=aY({window:i,v5Compat:!0}));let s=a.current,[o,l]=j.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=j.useCallback(d=>{u&&rO?rO(()=>l(d)):l(d)},[l,u]);return j.useLayoutEffect(()=>s.listen(c),[s,c]),j.useEffect(()=>HY(r),[r]),j.createElement(YY,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const iJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iO=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,f=$Y(e,eJ),{basename:p}=j.useContext(Gl),v,m=!1;if(typeof u=="string"&&aJ.test(u)&&(v=u,iJ))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),E=MC(w.pathname,p);w.origin===b.origin&&E!=null?u=E+w.search+w.hash:m=!0}catch{}let S=IY(u,{relative:i}),y=sJ(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:d});function g(b){r&&r(b),b.defaultPrevented||y(b)}return j.createElement("a",tx({},f,{href:v||S,onClick:m||a?r:g,ref:n,target:l}))});var aO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aO||(aO={}));var sO;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sO||(sO={}));function sJ(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Ml(),u=Al(),c=jX(t,{relative:s});return j.useCallback(d=>{if(QY(d,n)){d.preventDefault();let f=r!==void 0?r:gy(u)===gy(c);l(t,{replace:f,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,r,i,n,t,a,s,o])}function UC(t){let e=j.useRef(nx(t)),n=j.useRef(!1),r=Al(),i=j.useMemo(()=>qY(r.search,n.current?null:e.current),[r.search]),a=Ml(),s=j.useCallback((o,l)=>{const u=nx(typeof o=="function"?o(i):o);n.current=!0,a("?"+u,l)},[a,i]);return[i,s]}class oJ extends h.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.handleReset=()=>{this.setState({hasError:!1,error:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("🛑 ProspectPro error boundary captured an exception",{error:e,info:n})}renderFallback(){return this.props.fallback?this.props.fallback:h.createElement("div",{className:"max-w-3xl mx-auto mt-16 rounded-lg border border-red-200 bg-red-50 p-8 text-red-800"},h.createElement("h1",{className:"text-2xl font-semibold"},"Something went wrong"),h.createElement("p",{className:"mt-3 text-sm text-red-700"},"The interface recovered from an unexpected error. No data was lost, but the last action may not have completed. Please refresh the page or try again."),this.state.error&&h.createElement("pre",{className:"mt-4 max-h-48 overflow-auto rounded bg-white p-4 text-xs text-red-600"},this.state.error.message),h.createElement("div",{className:"mt-6 flex gap-3"},h.createElement("button",{className:"rounded-md bg-white px-4 py-2 text-sm font-medium text-red-700 shadow-sm ring-1 ring-red-200 hover:bg-red-100",type:"button",onClick:this.handleReset},"Dismiss"),h.createElement("button",{className:"rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-red-700",type:"button",onClick:()=>window.location.reload()},"Reload")))}render(){return this.state.hasError?this.renderFallback():this.props.children}}var lJ=Object.defineProperty,uJ=(t,e,n)=>e in t?lJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ia=(t,e,n)=>uJ(t,typeof e!="symbol"?e+"":e,n),cJ=(t,e,n)=>new Promise((r,i)=>{var a=l=>{try{o(n.next(l))}catch(u){i(u)}},s=l=>{try{o(n.throw(l))}catch(u){i(u)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,s);o((n=n.apply(t,e)).next())});const oO=Object.create(null),$g=(t,e,...n)=>{const r=`[@launchdarkly plugins]: (${t}): `;console[e].apply(console,[r,...n]),dJ(r,...n)},$s=(t,e,n,...r)=>{oO[`${t}-${e}`]||(oO[`${t}-${e}`]=!0,$g(t,n,...r))},dJ=(t,...e)=>cJ(void 0,null,function*(){try{const{LDObserve:n}=yield Tl(()=>Promise.resolve().then(()=>Wee),void 0);n.recordLog(`${t}${e}`,"warn")}catch{}});let HX=class{constructor(e,n){ia(this,"debug"),ia(this,"name"),this.debug=e,this.name=n}log(...e){if(this.debug){let n=`[${Date.now()}]`;this.name&&(n+=` - ${this.name}`),console.log.apply(console,[n,...e])}}warn(...e){let n=`[${Date.now()}]`;this.name&&(n+=` - ${this.name}`),console.warn.apply(console,[n,...e])}},WC=class{constructor(){ia(this,"_sdk"),ia(this,"_isLoaded",!1),ia(this,"_callBuffer",[]),ia(this,"_capacity",1e5),ia(this,"_droppedEvents",0),ia(this,"_exceededCapacity",!1),ia(this,"_logger",new HX)}_bufferCall(e,n){if(this._isLoaded)try{return this._sdk[e](...n)}catch(r){$g(`Error executing buffered call to ${e}:`,"error",r)}else{this._enqueue({method:e,args:n});return}}_enqueue(e){this._callBuffer.length<this._capacity?(this._callBuffer.push(e),this._exceededCapacity=!1):(this._exceededCapacity||(this._exceededCapacity=!0,$g("Exceeded event queue capacity. Increase capacity to avoid dropping events.","warn")),this._droppedEvents+=1)}load(e){this._sdk=e,this._isLoaded=!0;for(const{method:n,args:r}of this._callBuffer)try{this._sdk[n](...r)}catch(i){$g(`Error executing buffered call to ${n}:`,"error",i)}this._callBuffer=[]}};var hJ=Object.defineProperty,fJ=Object.defineProperties,pJ=Object.getOwnPropertyDescriptors,vy=Object.getOwnPropertySymbols,YX=Object.prototype.hasOwnProperty,JX=Object.prototype.propertyIsEnumerable,rx=(t,e,n)=>e in t?hJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,we=(t,e)=>{for(var n in e||(e={}))YX.call(e,n)&&rx(t,n,e[n]);if(vy)for(var n of vy(e))JX.call(e,n)&&rx(t,n,e[n]);return t},rl=(t,e)=>fJ(t,pJ(e)),Ah=(t,e)=>{var n={};for(var r in t)YX.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&vy)for(var r of vy(t))e.indexOf(r)<0&&JX.call(t,r)&&(n[r]=t[r]);return n},by=(t,e,n)=>rx(t,typeof e!="symbol"?e+"":e,n),Pc=(t,e,n)=>new Promise((r,i)=>{var a=l=>{try{o(n.next(l))}catch(u){i(u)}},s=l=>{try{o(n.throw(l))}catch(u){i(u)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,s);o((n=n.apply(t,e)).next())});function mJ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Kg(t,e){if(!t)throw new Error(e)}function gJ(t){return typeof t=="object"&&t!==null}function yJ(t,e){if(!t)throw new Error("Unexpected invariant triggered.")}const vJ=/\r\n|[\n\r]/g;function ix(t,e){let n=0,r=1;for(const i of t.body.matchAll(vJ)){if(typeof i.index=="number"||yJ(!1),i.index>=e)break;n=i.index+i[0].length,r+=1}return{line:r,column:e+1-n}}function bJ(t){return $X(t.source,ix(t.source,t.start))}function $X(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,i=e.line-1,a=t.locationOffset.line-1,s=e.line+a,o=e.line===1?n:0,l=e.column+o,u=`${t.name}:${s}:${l}
`,c=r.split(/\r\n|[\n\r]/g),d=c[i];if(d.length>120){const f=Math.floor(l/80),p=l%80,v=[];for(let m=0;m<d.length;m+=80)v.push(d.slice(m,m+80));return u+lO([[`${s} |`,v[0]],...v.slice(1,f+1).map(m=>["|",m]),["|","^".padStart(p)],["|",v[f+1]]])}return u+lO([[`${s-1} |`,c[i-1]],[`${s} |`,d],["|","^".padStart(l)],[`${s+1} |`,c[i+1]]])}function lO(t){const e=t.filter(([r,i])=>i!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function wJ(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}let SJ=class KX extends Error{constructor(e,...n){var r,i,a;const{nodes:s,source:o,positions:l,path:u,originalError:c,extensions:d}=wJ(n);super(e),this.name="GraphQLError",this.path=u??void 0,this.originalError=c??void 0,this.nodes=uO(Array.isArray(s)?s:s?[s]:void 0);const f=uO((r=this.nodes)===null||r===void 0?void 0:r.map(v=>v.loc).filter(v=>v!=null));this.source=o??(f==null||(i=f[0])===null||i===void 0?void 0:i.source),this.positions=l??(f==null?void 0:f.map(v=>v.start)),this.locations=l&&o?l.map(v=>ix(o,v)):f==null?void 0:f.map(v=>ix(v.source,v.start));const p=gJ(c==null?void 0:c.extensions)?c==null?void 0:c.extensions:void 0;this.extensions=(a=d??p)!==null&&a!==void 0?a:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,KX):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+bJ(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+$X(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}};function uO(t){return t===void 0||t.length===0?void 0:t}function Jt(t,e,n){return new SJ(`Syntax Error: ${n}`,{source:t,positions:[e]})}let EJ=class{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}},QX=class{constructor(e,n,r,i,a,s){this.kind=e,this.start=n,this.end=r,this.line=i,this.column=a,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}};const qX={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},xJ=new Set(Object.keys(qX));function cO(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&xJ.has(e)}var zu;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(zu||(zu={}));var ax;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(ax||(ax={}));var ae;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(ae||(ae={}));function sx(t){return t===9||t===32}function Zf(t){return t>=48&&t<=57}function eU(t){return t>=97&&t<=122||t>=65&&t<=90}function tU(t){return eU(t)||t===95}function _J(t){return eU(t)||Zf(t)||t===95}function CJ(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let s=0;s<t.length;++s){var a;const o=t[s],l=kJ(o);l!==o.length&&(r=(a=r)!==null&&a!==void 0?a:s,i=s,s!==0&&l<n&&(n=l))}return t.map((s,o)=>o===0?s:s.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function kJ(t){let e=0;for(;e<t.length&&sx(t.charCodeAt(e));)++e;return e}function TJ(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,a=r.length>1&&r.slice(1).every(p=>p.length===0||sx(p.charCodeAt(0))),s=n.endsWith('\\"""'),o=t.endsWith('"')&&!s,l=t.endsWith("\\"),u=o||l,c=!i||t.length>70||u||a||s;let d="";const f=i&&sx(t.charCodeAt(0));return(c&&!f||a)&&(d+=`
`),d+=n,(c||u)&&(d+=`
`),'"""'+d+'"""'}var W;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(W||(W={}));let RJ=class{constructor(e){const n=new QX(W.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==W.EOF)do if(e.next)e=e.next;else{const n=OJ(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===W.COMMENT);return e}};function NJ(t){return t===W.BANG||t===W.DOLLAR||t===W.AMP||t===W.PAREN_L||t===W.PAREN_R||t===W.SPREAD||t===W.COLON||t===W.EQUALS||t===W.AT||t===W.BRACKET_L||t===W.BRACKET_R||t===W.BRACE_L||t===W.PIPE||t===W.BRACE_R}function md(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function Bv(t,e){return nU(t.charCodeAt(e))&&rU(t.charCodeAt(e+1))}function nU(t){return t>=55296&&t<=56319}function rU(t){return t>=56320&&t<=57343}function wl(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return W.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Tt(t,e,n,r,i){const a=t.line,s=1+n-t.lineStart;return new QX(e,n,r,a,s,i)}function OJ(t,e){const n=t.source.body,r=n.length;let i=e;for(;i<r;){const a=n.charCodeAt(i);switch(a){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return IJ(t,i);case 33:return Tt(t,W.BANG,i,i+1);case 36:return Tt(t,W.DOLLAR,i,i+1);case 38:return Tt(t,W.AMP,i,i+1);case 40:return Tt(t,W.PAREN_L,i,i+1);case 41:return Tt(t,W.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return Tt(t,W.SPREAD,i,i+3);break;case 58:return Tt(t,W.COLON,i,i+1);case 61:return Tt(t,W.EQUALS,i,i+1);case 64:return Tt(t,W.AT,i,i+1);case 91:return Tt(t,W.BRACKET_L,i,i+1);case 93:return Tt(t,W.BRACKET_R,i,i+1);case 123:return Tt(t,W.BRACE_L,i,i+1);case 124:return Tt(t,W.PIPE,i,i+1);case 125:return Tt(t,W.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?MJ(t,i):ZJ(t,i)}if(Zf(a)||a===45)return LJ(t,i,a);if(tU(a))return XJ(t,i);throw Jt(t.source,i,a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:md(a)||Bv(n,i)?`Unexpected character: ${wl(t,i)}.`:`Invalid character: ${wl(t,i)}.`)}return Tt(t,W.EOF,r,r)}function IJ(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const a=n.charCodeAt(i);if(a===10||a===13)break;if(md(a))++i;else if(Bv(n,i))i+=2;else break}return Tt(t,W.COMMENT,e,i,n.slice(e+1,i))}function LJ(t,e,n){const r=t.source.body;let i=e,a=n,s=!1;if(a===45&&(a=r.charCodeAt(++i)),a===48){if(a=r.charCodeAt(++i),Zf(a))throw Jt(t.source,i,`Invalid number, unexpected digit after 0: ${wl(t,i)}.`)}else i=I1(t,i,a),a=r.charCodeAt(i);if(a===46&&(s=!0,a=r.charCodeAt(++i),i=I1(t,i,a),a=r.charCodeAt(i)),(a===69||a===101)&&(s=!0,a=r.charCodeAt(++i),(a===43||a===45)&&(a=r.charCodeAt(++i)),i=I1(t,i,a),a=r.charCodeAt(i)),a===46||tU(a))throw Jt(t.source,i,`Invalid number, expected digit but got: ${wl(t,i)}.`);return Tt(t,s?W.FLOAT:W.INT,e,i,r.slice(e,i))}function I1(t,e,n){if(!Zf(n))throw Jt(t.source,e,`Invalid number, expected digit but got: ${wl(t,e)}.`);const r=t.source.body;let i=e+1;for(;Zf(r.charCodeAt(i));)++i;return i}function ZJ(t,e){const n=t.source.body,r=n.length;let i=e+1,a=i,s="";for(;i<r;){const o=n.charCodeAt(i);if(o===34)return s+=n.slice(a,i),Tt(t,W.STRING,e,i+1,s);if(o===92){s+=n.slice(a,i);const l=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?VJ(t,i):GJ(t,i):AJ(t,i);s+=l.value,i+=l.size,a=i;continue}if(o===10||o===13)break;if(md(o))++i;else if(Bv(n,i))i+=2;else throw Jt(t.source,i,`Invalid character within String: ${wl(t,i)}.`)}throw Jt(t.source,i,"Unterminated string.")}function VJ(t,e){const n=t.source.body;let r=0,i=3;for(;i<12;){const a=n.charCodeAt(e+i++);if(a===125){if(i<5||!md(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|uh(a),r<0)break}throw Jt(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+i)}".`)}function GJ(t,e){const n=t.source.body,r=dO(n,e+2);if(md(r))return{value:String.fromCodePoint(r),size:6};if(nU(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const i=dO(n,e+8);if(rU(i))return{value:String.fromCodePoint(r,i),size:12}}throw Jt(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function dO(t,e){return uh(t.charCodeAt(e))<<12|uh(t.charCodeAt(e+1))<<8|uh(t.charCodeAt(e+2))<<4|uh(t.charCodeAt(e+3))}function uh(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function AJ(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Jt(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function MJ(t,e){const n=t.source.body,r=n.length;let i=t.lineStart,a=e+3,s=a,o="";const l=[];for(;a<r;){const u=n.charCodeAt(a);if(u===34&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34){o+=n.slice(s,a),l.push(o);const c=Tt(t,W.BLOCK_STRING,e,a+3,CJ(l).join(`
`));return t.line+=l.length-1,t.lineStart=i,c}if(u===92&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34&&n.charCodeAt(a+3)===34){o+=n.slice(s,a),s=a+1,a+=4;continue}if(u===10||u===13){o+=n.slice(s,a),l.push(o),u===13&&n.charCodeAt(a+1)===10?a+=2:++a,o="",s=a,i=a;continue}if(md(u))++a;else if(Bv(n,a))a+=2;else throw Jt(t.source,a,`Invalid character within String: ${wl(t,a)}.`)}throw Jt(t.source,a,"Unterminated string.")}function XJ(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const a=n.charCodeAt(i);if(_J(a))++i;else break}return Tt(t,W.NAME,e,i,n.slice(e,i))}const UJ=10,iU=2;function PC(t){return Fv(t,[])}function Fv(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return WJ(t,e);default:return String(t)}}function WJ(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(PJ(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:Fv(r,n)}else if(Array.isArray(t))return DJ(t,n);return zJ(t,n)}function PJ(t){return typeof t.toJSON=="function"}function zJ(t,e){const n=Object.entries(t);return n.length===0?"{}":e.length>iU?"["+jJ(t)+"]":"{ "+n.map(([r,i])=>r+": "+Fv(i,e)).join(", ")+" }"}function DJ(t,e){if(t.length===0)return"[]";if(e.length>iU)return"[Array]";const n=Math.min(UJ,t.length),r=t.length-n,i=[];for(let a=0;a<n;++a)i.push(Fv(t[a],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function jJ(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}const BJ=globalThis.process&&!0,FJ=BJ?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;if(typeof t=="object"&&t!==null){var n;const r=e.prototype[Symbol.toStringTag],i=Symbol.toStringTag in t?t[Symbol.toStringTag]:(n=t.constructor)===null||n===void 0?void 0:n.name;if(r===i){const a=PC(t);throw new Error(`Cannot use ${r} "${a}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};let aU=class{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||Kg(!1,`Body must be a string. Received: ${PC(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||Kg(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Kg(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}};function HJ(t){return FJ(t,aU)}function zC(t,e){const n=new YJ(t,e),r=n.parseDocument();return Object.defineProperty(r,"tokenCount",{enumerable:!1,value:n.tokenCount}),r}let YJ=class{constructor(e,n={}){const r=HJ(e)?e:new aU(e);this._lexer=new RJ(r),this._options=n,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const e=this.expectToken(W.NAME);return this.node(e,{kind:ae.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:ae.DOCUMENT,definitions:this.many(W.SOF,this.parseDefinition,W.EOF)})}parseDefinition(){if(this.peek(W.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===W.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Jt(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(W.BRACE_L))return this.node(e,{kind:ae.OPERATION_DEFINITION,operation:zu.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(W.NAME)&&(r=this.parseName()),this.node(e,{kind:ae.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(W.NAME);switch(e.value){case"query":return zu.QUERY;case"mutation":return zu.MUTATION;case"subscription":return zu.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(W.PAREN_L,this.parseVariableDefinition,W.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ae.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(W.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(W.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(W.DOLLAR),this.node(e,{kind:ae.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ae.SELECTION_SET,selections:this.many(W.BRACE_L,this.parseSelection,W.BRACE_R)})}parseSelection(){return this.peek(W.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(W.COLON)?(r=n,i=this.parseName()):i=n,this.node(e,{kind:ae.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(W.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(W.PAREN_L,n,W.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(W.COLON),this.node(n,{kind:ae.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(W.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(W.NAME)?this.node(e,{kind:ae.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:ae.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:ae.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:ae.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case W.BRACKET_L:return this.parseList(e);case W.BRACE_L:return this.parseObject(e);case W.INT:return this.advanceLexer(),this.node(n,{kind:ae.INT,value:n.value});case W.FLOAT:return this.advanceLexer(),this.node(n,{kind:ae.FLOAT,value:n.value});case W.STRING:case W.BLOCK_STRING:return this.parseStringLiteral();case W.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:ae.BOOLEAN,value:!0});case"false":return this.node(n,{kind:ae.BOOLEAN,value:!1});case"null":return this.node(n,{kind:ae.NULL});default:return this.node(n,{kind:ae.ENUM,value:n.value})}case W.DOLLAR:if(e)if(this.expectToken(W.DOLLAR),this._lexer.token.kind===W.NAME){const r=this._lexer.token.value;throw Jt(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:ae.STRING,value:e.value,block:e.kind===W.BLOCK_STRING})}parseList(e){const n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:ae.LIST,values:this.any(W.BRACKET_L,n,W.BRACKET_R)})}parseObject(e){const n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:ae.OBJECT,fields:this.any(W.BRACE_L,n,W.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,r=this.parseName();return this.expectToken(W.COLON),this.node(n,{kind:ae.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek(W.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken(W.AT),this.node(n,{kind:ae.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken(W.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(W.BRACKET_R),n=this.node(e,{kind:ae.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(W.BANG)?this.node(e,{kind:ae.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:ae.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(W.STRING)||this.peek(W.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(W.BRACE_L,this.parseOperationTypeDefinition,W.BRACE_R);return this.node(e,{kind:ae.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken(W.COLON);const r=this.parseNamedType();return this.node(e,{kind:ae.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:ae.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:ae.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:a,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(W.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(W.BRACE_L,this.parseFieldDefinition,W.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(W.COLON);const a=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:ae.FIELD_DEFINITION,description:n,name:r,arguments:i,type:a,directives:s})}parseArgumentDefs(){return this.optionalMany(W.PAREN_L,this.parseInputValueDef,W.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(W.COLON);const i=this.parseTypeReference();let a;this.expectOptionalToken(W.EQUALS)&&(a=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(e,{kind:ae.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:a,directives:s})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:ae.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:a,fields:s})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),a=this.parseUnionMemberTypes();return this.node(e,{kind:ae.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:a})}parseUnionMemberTypes(){return this.expectOptionalToken(W.EQUALS)?this.delimitedMany(W.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();return this.node(e,{kind:ae.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:a})}parseEnumValuesDefinition(){return this.optionalMany(W.BRACE_L,this.parseEnumValueDefinition,W.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:ae.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Jt(this._lexer.source,this._lexer.token.start,`${Rm(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();return this.node(e,{kind:ae.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:a})}parseInputFieldsDefinition(){return this.optionalMany(W.BRACE_L,this.parseInputValueDef,W.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===W.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(W.BRACE_L,this.parseOperationTypeDefinition,W.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:ae.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:ae.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&a.length===0)throw this.unexpected();return this.node(e,{kind:ae.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:a})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&a.length===0)throw this.unexpected();return this.node(e,{kind:ae.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:a})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ae.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ae.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ae.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(W.AT);const r=this.parseName(),i=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(e,{kind:ae.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:a,locations:s})}parseDirectiveLocations(){return this.delimitedMany(W.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(ax,n.value))return n;throw this.unexpected(e)}node(e,n){return this._options.noLocation!==!0&&(n.loc=new EJ(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this.advanceLexer(),n;throw Jt(this._lexer.source,n.start,`Expected ${sU(e)}, found ${Rm(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const n=this._lexer.token;if(n.kind===W.NAME&&n.value===e)this.advanceLexer();else throw Jt(this._lexer.source,n.start,`Expected "${e}", found ${Rm(n)}.`)}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===W.NAME&&n.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const n=e??this._lexer.token;return Jt(this._lexer.source,n.start,`Unexpected ${Rm(n)}.`)}any(e,n,r){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(e,n,r){if(this.expectOptionalToken(e)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,n,r){this.expectToken(e);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,n){this.expectOptionalToken(e);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,n=this._lexer.advance();if(n.kind!==W.EOF&&(++this._tokenCounter,e!==void 0&&this._tokenCounter>e))throw Jt(this._lexer.source,n.start,`Document contains more that ${e} tokens. Parsing aborted.`)}};function Rm(t){const e=t.value;return sU(t.kind)+(e!=null?` "${e}"`:"")}function sU(t){return NJ(t)?`"${t}"`:t}function JJ(t){return`"${t.replace($J,KJ)}"`}const $J=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function KJ(t){return QJ[t.charCodeAt(0)]}const QJ=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],qJ=Object.freeze({});function e$(t,e,n=qX){const r=new Map;for(const y of Object.values(ae))r.set(y,t$(e,y));let i,a=Array.isArray(t),s=[t],o=-1,l=[],u=t,c,d;const f=[],p=[];do{o++;const y=o===s.length,g=y&&l.length!==0;if(y){if(c=p.length===0?void 0:f[f.length-1],u=d,d=p.pop(),g)if(a){u=u.slice();let w=0;for(const[E,_]of l){const C=E-w;_===null?(u.splice(C,1),w++):u[C]=_}}else{u=we({},u);for(const[w,E]of l)u[w]=E}o=i.index,s=i.keys,l=i.edits,a=i.inArray,i=i.prev}else if(d){if(c=a?o:s[o],u=d[c],u==null)continue;f.push(c)}let b;if(!Array.isArray(u)){var v,m;cO(u)||Kg(!1,`Invalid AST Node: ${PC(u)}.`);const w=y?(v=r.get(u.kind))===null||v===void 0?void 0:v.leave:(m=r.get(u.kind))===null||m===void 0?void 0:m.enter;if(b=w==null?void 0:w.call(e,u,c,d,f,p),b===qJ)break;if(b===!1){if(!y){f.pop();continue}}else if(b!==void 0&&(l.push([c,b]),!y))if(cO(b))u=b;else{f.pop();continue}}if(b===void 0&&g&&l.push([c,u]),y)f.pop();else{var S;i={inArray:a,index:o,keys:s,edits:l,prev:i},a=Array.isArray(u),s=a?u:(S=n[u.kind])!==null&&S!==void 0?S:[],o=-1,l=[],d&&p.push(d),d=u}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function t$(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function oU(t){return e$(t,r$)}const n$=80,r$={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>ee(t.definitions,`

`)},OperationDefinition:{leave(t){const e=Ce("(",ee(t.variableDefinitions,", "),")"),n=ee([t.operation,ee([t.name,e]),ee(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+Ce(" = ",n)+Ce(" ",ee(r," "))},SelectionSet:{leave:({selections:t})=>qr(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const a=Ce("",t,": ")+e;let s=a+Ce("(",ee(n,", "),")");return s.length>n$&&(s=a+Ce(`(
`,Qg(ee(n,`
`)),`
)`)),ee([s,ee(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Ce(" ",ee(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>ee(["...",Ce("on ",t),ee(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${Ce("(",ee(n,", "),")")} on ${e} ${Ce("",ee(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?TJ(t):JJ(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+ee(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+ee(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Ce("(",ee(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>Ce("",t,`
`)+ee(["schema",ee(e," "),qr(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>Ce("",t,`
`)+ee(["scalar",e,ee(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Ce("",t,`
`)+ee(["type",e,Ce("implements ",ee(n," & ")),ee(r," "),qr(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>Ce("",t,`
`)+e+(hO(n)?Ce(`(
`,Qg(ee(n,`
`)),`
)`):Ce("(",ee(n,", "),")"))+": "+r+Ce(" ",ee(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>Ce("",t,`
`)+ee([e+": "+n,Ce("= ",r),ee(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Ce("",t,`
`)+ee(["interface",e,Ce("implements ",ee(n," & ")),ee(r," "),qr(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>Ce("",t,`
`)+ee(["union",e,ee(n," "),Ce("= ",ee(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>Ce("",t,`
`)+ee(["enum",e,ee(n," "),qr(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>Ce("",t,`
`)+ee([e,ee(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>Ce("",t,`
`)+ee(["input",e,ee(n," "),qr(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>Ce("",t,`
`)+"directive @"+e+(hO(n)?Ce(`(
`,Qg(ee(n,`
`)),`
)`):Ce("(",ee(n,", "),")"))+(r?" repeatable":"")+" on "+ee(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>ee(["extend schema",ee(t," "),qr(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>ee(["extend scalar",t,ee(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>ee(["extend type",t,Ce("implements ",ee(e," & ")),ee(n," "),qr(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>ee(["extend interface",t,Ce("implements ",ee(e," & ")),ee(n," "),qr(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>ee(["extend union",t,ee(e," "),Ce("= ",ee(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>ee(["extend enum",t,ee(e," "),qr(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>ee(["extend input",t,ee(e," "),qr(n)]," ")}};function ee(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function qr(t){return Ce(`{
`,Qg(ee(t,`
`)),`
}`)}function Ce(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function Qg(t){return Ce("  ",t.replace(/\n/g,`
  `))}function hO(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}const DC=JSON,i$=t=>t.toUpperCase(),a$=t=>{const e={};return t.forEach((n,r)=>{e[r]=n}),e},s$=(t,e,n)=>t.document?t:{document:t,variables:e,requestHeaders:n,signal:void 0},o$=(t,e,n)=>t.query?t:{query:t,variables:e,requestHeaders:n,signal:void 0},l$=(t,e)=>t.documents?t:{documents:t,requestHeaders:e,signal:void 0},fO=t=>{var e,n;let r;const i=t.definitions.filter(a=>a.kind==="OperationDefinition");return i.length===1&&(r=(n=(e=i[0])==null?void 0:e.name)==null?void 0:n.value),r},L1=t=>{if(typeof t=="string"){let n;try{const r=zC(t);n=fO(r)}catch{}return{query:t,operationName:n}}const e=fO(t);return{query:oU(t),operationName:e}};let lU=class qg extends Error{constructor(e,n){const r=`${qg.extractMessage(e)}: ${JSON.stringify({response:e,request:n})}`;super(r),Object.setPrototypeOf(this,qg.prototype),this.response=e,this.request=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qg)}static extractMessage(e){var n,r,i;return(i=(r=(n=e.errors)==null?void 0:n[0])==null?void 0:r.message)!=null?i:`GraphQL Error (Code: ${e.status})`}};var jC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ox={exports:{}};(function(t,e){var n=typeof self<"u"?self:jC,r=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(s){var o={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(N){return N&&DataView.prototype.isPrototypeOf(N)}if(o.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(N){return N&&u.indexOf(Object.prototype.toString.call(N))>-1};function d(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(N))throw new TypeError("Invalid character in header field name");return N.toLowerCase()}function f(N){return typeof N!="string"&&(N=String(N)),N}function p(N){var I={next:function(){var O=N.shift();return{done:O===void 0,value:O}}};return o.iterable&&(I[Symbol.iterator]=function(){return I}),I}function v(N){this.map={},N instanceof v?N.forEach(function(I,O){this.append(O,I)},this):Array.isArray(N)?N.forEach(function(I){this.append(I[0],I[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(I){this.append(I,N[I])},this)}v.prototype.append=function(N,I){N=d(N),I=f(I);var O=this.map[N];this.map[N]=O?O+", "+I:I},v.prototype.delete=function(N){delete this.map[d(N)]},v.prototype.get=function(N){return N=d(N),this.has(N)?this.map[N]:null},v.prototype.has=function(N){return this.map.hasOwnProperty(d(N))},v.prototype.set=function(N,I){this.map[d(N)]=f(I)},v.prototype.forEach=function(N,I){for(var O in this.map)this.map.hasOwnProperty(O)&&N.call(I,this.map[O],O,this)},v.prototype.keys=function(){var N=[];return this.forEach(function(I,O){N.push(O)}),p(N)},v.prototype.values=function(){var N=[];return this.forEach(function(I){N.push(I)}),p(N)},v.prototype.entries=function(){var N=[];return this.forEach(function(I,O){N.push([O,I])}),p(N)},o.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function m(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function S(N){return new Promise(function(I,O){N.onload=function(){I(N.result)},N.onerror=function(){O(N.error)}})}function y(N){var I=new FileReader,O=S(I);return I.readAsArrayBuffer(N),O}function g(N){var I=new FileReader,O=S(I);return I.readAsText(N),O}function b(N){for(var I=new Uint8Array(N),O=new Array(I.length),X=0;X<I.length;X++)O[X]=String.fromCharCode(I[X]);return O.join("")}function w(N){if(N.slice)return N.slice(0);var I=new Uint8Array(N.byteLength);return I.set(new Uint8Array(N)),I.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(N){this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:o.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:o.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():o.arrayBuffer&&o.blob&&l(N)?(this._bodyArrayBuffer=w(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||c(N))?this._bodyArrayBuffer=w(N):this._bodyText=N=Object.prototype.toString.call(N):this._bodyText="",this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var N=m(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var N=m(this);if(N)return N;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function C(N){var I=N.toUpperCase();return _.indexOf(I)>-1?I:N}function k(N,I){I=I||{};var O=I.body;if(N instanceof k){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,I.headers||(this.headers=new v(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!O&&N._bodyInit!=null&&(O=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new v(I.headers)),this.method=C(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(O)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function x(N){var I=new FormData;return N.trim().split("&").forEach(function(O){if(O){var X=O.split("="),L=X.shift().replace(/\+/g," "),G=X.join("=").replace(/\+/g," ");I.append(decodeURIComponent(L),decodeURIComponent(G))}}),I}function T(N){var I=new v,O=N.replace(/\r?\n[\t ]+/g," ");return O.split(/\r?\n/).forEach(function(X){var L=X.split(":"),G=L.shift().trim();if(G){var V=L.join(":").trim();I.append(G,V)}}),I}E.call(k.prototype);function A(N,I){I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new v(I.headers),this.url=I.url||"",this._initBody(N)}E.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},A.error=function(){var N=new A(null,{status:0,statusText:""});return N.type="error",N};var M=[301,302,303,307,308];A.redirect=function(N,I){if(M.indexOf(I)===-1)throw new RangeError("Invalid status code");return new A(null,{status:I,headers:{location:N}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(I,O){this.message=I,this.name=O;var X=Error(I);this.stack=X.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function z(N,I){return new Promise(function(O,X){var L=new k(N,I);if(L.signal&&L.signal.aborted)return X(new s.DOMException("Aborted","AbortError"));var G=new XMLHttpRequest;function V(){G.abort()}G.onload=function(){var P={status:G.status,statusText:G.statusText,headers:T(G.getAllResponseHeaders()||"")};P.url="responseURL"in G?G.responseURL:P.headers.get("X-Request-URL");var F="response"in G?G.response:G.responseText;O(new A(F,P))},G.onerror=function(){X(new TypeError("Network request failed"))},G.ontimeout=function(){X(new TypeError("Network request failed"))},G.onabort=function(){X(new s.DOMException("Aborted","AbortError"))},G.open(L.method,L.url,!0),L.credentials==="include"?G.withCredentials=!0:L.credentials==="omit"&&(G.withCredentials=!1),"responseType"in G&&o.blob&&(G.responseType="blob"),L.headers.forEach(function(P,F){G.setRequestHeader(F,P)}),L.signal&&(L.signal.addEventListener("abort",V),G.onreadystatechange=function(){G.readyState===4&&L.signal.removeEventListener("abort",V)}),G.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return z.polyfill=!0,a.fetch||(a.fetch=z,a.Headers=v,a.Request=k,a.Response=A),s.Headers=v,s.Request=k,s.Response=A,s.fetch=z,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(ox,ox.exports);var wy=ox.exports;const e0=Hv(wy),u$=mJ({__proto__:null,default:e0},[wy]),Kl=t=>{let e={};return t&&(typeof Headers<"u"&&t instanceof Headers||u$&&wy.Headers&&t instanceof wy.Headers?e=a$(t):Array.isArray(t)?t.forEach(([n,r])=>{n&&r!==void 0&&(e[n]=r)}):e=t),e},pO=t=>t.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),c$=t=>{if(!Array.isArray(t.query)){const r=t,i=[`query=${encodeURIComponent(pO(r.query))}`];return t.variables&&i.push(`variables=${encodeURIComponent(r.jsonSerializer.stringify(r.variables))}`),r.operationName&&i.push(`operationName=${encodeURIComponent(r.operationName)}`),i.join("&")}if(typeof t.variables<"u"&&!Array.isArray(t.variables))throw new Error("Cannot create query with given variable type, array expected");const e=t,n=t.query.reduce((r,i,a)=>(r.push({query:pO(i),variables:e.variables?e.jsonSerializer.stringify(e.variables[a]):void 0}),r),[]);return`query=${encodeURIComponent(e.jsonSerializer.stringify(n))}`},d$=t=>e=>Pc(void 0,null,function*(){var n;const{url:r,query:i,variables:a,operationName:s,fetch:o,fetchOptions:l,middleware:u}=e,c=we({},e.headers);let d="",f;t==="POST"?(f=f$(i,a,s,l.jsonSerializer),typeof f=="string"&&(c["Content-Type"]="application/json")):d=c$({query:i,variables:a,operationName:s,jsonSerializer:(n=l.jsonSerializer)!=null?n:DC});const p=we({method:t,headers:c,body:f},l);let v=r,m=p;if(u){const S=yield Promise.resolve(u(rl(we({},p),{url:r,operationName:s,variables:a}))),{url:y}=S,g=Ah(S,["url"]);v=y,m=g}return d&&(v=`${v}?${d}`),yield o(v,m)});let h$=class{constructor(e,n={}){this.url=e,this.requestConfig=n,this.rawRequest=(...r)=>Pc(this,null,function*(){const[i,a,s]=r,o=o$(i,a,s),l=this.requestConfig,{headers:u,fetch:c=e0,method:d="POST",requestMiddleware:f,responseMiddleware:p}=l,v=Ah(l,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:m}=this;o.signal!==void 0&&(v.signal=o.signal);const{operationName:S}=L1(o.query);return Z1({url:m,query:o.query,variables:o.variables,headers:we(we({},Kl(V1(u))),Kl(o.requestHeaders)),operationName:S,fetch:c,method:d,fetchOptions:v,middleware:f}).then(y=>(p&&p(y),y)).catch(y=>{throw p&&p(y),y})})}request(e,...n){return Pc(this,null,function*(){const[r,i]=n,a=s$(e,r,i),s=this.requestConfig,{headers:o,fetch:l=e0,method:u="POST",requestMiddleware:c,responseMiddleware:d}=s,f=Ah(s,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:p}=this;a.signal!==void 0&&(f.signal=a.signal);const{query:v,operationName:m}=L1(a.document);return Z1({url:p,query:v,variables:a.variables,headers:we(we({},Kl(V1(o))),Kl(a.requestHeaders)),operationName:m,fetch:l,method:u,fetchOptions:f,middleware:c}).then(S=>(d&&d(S),S.data)).catch(S=>{throw d&&d(S),S})})}batchRequests(e,n){var r;const i=l$(e,n),a=this.requestConfig,{headers:s}=a,o=Ah(a,["headers"]);i.signal!==void 0&&(o.signal=i.signal);const l=i.documents.map(({document:c})=>L1(c).query),u=i.documents.map(({variables:c})=>c);return Z1({url:this.url,query:l,variables:u,headers:we(we({},Kl(V1(s))),Kl(i.requestHeaders)),operationName:void 0,fetch:(r=this.requestConfig.fetch)!=null?r:e0,method:this.requestConfig.method||"POST",fetchOptions:o,middleware:this.requestConfig.requestMiddleware}).then(c=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(c),c.data)).catch(c=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(c),c})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,n){const{headers:r}=this.requestConfig;return r?r[e]=n:this.requestConfig.headers={[e]:n},this}setEndpoint(e){return this.url=e,this}};const Z1=t=>Pc(void 0,null,function*(){var e,n;const{query:r,variables:i,fetchOptions:a}=t,s=d$(i$((e=t.method)!=null?e:"post")),o=Array.isArray(t.query),l=yield s(t),u=yield p$(l,(n=a.jsonSerializer)!=null?n:DC),c=Array.isArray(u)?!u.some(({data:f})=>!f):!!u.data,d=Array.isArray(u)||!u.errors||Array.isArray(u.errors)&&!u.errors.length||a.errorPolicy==="all"||a.errorPolicy==="ignore";if(l.ok&&d&&c){const f=u,p=Ah(f,["errors"]),v=a.errorPolicy==="ignore"?p:u;return rl(we({},o?{data:v}:v),{headers:l.headers,status:l.status})}else{const f=typeof u=="string"?{error:u}:u;throw new lU(rl(we({},f),{status:l.status,headers:l.headers}),{query:r,variables:i})}}),f$=(t,e,n,r)=>{const i=r??DC;if(!Array.isArray(t))return i.stringify({query:t,variables:e,operationName:n});if(typeof e<"u"&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");const a=t.reduce((s,o,l)=>(s.push({query:o,variables:e?e[l]:void 0}),s),[]);return i.stringify(a)},p$=(t,e)=>Pc(void 0,null,function*(){let n;return t.headers.forEach((r,i)=>{i.toLowerCase()==="content-type"&&(n=r)}),n&&(n.toLowerCase().startsWith("application/json")||n.toLowerCase().startsWith("application/graphql+json")||n.toLowerCase().startsWith("application/graphql-response+json"))?e.parse(yield t.text()):t.text()}),V1=t=>typeof t=="function"?t():t;var lx={exports:{}};(function(t,e){e=t.exports=n,e.getSerialize=r;function n(i,a,s,o){return JSON.stringify(i,r(a,o),s)}function r(i,a){var s=[],o=[];return a==null&&(a=function(l,u){return s[0]===u?"[Circular ~]":"[Circular ~."+o.slice(0,s.indexOf(u)).join(".")+"]"}),function(l,u){if(s.length>0){var c=s.indexOf(this);~c?s.splice(c+1):s.push(this),~c?o.splice(c,1/0,l):o.push(l),~s.indexOf(u)&&(u=a.call(this,l,u))}else s.push(u);return i==null?u:i.call(this,l,u)}}})(lx,lx.exports);var m$=lx.exports;const il=Hv(m$);var Sy=function(){return Sy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sy.apply(this,arguments)},t0=new Map,ux=new Map,uU=!0,Ey=!1;function cU(t){return t.replace(/[\s,]+/g," ").trim()}function g$(t){return cU(t.source.body.substring(t.start,t.end))}function y$(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,a=g$(r.loc),s=ux.get(i);s&&!s.has(a)?uU&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||ux.set(i,s=new Set),s.add(a),e.has(a)||(e.add(a),n.push(r))}else n.push(r)}),Sy(Sy({},t),{definitions:n})}function v$(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var a=r[i];a&&typeof a=="object"&&e.add(a)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function b$(t){var e=cU(t);if(!t0.has(e)){var n=zC(t,{experimentalFragmentVariables:Ey,allowLegacyFragmentVariables:Ey});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");t0.set(e,v$(y$(n)))}return t0.get(e)}function Ln(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return e.forEach(function(i,a){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=t[a+1]}),b$(r)}function w$(){t0.clear(),ux.clear()}function S$(){uU=!1}function E$(){Ey=!0}function x$(){Ey=!1}var Ad={gql:Ln,resetCaches:w$,disableFragmentWarnings:S$,enableExperimentalFragmentVariables:E$,disableExperimentalFragmentVariables:x$};(function(t){t.gql=Ad.gql,t.resetCaches=Ad.resetCaches,t.disableFragmentWarnings=Ad.disableFragmentWarnings,t.enableExperimentalFragmentVariables=Ad.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=Ad.disableExperimentalFragmentVariables})(Ln||(Ln={}));Ln.default=Ln;const dU=Ln`
	fragment MatchParts on MatchConfig {
		regexValue
		matchValue
	}
`,_$=Ln`
	mutation PushPayload(
		$session_secure_id: String!
		$payload_id: ID!
		$events: ReplayEventsInput!
		$messages: String!
		$resources: String!
		$web_socket_events: String!
		$errors: [ErrorObjectInput]!
		$is_beacon: Boolean
		$has_session_unloaded: Boolean
		$highlight_logs: String
	) {
		pushPayload(
			session_secure_id: $session_secure_id
			payload_id: $payload_id
			events: $events
			messages: $messages
			resources: $resources
			web_socket_events: $web_socket_events
			errors: $errors
			is_beacon: $is_beacon
			has_session_unloaded: $has_session_unloaded
			highlight_logs: $highlight_logs
		)
	}
`,hU=Ln`
	mutation PushSessionEvents(
		$session_secure_id: String!
		$payload_id: Int64ID!
		$data: String!
	) {
		pushSessionEvents(
			session_secure_id: $session_secure_id
			payload_id: $payload_id
			data: $data
		)
	}
`,C$=Ln`
	mutation identifySession(
		$session_secure_id: String!
		$user_identifier: String!
		$user_object: Any
	) {
		identifySession(
			session_secure_id: $session_secure_id
			user_identifier: $user_identifier
			user_object: $user_object
		)
	}
`,k$=Ln`
	mutation addSessionProperties(
		$session_secure_id: String!
		$properties_object: Any
	) {
		addSessionProperties(
			session_secure_id: $session_secure_id
			properties_object: $properties_object
		)
	}
`,T$=Ln`
	mutation pushMetrics($metrics: [MetricInput]!) {
		pushMetrics(metrics: $metrics)
	}
`,R$=Ln`
	mutation addSessionFeedback(
		$session_secure_id: String!
		$user_name: String
		$user_email: String
		$verbatim: String!
		$timestamp: Timestamp!
	) {
		addSessionFeedback(
			session_secure_id: $session_secure_id
			user_name: $user_name
			user_email: $user_email
			verbatim: $verbatim
			timestamp: $timestamp
		)
	}
`,N$=Ln`
	mutation initializeSession(
		$session_secure_id: String!
		$session_key: String
		$organization_verbose_id: String!
		$enable_strict_privacy: Boolean!
		$privacy_setting: String!
		$enable_recording_network_contents: Boolean!
		$clientVersion: String!
		$firstloadVersion: String!
		$clientConfig: String!
		$environment: String!
		$id: String!
		$appVersion: String
		$serviceName: String!
		$client_id: String!
		$network_recording_domains: [String!]
		$disable_session_recording: Boolean
	) {
		initializeSession(
			session_secure_id: $session_secure_id
			session_key: $session_key
			organization_verbose_id: $organization_verbose_id
			enable_strict_privacy: $enable_strict_privacy
			enable_recording_network_contents: $enable_recording_network_contents
			clientVersion: $clientVersion
			firstloadVersion: $firstloadVersion
			clientConfig: $clientConfig
			environment: $environment
			appVersion: $appVersion
			serviceName: $serviceName
			fingerprint: $id
			client_id: $client_id
			network_recording_domains: $network_recording_domains
			disable_session_recording: $disable_session_recording
			privacy_setting: $privacy_setting
		) {
			secure_id
			project_id
			sampling {
				spans {
					name {
						...MatchParts
					}
					attributes {
						key {
							...MatchParts
						}
						attribute {
							...MatchParts
						}
					}
					events {
						name {
							...MatchParts
						}
						attributes {
							key {
								...MatchParts
							}
							attribute {
								...MatchParts
							}
						}
					}
					samplingRatio
				}
				logs {
					message {
						...MatchParts
					}
					severityText {
						...MatchParts
					}
					attributes {
						key {
							...MatchParts
						}
						attribute {
							...MatchParts
						}
					}
					samplingRatio
				}
			}
		}
	}
	${dU}
`,O$=Ln`
	query Ignore($id: ID!) {
		ignore(id: $id)
	}
`,I$=Ln`
	query GetSamplingConfig($organization_verbose_id: String!) {
		sampling(organization_verbose_id: $organization_verbose_id) {
			spans {
				name {
					...MatchParts
				}
				attributes {
					key {
						...MatchParts
					}
					attribute {
						...MatchParts
					}
				}
				events {
					name {
						...MatchParts
					}
					attributes {
						key {
							...MatchParts
						}
						attribute {
							...MatchParts
						}
					}
				}
				samplingRatio
			}
			logs {
				message {
					...MatchParts
				}
				severityText {
					...MatchParts
				}
				attributes {
					key {
						...MatchParts
					}
					attribute {
						...MatchParts
					}
				}
				samplingRatio
			}
		}
	}
	${dU}
`,L$=(t,e,n,r)=>t();function Z$(t,e=L$){return{PushPayload(n,r){return e(i=>t.request(_$,n,we(we({},r),i)),"PushPayload","mutation",n)},PushSessionEvents(n,r){return e(i=>t.request(hU,n,we(we({},r),i)),"PushSessionEvents","mutation",n)},identifySession(n,r){return e(i=>t.request(C$,n,we(we({},r),i)),"identifySession","mutation",n)},addSessionProperties(n,r){return e(i=>t.request(k$,n,we(we({},r),i)),"addSessionProperties","mutation",n)},pushMetrics(n,r){return e(i=>t.request(T$,n,we(we({},r),i)),"pushMetrics","mutation",n)},addSessionFeedback(n,r){return e(i=>t.request(R$,n,we(we({},r),i)),"addSessionFeedback","mutation",n)},initializeSession(n,r){return e(i=>t.request(N$,n,we(we({},r),i)),"initializeSession","mutation",n)},Ignore(n,r){return e(i=>t.request(O$,n,we(we({},r),i)),"Ignore","query",n)},GetSamplingConfig(n,r){return e(i=>t.request(I$,n,we(we({},r),i)),"GetSamplingConfig","query",n)}}}const fU=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];var Co=(t=>(t.DeviceMemory="DeviceMemory",t.ViewportHeight="ViewportHeight",t.ViewportWidth="ViewportWidth",t.ScreenHeight="ScreenHeight",t.ScreenWidth="ScreenWidth",t.ViewportArea="ViewportArea",t))(Co||{}),Cr=(t=>(t.Device="Device",t.WebVital="WebVital",t.Performance="Performance",t.Frontend="Frontend",t.Backend="Backend",t))(Cr||{});function V$(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=i,()=>{t[e]=r}}catch{return()=>{}}}function G$(t){if(!t||!t.outerHTML)return"";let e="";for(;t.parentElement;){let n=t.localName;if(!n)break;n=n.toLowerCase();let r=t.parentElement,i=[];if(r.children&&r.children.length>0)for(let a=0;a<r.children.length;a++){let s=r.children[a];s.localName&&s.localName.toLowerCase&&s.localName.toLowerCase()===n&&i.push(s)}i.length>1&&(n+=":eq("+i.indexOf(t)+")"),e=n+(e?">"+e:""),t=r}return e}function cx(t){return Object.prototype.toString.call(t)==="[object Object]"}function pU(t,e){if(e===0)return!0;const n=Object.keys(t);for(const r of n)if(cx(t[r])&&pU(t[r],e-1))return!0;return!1}function dx(t,e){const n={numOfKeysLimit:50,depthOfLimit:4};Object.assign(n,e);const r=[],i=[];return JSON.stringify(t,function(o,l){if(r.length>0){const u=r.indexOf(this);~u?r.splice(u+1):r.push(this),~u?i.splice(u,1/0,o):i.push(o),~r.indexOf(l)&&(r[0]===l?l="[Circular ~]":l="[Circular ~."+i.slice(0,r.indexOf(l)).join(".")+"]")}else r.push(l);if(l==null)return l;if(a(l))return s(l);if(l instanceof Event){const u={};for(const c in l){const d=l[c];Array.isArray(d)?u[c]=G$(d.length?d[0]:null):u[c]=d}return u}else{if(l instanceof Node)return l instanceof HTMLElement?l?l.outerHTML:"":l.nodeName;if(l instanceof Error)return l.name+": "+l.message}return l});function a(o){return cx(o)&&Object.keys(o).length>n.numOfKeysLimit||typeof o=="function"?!0:o instanceof Event&&o.isTrusted===!1?Object.keys(o).length===1:!!(cx(o)&&pU(o,n.depthOfLimit))}function s(o){let l=o.toString();return n.stringLengthLimit&&l.length>n.stringLengthLimit&&(l=`${l.slice(0,n.stringLengthLimit)}...`),l}}function A$(){var t=document.createElement("canvas");return t.getContext&&t.getContext("2d")?t.toDataURL("image/webp").indexOf("data:image/webp")==0:!1}function M$(){return A$()?{type:"image/webp",quality:.9}:{type:"image/jpeg",quality:.6}}const X$="service.name",U$="url.full",W$="url.path",P$="url.query",z$="user_agent.original",mO=1e3,D$=1e3*2,j$=4*60*60*1e3,BC=15*60*1e3,gO={normal:{bytes:1e7,time:4*60*1e3},canvas:{bytes:16e6,time:5e3}},B$=100,hx="app.highlight.io";/*! js-cookie v3.0.5 | MIT */function Nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var F$={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function fx(t,e){function n(i,a,s){if(typeof document<"u"){s=Nm({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,s[l]!==!0&&(o+="="+s[l].split(";")[0]));return document.cookie=i+"="+t.write(a,i)+o}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],s={},o=0;o<a.length;o++){var l=a[o].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(s[c]=t.read(u,c),i===c)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,a){n(i,"",Nm({},a,{expires:-1}))},withAttributes:function(i){return fx(this.converter,Nm({},this.attributes,i))},withConverter:function(i){return fx(Nm({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var G1=fx(F$,{path:"/"}),px=(t=>(t.CLIENT_ID="highlightClientID",t))(px||{});let xy="localStorage",mx=!0,H$=class{constructor(){by(this,"storage",{})}get length(){return Object.keys(this.storage).length}key(e){var n;return(n=Object.keys(this.storage)[e])!=null?n:null}getItem(e){var n;return(n=this.storage[e])!=null?n:""}setItem(e,n){this.storage[e]=n}removeItem(e){delete this.storage[e]}},Y$=class{getItem(e){var n;return(n=G1.get(e))!=null?n:""}setItem(e,n){if(!mx)return;const r=new Date;r.setTime(r.getTime()+BC),G1.set(e,n,{expires:r})}removeItem(e){mx&&G1.remove(e)}};const sc=new H$,_y=new Y$,Vf=()=>{let t=null;if(typeof window>"u")return sc;try{switch(xy){case"localStorage":t=window.localStorage;break;case"sessionStorage":t=window.sessionStorage;break}t||($s("storage","getPersistentStorage","debug",`persistent storage was not found for mode ${xy}; using global storage`),t=sc)}catch(e){$s("storage","getPersistentStorage","debug","failed to get persistent storage; using global storage",e),t=sc}return t},J$=t=>{xy=t},mU=t=>{mx=t},yr=t=>{try{return Vf().getItem(t)}catch(e){return $s("storage","getItem","debug",`failed to get item ${t}; using global storage`,e),sc.getItem(t)}},ka=(t,e)=>{_y.setItem(t,e);try{return Vf().setItem(t,e)}catch(n){return $s("storage","setItem","debug",`failed to set item ${t}; using global storage`,n),sc.setItem(t,e)}},Cy=t=>{_y.removeItem(t);try{return Vf().removeItem(t)}catch(e){return $s("storage","removeItem","debug",`failed to remove item ${t}; using global storage`,e),sc.removeItem(t)}},$$=t=>{if(xy==="sessionStorage"){console.warn("highlight.io cannot use local storage; segment integration will not work");return}if(typeof window>"u"){console.warn("highlight.io cannot use local storage (not a window); segment integration will not work");return}const e=window.localStorage.setItem;window.localStorage.setItem=function(){const[n,r]=arguments;t({keyName:n,keyValue:r}),e.apply(this,[n,r])}};var Tn=(t=>(t.SEGMENT_LAST_SENT_HASH_KEY="HIGHLIGHT_SEGMENT_LAST_SENT_HASH_KEY",t.SESSION_ID="sessionID",t.SESSION_DATA="sessionData",t.USER_IDENTIFIER="highlightIdentifier",t.USER_OBJECT="highlightUserObject",t))(Tn||{});const Yv=t=>`${Tn.SESSION_DATA}_${t}`,gU=()=>{var t;return typeof globalThis<"u"&&(t=globalThis.persistentSessionSecureID)!=null&&t.length?globalThis.persistentSessionSecureID:yU()},K$=t=>{typeof globalThis<"u"&&t!=null&&t.length&&(globalThis.persistentSessionSecureID=t)},yU=()=>{var t;return(t=yr(Tn.SESSION_ID))!=null?t:""},n0=t=>{ka(Tn.SESSION_ID,t)},Q$=t=>{const e=Yv(t);return JSON.parse(yr(e)||"{}")},Mh=t=>{t||(t=yU());let e=Q$(t);if(e&&e.lastPushTime&&Date.now()-e.lastPushTime<BC)return e;Cy(Yv(t))},hu=function(t){if(!(t!=null&&t.sessionSecureID))return;const e=t.sessionSecureID;K$(e);const n=Yv(e);ka(n,JSON.stringify(t)),eK(n)},q$=function(){const t=_y.getItem(Tn.SESSION_ID);n0(t);const e=Yv(t),n=_y.getItem(e);try{hu(JSON.parse(n))}catch{}};function eK(t){const e=`${Tn.SESSION_DATA}_`;for(let n=Vf().length-1;n>=0;n--){const r=Vf().key(n);if(r&&r.startsWith(e)&&r!==t)try{const i=JSON.parse(yr(r)||"{}");i.lastPushTime===void 0?$s("highlightSession","pruneSessionData","error",`data for key ${r} is not session data`):Date.now()-i.lastPushTime>=BC&&($s("highlightSession","pruneSessionData","debug",`removing session data for stale key ${r}`),Cy(r))}catch(i){$s("highlightSession","pruneSessionData","error",`failed to parse session data for key ${r}`,i)}}}var vU=(t=>(t.BillingQuotaExceeded="BillingQuotaExceeded",t))(vU||{});const FC=10,HC=1e3,YC=500,tK=[vU.BillingQuotaExceeded.toString()],nK=t=>{var e;return((e=t.response.errors)==null?void 0:e.find(n=>tK.includes(n.message)))===void 0},rK=()=>{const t=(e,n,r,i,a=0)=>Pc(void 0,null,function*(){try{return yield e()}catch(s){if(s instanceof lU&&!nK(s))throw s;if(a<FC)return yield new Promise(o=>setTimeout(o,HC+YC*Math.pow(2,a))),yield t(e,n,r,i,a+1);throw console.error(`highlight.io: data request failed after ${a} retries`),s}});return t},jn="feature_flag",bU="evaluation",iK=`${jn}.${bU}`,aK=`${jn}.key`,sK=`${jn}.contextKeys`,oK=`${jn}.context.id`,lK=`${jn}.result.value`,uK=`${jn}.provider.name`,yO={kind:`${jn}.result.reason.kind`,errorKind:`${jn}.result.reason.errorKind`,ruleIndex:`${jn}.result.reason.ruleIndex`,ruleId:`${jn}.result.reason.ruleId`,prerequisiteKey:`${jn}.result.reason.prerequisiteKey`,inExperiment:`${jn}.result.reason.inExperiment`,bigSegmentsStatus:`${jn}.result.reason.bigSegmentsStatus`},cK=`${jn}.result.variationIndex`,dK="$ld:telemetry:session:init",hK="$ld:telemetry:error",vO="$ld:telemetry:track",fK="$ld:telemetry:metric",wU="document_load";function bO(t){return t.includes("%")||t.includes(":")?t.replace(/%/g,"%25").replace(/:/g,"%3A"):t}function SU(t){return t.kind==="multi"}function wO(t){return SU(t)?Object.keys(t).sort().filter(e=>e!=="kind").map(e=>`${e}:${bO(t[e].key)}`).join(":"):"kind"in t&&t.kind==="user"?t.key:"kind"in t?`${t.kind}:${bO(t.key)}`:t.key}function SO(t){return SU(t)?Object.keys(t).sort().filter(e=>e!=="kind").map(e=>({[e]:t[e].key})).reduce((e,n)=>we(we({},e),n),{}):"kind"in t?{[t.kind]:t.key}:{user:t.key}}function pK(t,e,n){e.addHook({getMetadata:()=>({name:"highlight.run"}),afterIdentify:(r,i,a)=>{var s,o;const l=rl(we({},SO(r.context)),{key:(o=(s=n==null?void 0:n.contextFriendlyName)==null?void 0:s.call(n,r.context))!=null?o:wO(r.context)});return t.log("LD.identify","INFO",l),a.status==="completed"&&t.identify(l.key,l,"LaunchDarkly"),i},afterEvaluation:(r,i,a)=>{const s=we({[uK]:"LaunchDarkly",[aK]:r.flagKey,[lK]:JSON.stringify(a.value)},a.variationIndex?{[cK]:a.variationIndex}:{});if(a.reason)for(const o in yO){const l=o,u=a.reason[l];u&&(s[yO[l]]=u)}return r.context&&(s[sK]=JSON.stringify(SO(r.context)),s[oK]=wO(r.context)),t.startSpan(bU,o=>{o&&o.addEvent(iK,s)}),i}})}let mK=class{constructor(e,n){by(this,"client"),by(this,"metadata"),this.client=e,this.metadata=n}getHooks(e){return[]}init(e){this.client.track(dK,{sessionID:e})}recordGauge(e,n){var r;n.category!==Cr.WebVital&&n.name!==wU||n.name!=="Jank"&&this.client.track(`${fK}:${n.name.toLowerCase()}`,rl(we({},(r=n.tags)==null?void 0:r.map(i=>({[i.name]:i.value})).reduce((i,a)=>we(we({},i),a),{})),{category:n.category,group:n.group,sessionID:e}),n.value)}identify(e,n,r={},i){}error(e,n){this.client.track(hK,rl(we({},n),{sessionID:e}))}track(e,n){const r=n.event;this.client.track(r?`${vO}:${r}`:vO,rl(we({},n),{sessionID:e}))}},EU=class extends WC{constructor(e,n){super(),by(this,"client"),this.client=new mK(e,n)}getHooks(e){return[{getMetadata:()=>({name:"highlight.run/ld"}),afterIdentify:(n,r,i)=>(this.load(this.client),r)}]}init(e){return this._bufferCall("init",[e])}recordGauge(e,n){return this._bufferCall("recordGauge",[e,n])}identify(e,n,r={},i){return this._bufferCall("identify",[e,n,r,i])}error(e,n){return this._bufferCall("error",[e,n])}track(e,n){return this._bufferCall("track",[e,n])}};const gK="9.20.0",yK={version:gK},xU=yK.version;function _U(t,e){return t.nodeType,vK(t)}function CU(t){if(t.id.length)return`#${t.id}`;if(t.classList.length){let e=[];for(const n of t.classList)e.push(`.${n}`);return`${t.nodeName.toLowerCase()}${e.join(",")}`}return t.nodeName.toLowerCase()}const vK=t=>{let e="";const n=t.getAttribute("class"),r=t.getAttribute("id");return r&&(e=e.concat(EO(r,"#"))),n&&(e=e.concat(EO(n,"."))),e===""&&(e=e.concat(t.tagName.toLowerCase())),e},EO=(t,e)=>`${e}${t.trim().split(" ").join(e)}`,bK=t=>{let e;const n=()=>{clearTimeout(e),e=setTimeout(()=>{var r,i;t({height:window.innerHeight,width:window.innerWidth,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth,orientation:(i=(r=window.screen.orientation)==null?void 0:r.angle)!=null?i:0})},500)};return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)};var kU={exports:{}};/**
 * @preserve
 * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)
 *
 * @author <a href="mailto:jensyt@gmail.com">Jens Taylor</a>
 * @see http://github.com/homebrewing/brauhaus-diff
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @see http://github.com/garycourt/murmurhash-js
 * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
 * @see http://sites.google.com/site/murmurhash/
 */(function(t){(function(){var e;function n(r,i){var a=this instanceof n?this:e;if(a.reset(i),typeof r=="string"&&r.length>0&&a.hash(r),a!==this)return a}n.prototype.hash=function(r){var i,a,s,o,l;switch(l=r.length,this.len+=l,a=this.k1,s=0,this.rem){case 0:a^=l>s?r.charCodeAt(s++)&65535:0;case 1:a^=l>s?(r.charCodeAt(s++)&65535)<<8:0;case 2:a^=l>s?(r.charCodeAt(s++)&65535)<<16:0;case 3:a^=l>s?(r.charCodeAt(s)&255)<<24:0,a^=l>s?(r.charCodeAt(s++)&65280)>>8:0}if(this.rem=l+this.rem&3,l-=this.rem,l>0){for(i=this.h1;a=a*11601+(a&65535)*3432906752&4294967295,a=a<<15|a>>>17,a=a*13715+(a&65535)*461832192&4294967295,i^=a,i=i<<13|i>>>19,i=i*5+3864292196&4294967295,!(s>=l);)a=r.charCodeAt(s++)&65535^(r.charCodeAt(s++)&65535)<<8^(r.charCodeAt(s++)&65535)<<16,o=r.charCodeAt(s++),a^=(o&255)<<24^(o&65280)>>8;switch(a=0,this.rem){case 3:a^=(r.charCodeAt(s+2)&65535)<<16;case 2:a^=(r.charCodeAt(s+1)&65535)<<8;case 1:a^=r.charCodeAt(s)&65535}this.h1=i}return this.k1=a,this},n.prototype.result=function(){var r,i;return r=this.k1,i=this.h1,r>0&&(r=r*11601+(r&65535)*3432906752&4294967295,r=r<<15|r>>>17,r=r*13715+(r&65535)*461832192&4294967295,i^=r),i^=this.len,i^=i>>>16,i=i*51819+(i&65535)*2246770688&4294967295,i^=i>>>13,i=i*44597+(i&65535)*3266445312&4294967295,i^=i>>>16,i>>>0},n.prototype.reset=function(r){return this.h1=typeof r=="number"?r:0,this.rem=this.k1=this.len=0,this},e=new n,t.exports=n})()})(kU);var wK=kU.exports;const SK=Hv(wK),A1=28,Ql="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",EK=2246822507,Du=t=>{var e,n="";if(t){const r=SK(t).result();for(let i=0;i<A1;i++){const a=((r^i*EK)>>>0)%Ql.length;n+=Ql.charAt(a)}}else{const r=typeof window<"u"&&((e=window.crypto)==null?void 0:e.getRandomValues),i=new Uint32Array(A1);r&&window.crypto.getRandomValues(i);for(let a=0;a<A1;a++)r?n+=Ql.charAt(i[a]%Ql.length):n+=Ql.charAt(Math.floor(Math.random()*Ql.length))}return n};var xK=(t,e,n)=>new Promise((r,i)=>{var a=l=>{try{o(n.next(l))}catch(u){i(u)}},s=l=>{try{o(n.throw(l))}catch(u){i(u)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,s);o((n=n.apply(t,e)).next())});class xO extends WC{getSession(){return this._isLoaded?this._bufferCall("getSession",[]):null}start(e){return xK(this,null,function*(){return this._sdk.start(e)})}stop(){return this._sdk.stop()}getRecordingState(){return this._isLoaded?this._bufferCall("getRecordingState",[]):"NotRecording"}snapshot(e){return this._isLoaded?this._bufferCall("snapshot",[e]):Promise.resolve(void 0)}register(e,n){return this._bufferCall("register",[e,n])}}let Om;typeof globalThis<"u"?globalThis.LDRecord?Om=globalThis.LDRecord:(Om=new xO,globalThis.LDRecord=Om):Om=new xO;var _K=Object.defineProperty,CK=Object.defineProperties,kK=Object.getOwnPropertyDescriptors,ky=Object.getOwnPropertySymbols,TU=Object.prototype.hasOwnProperty,RU=Object.prototype.propertyIsEnumerable,_O=(t,e,n)=>e in t?_K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oe=(t,e)=>{for(var n in e||(e={}))TU.call(e,n)&&_O(t,n,e[n]);if(ky)for(var n of ky(e))RU.call(e,n)&&_O(t,n,e[n]);return t},mi=(t,e)=>CK(t,kK(e)),Gf=(t,e)=>{var n={};for(var r in t)TU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ky)for(var r of ky(t))e.indexOf(r)<0&&RU.call(t,r)&&(n[r]=t[r]);return n},al=(t,e,n)=>new Promise((r,i)=>{var a=l=>{try{o(n.next(l))}catch(u){i(u)}},s=l=>{try{o(n.throw(l))}catch(u){i(u)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,s);o((n=n.apply(t,e)).next())});const TK={key:"_sid"},RK="rrweb/sequential-id@1",NK=t=>{const e=TK;let n=0;return{name:RK,eventProcessor(r){return Object.assign(r,{[e.key]:++n}),r},options:e}};var OK=Object.defineProperty,IK=(t,e,n)=>e in t?OK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e,n)=>IK(t,typeof e!="symbol"?e+"":e,n),CO,LK=Object.defineProperty,ZK=(t,e,n)=>e in t?LK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kO=(t,e,n)=>ZK(t,typeof e!="symbol"?e+"":e,n),Mt=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(Mt||{});const TO={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},RO={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Im={},VK=()=>!!globalThis.Zone;function JC(t){if(Im[t])return Im[t];const e=globalThis[t],n=e.prototype,r=t in TO?TO[t]:void 0,i=!!(r&&r.every(o=>{var l,u;return!!((u=(l=Object.getOwnPropertyDescriptor(n,o))==null?void 0:l.get)!=null&&u.toString().includes("[native code]"))})),a=t in RO?RO[t]:void 0,s=!!(a&&a.every(o=>{var l;return typeof n[o]=="function"&&((l=n[o])==null?void 0:l.toString().includes("[native code]"))}));if(i&&s&&!VK())return Im[t]=e.prototype,e.prototype;try{const o=document.createElement("iframe");document.body.appendChild(o);const l=o.contentWindow;if(!l)return e.prototype;const u=l[t].prototype;return document.body.removeChild(o),u?Im[t]=u:n}catch{return n}}const M1={};function fo(t,e,n){var r;const i=`${t}.${String(n)}`;if(M1[i])return M1[i].call(e);const a=JC(t),s=(r=Object.getOwnPropertyDescriptor(a,n))==null?void 0:r.get;return s?(M1[i]=s,s.call(e)):e[n]}const X1={};function NU(t,e,n){const r=`${t}.${String(n)}`;if(X1[r])return X1[r].bind(e);const i=JC(t)[n];return typeof i!="function"?e[n]:(X1[r]=i,i.bind(e))}function GK(t){return fo("Node",t,"childNodes")}function AK(t){return fo("Node",t,"parentNode")}function MK(t){return fo("Node",t,"parentElement")}function XK(t){return fo("Node",t,"textContent")}function UK(t,e){return NU("Node",t,"contains")(e)}function WK(t){return NU("Node",t,"getRootNode")()}function PK(t){return!t||!("host"in t)?null:fo("ShadowRoot",t,"host")}function zK(t){return t.styleSheets}function DK(t){return!t||!("shadowRoot"in t)?null:fo("Element",t,"shadowRoot")}function jK(t,e){return fo("Element",t,"querySelector")(e)}function BK(t,e){return fo("Element",t,"querySelectorAll")(e)}function FK(){return JC("MutationObserver").constructor}function HK(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=i,()=>{t[e]=r}}catch{return()=>{}}}const fn={childNodes:GK,parentNode:AK,parentElement:MK,textContent:XK,contains:UK,getRootNode:WK,host:PK,styleSheets:zK,shadowRoot:DK,querySelector:jK,querySelectorAll:BK,mutationObserver:FK,patch:HK};function OU(t){return t.nodeType===t.ELEMENT_NODE}function Xh(t){const e=t&&"host"in t&&"mode"in t&&fn.host(t)||null;return!!(e&&"shadowRoot"in e&&fn.shadowRoot(e)===t)}function Uh(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function YK(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}function JK(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}function gx(t){try{const e=t.rules||t.cssRules;if(!e)return null;let n=t.href;!n&&t.ownerNode&&t.ownerNode.ownerDocument&&(n=t.ownerNode.ownerDocument.location.href);const r=Array.from(e,i=>IU(i,n)).join("");return YK(r)}catch{return null}}function IU(t,e){if(KK(t)){let n;try{n=gx(t.styleSheet)||JK(t)}catch{n=t.cssText}return t.styleSheet.href?Ny(n,t.styleSheet.href):n}else{let n=t.cssText;return QK(t)&&t.selectorText.includes(":")&&(n=$K(n)),e?Ny(n,e):n}}function $K(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function KK(t){return"styleSheet"in t}function QK(t){return"selectorText"in t}let LU=class{constructor(){kO(this,"idNodeMap",new Map),kO(this,"nodeMetaMap",new WeakMap)}getId(e){var n;if(!e)return-1;const r=(n=this.getMeta(e))==null?void 0:n.id;return r??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,n){const r=n.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,n)}replace(e,n){const r=this.getNode(e);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(e,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function qK(){return new LU}function Ty({element:t,maskInputOptions:e,tagName:n,type:r,value:i,overwriteRecord:a,maskInputFn:s}){let o=i||"";return GU({maskInputOptions:e,tagName:n,type:r,overwriteRecord:a})&&(s?o=s(o,t):o="*".repeat(o.length)),o}function zc(t){return t.toLowerCase()}const NO="__rrweb_original__";function e6(t){const e=t.getContext("2d");if(!e)return!0;const n=50;for(let r=0;r<t.width;r+=n)for(let i=0;i<t.height;i+=n){const a=e.getImageData,s=NO in a?a[NO]:a;if(new Uint32Array(s.call(e,r,i,Math.min(n,t.width-r),Math.min(n,t.height-i)).data.buffer).some(o=>o!==0))return!1}return!0}function Ry(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?zc(e):null}function ZU(t,e){var n;let r;try{r=new URL(t,window.location.href)}catch{return null}const i=/\.([0-9a-z]+)(?:$)/i,a=r.pathname.match(i);return(n=a==null?void 0:a[1])!=null?n:null}function t6(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}const n6=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,r6=/^(?:[a-z+]+:)?\/\//i,i6=/^www\..*/i,a6=/^(data:)([^,]*),(.*)/i;function Ny(t,e){return(t||"").replace(n6,(n,r,i,a,s,o)=>{const l=i||s||o,u=r||a||"";if(!l)return n;if(r6.test(l)||i6.test(l))return`url(${u}${l}${u})`;if(a6.test(l))return`url(${u}${l}${u})`;if(l[0]==="/")return`url(${u}${t6(e)+l}${u})`;const c=e.split("/"),d=l.split("/");c.pop();for(const f of d)f!=="."&&(f===".."?c.pop():c.push(f));return`url(${u}${c.join("/")}${u})`})}function Lm(t,e=!1){return e?t.replace(/(\/\*[^*]*\*\/)|[\s;]/g,""):t.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"").replace(/0px/g,"0")}function s6(t,e,n=!1){const r=Array.from(e.childNodes),i=[];let a=0;if(r.length>1&&t&&typeof t=="string"){let s=Lm(t,n);const o=s.length/t.length;for(let l=1;l<r.length;l++)if(r[l].textContent&&typeof r[l].textContent=="string"){const u=Lm(r[l].textContent,n),c=100;let d=3;for(;d<u.length&&(u[d].match(/[a-zA-Z0-9]/)||u.indexOf(u.substring(0,d),1)!==-1);d++);for(;d<u.length;d++){let f=u.substring(0,d),p=s.split(f),v=-1;if(p.length===2)v=p[0].length;else if(p.length>2&&p[0]===""&&r[l-1].textContent!=="")v=s.indexOf(f,1);else if(p.length===1){if(f=f.substring(0,f.length-1),p=s.split(f),p.length<=1)return i.push(t),i;d=c+1}else d===u.length-1&&(v=s.indexOf(f));if(p.length>=2&&d>c){const m=r[l-1].textContent;if(m&&typeof m=="string"){const S=Lm(m).length;v=s.indexOf(f,S)}v===-1&&(v=p[0].length)}if(v!==-1){let m=Math.floor(v/o);for(;m>0&&m<t.length;){if(a+=1,a>50*r.length)return i.push(t),i;const S=Lm(t.substring(0,m),n);if(S.length===v){i.push(t.substring(0,m)),t=t.substring(m),s=s.substring(v);break}else S.length<v?m+=Math.max(1,Math.floor((v-S.length)/o)):m-=Math.max(1,Math.floor((S.length-v)*o))}break}}}}return i.push(t),i}function o6(t,e){return s6(t,e).join("/* rr_split */")}function $C(t){return t=t.replace(/[^ -~]+/g,""),t=(t==null?void 0:t.split(" ").map(e=>Math.random().toString(20).substring(2,e.length)).join(" "))||"",t}function yx(t){return t==="img"||t==="video"||t==="audio"||t==="source"}const l6=new RegExp(/[a-zA-Z0-9.!#$%&'*+=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*/),u6=new RegExp(/[0-9]{9,16}/),c6=new RegExp(/[0-9]{3}-?[0-9]{2}-?[0-9]{4}/),d6=new RegExp(/[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}/),h6=new RegExp(/[0-9]{4}-?[0-9]{4}-?[0-9]{4}-?[0-9]{4}/),f6=new RegExp(/[0-9]{1,5}.?[0-9]{0,3}\s[a-zA-Z]{2,30}\s[a-zA-Z]{2,15}/),p6=new RegExp(/(?:[0-9]{1,3}.){3}[0-9]{1,3}/),m6=[l6,u6,c6,d6,h6,f6,p6];function VU(t){return t?m6.some(e=>e.test(t)):!1}const GU=({maskInputOptions:t,tagName:e,type:n,overwriteRecord:r})=>{const i=n&&n.toLowerCase();return r!=="true"&&(!!t[e.toLowerCase()]||!!(i&&t[i]))};let g6=1;const y6=new RegExp("[^a-z0-9-_:]"),Af=-2;function AU(){return g6++}function v6(t){if(t instanceof HTMLFormElement)return"form";const e=zc(t.tagName);return y6.test(e)?"div":e}let ql,OO;const b6=/^[^ \t\n\r\u000c]+/,w6=/^[, \t\n\r\u000c]+/;function S6(t,e){if(e.trim()==="")return e;let n=0;function r(a){let s;const o=a.exec(e.substring(n));return o?(s=o[0],n+=s.length,s):""}const i=[];for(;r(w6),!(n>=e.length);){let a=r(b6);if(a.slice(-1)===",")a=Oy(t,a.substring(0,a.length-1)),i.push(a);else{let s="";a=Oy(t,a);let o=!1;for(;;){const l=e.charAt(n);if(l===""){i.push((a+s).trim());break}else if(o)l===")"&&(o=!1);else if(l===","){n+=1,i.push((a+s).trim());break}else l==="("&&(o=!0);s+=l,n+=1}}}return i.join(", ")}const IO=new WeakMap;function Oy(t,e){return!e||e.trim()===""?e:KC(t,e)}function E6(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function KC(t,e){let n=IO.get(t);if(n||(n=t.createElement("a"),IO.set(t,n)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return n.setAttribute("href",e),n.href}function MU(t,e,n,r){return r&&(n==="src"||n==="href"&&!(e==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(e==="table"||e==="td"||e==="th")?Oy(t,r):n==="srcset"?S6(t,r):n==="style"?Ny(r,KC(t)):e==="object"&&n==="data"?Oy(t,r):r)}function XU(t,e,n){return(t==="video"||t==="audio")&&e==="autoplay"}function LO(t,e,n){try{if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let r=t.classList.length;r--;){const i=t.classList[r];if(e.test(i))return!0}if(n)return t.matches(n)}catch{}return!1}function Iy(t,e,n){if(!t)return!1;if(t.nodeType!==t.ELEMENT_NODE)return n?Iy(fn.parentNode(t),e,n):!1;for(let r=t.classList.length;r--;){const i=t.classList[r];if(e.test(i))return!0}return n?Iy(fn.parentNode(t),e,n):!1}function UU(t,e,n,r){let i;if(OU(t)){if(i=t,!fn.childNodes(i).length)return!1}else{if(fn.parentElement(t)===null)return!1;i=fn.parentElement(t)}try{if(typeof e=="string"){if(r){if(i.closest(`.${e}`))return!0}else if(i.classList.contains(e))return!0}else if(Iy(i,e,r))return!0;if(n){if(r){if(i.closest(n))return!0}else if(i.matches(n))return!0}}catch{}return!1}function x6(t,e,n){const r=t.contentWindow;if(!r)return;let i=!1,a;try{a=r.document.readyState}catch{return}if(a!=="complete"){const o=setTimeout(()=>{i||(e(),i=!0)},n);t.addEventListener("load",()=>{clearTimeout(o),i=!0,e()});return}const s="about:blank";if(r.location.href!==s||t.src===s||t.src==="")return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function _6(t,e,n){let r=!1,i;try{i=t.sheet}catch{return}if(i)return;const a=setTimeout(()=>{r||(e(),r=!0)},n);t.addEventListener("load",()=>{clearTimeout(a),r=!0,e()})}function C6(t,e){const{doc:n,mirror:r,blockClass:i,blockSelector:a,needsMask:s,inlineStylesheet:o,maskInputOptions:l={},maskTextClass:u,maskTextFn:c,maskInputFn:d,dataURLOptions:f={},inlineImages:p,inlineVideos:v,recordCanvas:m,keepIframeSrcFn:S,newlyAddedElement:y=!1,cssCaptured:g=!1,privacySetting:b}=e,w=k6(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:Mt.Document,childNodes:[],compatMode:t.compatMode}:{type:Mt.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:Mt.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:w};case t.ELEMENT_NODE:return R6(t,{doc:n,blockClass:i,blockSelector:a,inlineStylesheet:o,maskInputOptions:l,maskInputFn:d,maskTextClass:u,dataURLOptions:f,inlineImages:p,inlineVideos:v,recordCanvas:m,keepIframeSrcFn:S,newlyAddedElement:y,privacySetting:b,rootId:w});case t.TEXT_NODE:return T6(t,{doc:n,needsMask:s,maskTextFn:c,privacySetting:b,rootId:w,cssCaptured:g});case t.CDATA_SECTION_NODE:return{type:Mt.CDATA,textContent:"",rootId:w};case t.COMMENT_NODE:return{type:Mt.Comment,textContent:fn.textContent(t)||"",rootId:w};default:return!1}}function k6(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return n===1?void 0:n}function T6(t,e){var n;const{needsMask:r,maskTextFn:i,privacySetting:a,rootId:s,cssCaptured:o}=e,l=fn.parentNode(t),u=l&&l.tagName;let c="";const d=u==="STYLE"?!0:void 0,f=u==="SCRIPT"?!0:void 0;f?c="SCRIPT_PLACEHOLDER":o||(c=fn.textContent(t),d&&c&&(c=Ny(c,KC(e.doc)))),!d&&!f&&c&&r&&(c=i?i(c,fn.parentElement(t)):c.replace(/[\S]/g,"*"));const p=a==="strict",v=(n=t.parentElement)==null?void 0:n.getAttribute("data-hl-record"),m=a==="default"&&VU(c);return(p||m)&&!v&&u&&!new Set(["HEAD","TITLE","STYLE","SCRIPT","HTML","BODY","NOSCRIPT"]).has(u)&&c&&(c=$C(c)),{type:Mt.Text,textContent:c||"",rootId:s}}function R6(t,e){const{doc:n,blockClass:r,blockSelector:i,inlineStylesheet:a,maskInputOptions:s={},maskInputFn:o,maskTextClass:l,dataURLOptions:u={},inlineImages:c,inlineVideos:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:v=!1,privacySetting:m,rootId:S}=e;let y=LO(t,r,i);const g=LO(t,l,null),b=m==="strict";let w=v6(t),E={};const _=t.attributes.length;for(let x=0;x<_;x++){const T=t.attributes[x];XU(w,T.name)||(E[T.name]=MU(n,w,zc(T.name),T.value))}if(w==="link"&&a){const x=Array.from(n.styleSheets).find(A=>A.href===t.href);let T=null;x&&(T=gx(x)),T&&(delete E.rel,delete E.href,E._cssText=T)}if(w==="style"&&t.sheet){let x=gx(t.sheet);x&&(t.childNodes.length>1&&(x=o6(x,t)),E._cssText=x)}if(w==="input"||w==="textarea"||w==="select"){const x=t.value,T=t.checked;E.type!=="radio"&&E.type!=="checkbox"&&E.type!=="submit"&&E.type!=="button"&&x?E.value=Ty({element:t,type:Ry(t),tagName:w,value:x,overwriteRecord:t.getAttribute("data-hl-record"),maskInputOptions:s,maskInputFn:o}):T&&(E.checked=T)}if(w==="option"&&(t.selected&&!s.select?E.selected=!0:delete E.selected),w==="dialog"&&t.open&&(E.rr_open_mode=t.matches("dialog:modal")?"modal":"non-modal"),w==="canvas"&&f){if(t.__context==="2d")e6(t);else if(!("__context"in t)){const x=t.toDataURL(u.type,u.quality),T=n.createElement("canvas");T.width=t.width,T.height=t.height;const A=T.toDataURL(u.type,u.quality);x!==A&&(E.rr_dataURL=x)}}if(w==="img"&&c&&!y&&!g&&!b){ql||(ql=n.createElement("canvas"),OO=ql.getContext("2d"));const x=t,T=x.currentSrc||x.getAttribute("src")||"<unknown-src>",A=x.crossOrigin,M=()=>{x.removeEventListener("load",M);try{ql.width=x.naturalWidth,ql.height=x.naturalHeight,OO.drawImage(x,0,0),E.rr_dataURL=ql.toDataURL(u.type,u.quality)}catch(z){if(x.crossOrigin!=="anonymous"){x.crossOrigin="anonymous",x.complete&&x.naturalWidth!==0?M():x.addEventListener("load",M);return}else console.warn(`Cannot inline img src=${T}! Error: ${z}`)}x.crossOrigin==="anonymous"&&(A?E.crossOrigin=A:x.removeAttribute("crossorigin"))};x.complete&&x.naturalWidth!==0?M():x.addEventListener("load",M)}if(w==="audio"||w==="video"){const x=E;x.rr_mediaState=t.paused?"paused":"played",x.rr_mediaCurrentTime=t.currentTime,x.rr_mediaPlaybackRate=t.playbackRate,x.rr_mediaMuted=t.muted,x.rr_mediaLoop=t.loop,x.rr_mediaVolume=t.volume}if(v||(t.scrollLeft&&(E.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(E.rr_scrollTop=t.scrollTop)),y||g||b&&yx(w)){const{width:x,height:T}=t.getBoundingClientRect();E={class:E.class,rr_width:`${x}px`,rr_height:`${T}px`}}b&&yx(w)&&(y=!0),w==="iframe"&&!p(E.src)&&(t.contentDocument||(E.rr_src=E.src),delete E.src);let C;try{customElements.get(w)&&(C=!0)}catch{}const k=x=>{const{width:T,height:A}=x.getBoundingClientRect();E={width:T,height:A,rr_width:`${T}px`,rr_height:`${A}px`,rr_inlined_video:!0,class:E.class,style:E.style},w="canvas";const M=n.createElement("canvas");M.width=t.width,M.height=t.height,E.rr_dataURL=M.toDataURL(u.type,u.quality)};if(w==="video"){const x=t;c&&(x.src===""||x.src.indexOf("blob:")!==-1)&&k(x),d&&x.src!==""&&x.src.indexOf("blob:")===-1&&k(x)}return{type:Mt.Element,tagName:w,attributes:E,childNodes:[],isSVG:E6(t)||void 0,needBlock:y,needMask:g,rootId:S,isCustom:C}}function Qe(t){return t==null?"":t.toLowerCase()}function N6(t,e){return!!(e.comment&&t.type===Mt.Comment||t.type===Mt.Element&&(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"&&t.attributes.as==="script"||t.attributes.rel==="modulepreload")||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&ZU(t.attributes.href)==="js")||e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(Qe(t.attributes.name).match(/^msapplication-tile(image|color)$/)||Qe(t.attributes.name)==="application-name"||Qe(t.attributes.rel)==="icon"||Qe(t.attributes.rel)==="apple-touch-icon"||Qe(t.attributes.rel)==="shortcut icon"))||t.tagName==="meta"&&(e.headMetaDescKeywords&&Qe(t.attributes.name).match(/^description|keywords$/)||e.headMetaSocial&&(Qe(t.attributes.property).match(/^(og|twitter|fb):/)||Qe(t.attributes.name).match(/^(og|twitter):/)||Qe(t.attributes.name)==="pinterest")||e.headMetaRobots&&(Qe(t.attributes.name)==="robots"||Qe(t.attributes.name)==="googlebot"||Qe(t.attributes.name)==="bingbot")||e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0||e.headMetaAuthorship&&(Qe(t.attributes.name)==="author"||Qe(t.attributes.name)==="generator"||Qe(t.attributes.name)==="framework"||Qe(t.attributes.name)==="publisher"||Qe(t.attributes.name)==="progid"||Qe(t.attributes.property).match(/^article:/)||Qe(t.attributes.property).match(/^product:/))||e.headMetaVerification&&(Qe(t.attributes.name)==="google-site-verification"||Qe(t.attributes.name)==="yandex-verification"||Qe(t.attributes.name)==="csrf-token"||Qe(t.attributes.name)==="p:domain_verify"||Qe(t.attributes.name)==="verify-v1"||Qe(t.attributes.name)==="verification"||Qe(t.attributes.name)==="shopify-checkout-api-token"))))}function ju(t,e){const{doc:n,mirror:r,blockClass:i,blockSelector:a,maskTextClass:s,maskTextSelector:o,skipChild:l=!1,inlineStylesheet:u=!0,maskInputOptions:c={},maskTextFn:d,maskInputFn:f,slimDOMOptions:p,dataURLOptions:v={},inlineImages:m=!1,inlineVideos:S=!1,recordCanvas:y=!1,onSerialize:g,onIframeLoad:b,iframeLoadTimeout:w=5e3,onStylesheetLoad:E,stylesheetLoadTimeout:_=5e3,keepIframeSrcFn:C=()=>!1,newlyAddedElement:k=!1,cssCaptured:x=!1,privacySetting:T}=e;let{needsMask:A}=e,{preserveWhiteSpace:M=!0}=e;A||(A=UU(t,s,o,A===void 0));const z=C6(t,{doc:n,mirror:r,blockClass:i,blockSelector:a,needsMask:A,inlineStylesheet:u,maskInputOptions:c,maskTextClass:s,maskTextFn:d,maskInputFn:f,dataURLOptions:v,inlineImages:m,inlineVideos:S,recordCanvas:y,keepIframeSrcFn:C,newlyAddedElement:k,cssCaptured:x,privacySetting:T});if(!z)return console.warn(t,"not serialized"),null;let N;r.hasNode(t)?N=r.getId(t):N6(z,p)||!M&&z.type===Mt.Text&&!z.textContent.replace(/^\s+|\s+$/gm,"").length?N=Af:N=AU();const I=Object.assign(z,{id:N});if(r.add(t,I),N===Af)return null;g&&g(t);let O=!l,X=T,L=T==="strict";if(I.type===Mt.Element){if(O=O&&!I.needBlock,L||(L=!!I.needBlock||!!I.needMask),X=L?"strict":X,L&&yx(I.tagName)){const P=t.cloneNode();P.src="",r.add(P,I)}delete I.needBlock,delete I.needMask;const V=fn.shadowRoot(t);V&&Uh(V)&&(I.isShadowHost=!0)}if((I.type===Mt.Document||I.type===Mt.Element)&&O){p.headWhitespace&&I.type===Mt.Element&&I.tagName==="head"&&(M=!1);const V={doc:n,mirror:r,blockClass:i,blockSelector:a,needsMask:A,maskTextClass:s,maskTextSelector:o,skipChild:l,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:p,dataURLOptions:v,inlineImages:m,inlineVideos:S,recordCanvas:y,preserveWhiteSpace:M,onSerialize:g,onIframeLoad:b,iframeLoadTimeout:w,onStylesheetLoad:E,stylesheetLoadTimeout:_,keepIframeSrcFn:C,cssCaptured:!1,privacySetting:X};if(!(I.type===Mt.Element&&I.tagName==="textarea"&&I.attributes.value!==void 0)){I.type===Mt.Element&&I.attributes._cssText!==void 0&&typeof I.attributes._cssText=="string"&&(V.cssCaptured=!0);for(const F of Array.from(fn.childNodes(t))){const ie=ju(F,V);ie&&I.childNodes.push(ie)}}let P=null;if(OU(t)&&(P=fn.shadowRoot(t)))for(const F of Array.from(fn.childNodes(P))){const ie=ju(F,V);ie&&(Uh(P)&&(ie.isShadow=!0),I.childNodes.push(ie))}}const G=fn.parentNode(t);return G&&Xh(G)&&Uh(G)&&(I.isShadow=!0),I.type===Mt.Element&&I.tagName==="iframe"&&x6(t,()=>{const V=t.contentDocument;if(V&&b){const P=ju(V,{doc:V,mirror:r,blockClass:i,blockSelector:a,needsMask:A,maskTextClass:s,maskTextSelector:o,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:p,dataURLOptions:v,inlineImages:m,inlineVideos:S,recordCanvas:y,preserveWhiteSpace:M,onSerialize:g,onIframeLoad:b,iframeLoadTimeout:w,onStylesheetLoad:E,stylesheetLoadTimeout:_,keepIframeSrcFn:C,privacySetting:T});P&&b(t,P)}},w),I.type===Mt.Element&&I.tagName==="link"&&typeof I.attributes.rel=="string"&&(I.attributes.rel==="stylesheet"||I.attributes.rel==="preload"&&typeof I.attributes.href=="string"&&ZU(I.attributes.href)==="css")&&_6(t,()=>{if(E){const V=ju(t,{doc:n,mirror:r,blockClass:i,blockSelector:a,needsMask:A,maskTextClass:s,maskTextSelector:o,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:p,dataURLOptions:v,inlineImages:m,inlineVideos:S,recordCanvas:y,preserveWhiteSpace:M,onSerialize:g,onIframeLoad:b,iframeLoadTimeout:w,onStylesheetLoad:E,stylesheetLoadTimeout:_,keepIframeSrcFn:C,privacySetting:T});V&&E(t,V)}},_),I}function O6(t,e){const{mirror:n=new LU,blockClass:r="highlight-block",blockSelector:i=null,maskTextClass:a="highlight-mask",maskTextSelector:s=null,inlineStylesheet:o=!0,inlineImages:l=!1,inlineVideos:u=!1,recordCanvas:c=!1,maskAllInputs:d=!1,maskTextFn:f,maskInputFn:p,slimDOM:v=!1,dataURLOptions:m,preserveWhiteSpace:S,onSerialize:y,onIframeLoad:g,iframeLoadTimeout:b,onStylesheetLoad:w,stylesheetLoadTimeout:E,keepIframeSrcFn:_=()=>!1,privacySetting:C="default"}=e||{};return ju(t,{doc:t,mirror:n,blockClass:r,blockSelector:i,maskTextClass:a,maskTextSelector:s,skipChild:!1,inlineStylesheet:o,maskInputOptions:d===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:d===!1?{password:!0}:d,maskTextFn:f,maskInputFn:p,slimDOMOptions:v||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:v==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:v||{},dataURLOptions:m,inlineImages:l,inlineVideos:u,recordCanvas:c,preserveWhiteSpace:S,onSerialize:y,onIframeLoad:g,iframeLoadTimeout:b,onStylesheetLoad:w,stylesheetLoadTimeout:E,keepIframeSrcFn:_,newlyAddedElement:!1,privacySetting:C})}function I6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var QC={exports:{}},me=String,WU=function(){return{isColorSupported:!1,reset:me,bold:me,dim:me,italic:me,underline:me,inverse:me,hidden:me,strikethrough:me,black:me,red:me,green:me,yellow:me,blue:me,magenta:me,cyan:me,white:me,gray:me,bgBlack:me,bgRed:me,bgGreen:me,bgYellow:me,bgBlue:me,bgMagenta:me,bgCyan:me,bgWhite:me,blackBright:me,redBright:me,greenBright:me,yellowBright:me,blueBright:me,magentaBright:me,cyanBright:me,whiteBright:me,bgBlackBright:me,bgRedBright:me,bgGreenBright:me,bgYellowBright:me,bgBlueBright:me,bgMagentaBright:me,bgCyanBright:me,bgWhiteBright:me}};QC.exports=WU();QC.exports.createColors=WU;var L6=QC.exports;const Z6={},V6=Object.freeze(Object.defineProperty({__proto__:null,default:Z6},Symbol.toStringTag,{value:"Module"})),vi=I6(V6);let ZO=L6,VO=vi,vx=class PU extends Error{constructor(e,n,r,i,a,s){super(e),this.name="CssSyntaxError",this.reason=e,a&&(this.file=a),i&&(this.source=i),s&&(this.plugin=s),typeof n<"u"&&typeof r<"u"&&(typeof n=="number"?(this.line=n,this.column=r):(this.line=n.line,this.column=n.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,PU)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let n=this.source;e==null&&(e=ZO.isColorSupported);let r=c=>c,i=c=>c,a=c=>c;if(e){let{bold:c,gray:d,red:f}=ZO.createColors(!0);i=p=>c(f(p)),r=p=>d(p),VO&&(a=p=>VO(p))}let s=n.split(/\r?\n/),o=Math.max(this.line-3,0),l=Math.min(this.line+2,s.length),u=String(l).length;return s.slice(o,l).map((c,d)=>{let f=o+1+d,p=" "+(" "+f).slice(-u)+" | ";if(f===this.line){if(c.length>160){let m=20,S=Math.max(0,this.column-m),y=Math.max(this.column+m,this.endColumn+m),g=c.slice(S,y),b=r(p.replace(/\d/g," "))+c.slice(0,Math.min(this.column-1,m-1)).replace(/[^\t]/g," ");return i(">")+r(p)+a(g)+`
 `+b+i("^")}let v=r(p.replace(/\d/g," "))+c.slice(0,this.column-1).replace(/[^\t]/g," ");return i(">")+r(p)+a(c)+`
 `+v+i("^")}return" "+r(p)+a(c)}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var qC=vx;vx.default=vx;const GO={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function G6(t){return t[0].toUpperCase()+t.slice(1)}let bx=class{constructor(e){this.builder=e}atrule(e,n){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let a=(e.raws.between||"")+(n?";":"");this.builder(r+i+a,e)}}beforeAfter(e,n){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):n==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let i=e.parent,a=0;for(;i&&i.type!=="root";)a+=1,i=i.parent;if(r.includes(`
`)){let s=this.raw(e,null,"indent");if(s.length)for(let o=0;o<a;o++)r+=s}return r}block(e,n){let r=this.raw(e,"between","beforeOpen");this.builder(n+r+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let n=e.nodes.length-1;for(;n>0&&e.nodes[n].type==="comment";)n-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let a=e.nodes[i],s=this.raw(a,"before");s&&this.builder(s),this.stringify(a,n!==i||r)}}comment(e){let n=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+n+e.text+r+"*/",e)}decl(e,n){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),n&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,n,r){let i;if(r||(r=n),n&&(i=e.raws[n],typeof i<"u"))return i;let a=e.parent;if(r==="before"&&(!a||a.type==="root"&&a.first===e||a&&a.type==="document"))return"";if(!a)return GO[r];let s=e.root();if(s.rawCache||(s.rawCache={}),typeof s.rawCache[r]<"u")return s.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let o="raw"+G6(r);this[o]?i=this[o](s,e):s.walk(l=>{if(i=l.raws[n],typeof i<"u")return!1})}return typeof i>"u"&&(i=GO[r]),s.rawCache[r]=i,i}rawBeforeClose(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return n=r.raws.after,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n}rawBeforeComment(e,n){let r;return e.walkComments(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(n,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,n){let r;return e.walkDecls(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(n,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let n;return e.walk(r=>{if(r.type!=="decl"&&(n=r.raws.between,typeof n<"u"))return!1}),n}rawBeforeRule(e){let n;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return n=r.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n}rawColon(e){let n;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return n=r.raws.between.replace(/[^\s:]/g,""),!1}),n}rawEmptyBody(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(n=r.raws.after,typeof n<"u"))return!1}),n}rawIndent(e){if(e.raws.indent)return e.raws.indent;let n;return e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof r.raws.before<"u"){let a=r.raws.before.split(`
`);return n=a[a.length-1],n=n.replace(/\S/g,""),!1}}),n}rawSemicolon(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(n=r.raws.semicolon,typeof n<"u"))return!1}),n}rawValue(e,n){let r=e[n],i=e.raws[n];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,n){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,n)}};var zU=bx;bx.default=bx;let A6=zU;function wx(t,e){new A6(e).stringify(t)}var Jv=wx;wx.default=wx;var Vp={};Vp.isClean=Symbol("isClean");Vp.my=Symbol("my");let M6=qC,X6=zU,U6=Jv,{isClean:Md,my:W6}=Vp;function Sx(t,e){let n=new t.constructor;for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r)||r==="proxyCache")continue;let i=t[r],a=typeof i;r==="parent"&&a==="object"?e&&(n[r]=e):r==="source"?n[r]=i:Array.isArray(i)?n[r]=i.map(s=>Sx(s,n)):(a==="object"&&i!==null&&(i=Sx(i)),n[r]=i)}return n}function Ki(t,e){if(e&&typeof e.offset<"u")return e.offset;let n=1,r=1,i=0;for(let a=0;a<t.length;a++){if(r===e.line&&n===e.column){i=a;break}t[a]===`
`?(n=1,r+=1):n+=1}return i}let Ex=class{get proxyOf(){return this}constructor(e={}){this.raws={},this[Md]=!1,this[W6]=!0;for(let n in e)if(n==="nodes"){this.nodes=[];for(let r of e[n])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[n]=e[n]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let n=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${n.input.from}:${n.start.line}:${n.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let n in e)this[n]=e[n];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let n=Sx(this);for(let r in e)n[r]=e[r];return n}cloneAfter(e={}){let n=this.clone(e);return this.parent.insertAfter(this,n),n}cloneBefore(e={}){let n=this.clone(e);return this.parent.insertBefore(this,n),n}error(e,n={}){if(this.source){let{end:r,start:i}=this.rangeBy(n);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},n)}return new M6(e)}getProxyProcessor(){return{get(e,n){return n==="proxyOf"?e:n==="root"?()=>e.root().toProxy():e[n]},set(e,n,r){return e[n]===r||(e[n]=r,(n==="prop"||n==="value"||n==="name"||n==="params"||n==="important"||n==="text")&&e.markDirty()),!0}}}markClean(){this[Md]=!0}markDirty(){if(this[Md]){this[Md]=!1;let e=this;for(;e=e.parent;)e[Md]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e={}){let n=this.source.start;if(e.index)n=this.positionInside(e.index);else if(e.word){let r="document"in this.source.input?this.source.input.document:this.source.input.css,i=r.slice(Ki(r,this.source.start),Ki(r,this.source.end)).indexOf(e.word);i!==-1&&(n=this.positionInside(i))}return n}positionInside(e){let n=this.source.start.column,r=this.source.start.line,i="document"in this.source.input?this.source.input.document:this.source.input.css,a=Ki(i,this.source.start),s=a+e;for(let o=a;o<s;o++)i[o]===`
`?(n=1,r+=1):n+=1;return{column:n,line:r,offset:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e={}){let n="document"in this.source.input?this.source.input.document:this.source.input.css,r={column:this.source.start.column,line:this.source.start.line,offset:Ki(n,this.source.start)},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line,offset:typeof this.source.end.offset=="number"?this.source.end.offset:Ki(n,this.source.end)+1}:{column:r.column+1,line:r.line,offset:r.offset+1};if(e.word){let a=n.slice(Ki(n,this.source.start),Ki(n,this.source.end)).indexOf(e.word);a!==-1&&(r=this.positionInside(a),i=this.positionInside(a+e.word.length))}else e.start?r={column:e.start.column,line:e.start.line,offset:Ki(n,e.start)}:e.index&&(r=this.positionInside(e.index)),e.end?i={column:e.end.column,line:e.end.line,offset:Ki(n,e.end)}:typeof e.endIndex=="number"?i=this.positionInside(e.endIndex):e.index&&(i=this.positionInside(e.index+1));return(i.line<r.line||i.line===r.line&&i.column<=r.column)&&(i={column:r.column+1,line:r.line,offset:r.offset+1}),{end:i,start:r}}raw(e,n){return new X6().raw(this,e,n)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let n=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(n,i),n=i):this.parent.insertBefore(n,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,n){let r={},i=n==null;n=n||new Map;let a=0;for(let s in this){if(!Object.prototype.hasOwnProperty.call(this,s)||s==="parent"||s==="proxyCache")continue;let o=this[s];if(Array.isArray(o))r[s]=o.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,n):l);else if(typeof o=="object"&&o.toJSON)r[s]=o.toJSON(null,n);else if(s==="source"){if(o==null)continue;let l=n.get(o.input);l==null&&(l=a,n.set(o.input,a),a++),r[s]={end:o.end,inputId:l,start:o.start}}else r[s]=o}return i&&(r.inputs=[...n.keys()].map(s=>s.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=U6){e.stringify&&(e=e.stringify);let n="";return e(this,r=>{n+=r}),n}warn(e,n,r={}){let i={node:this};for(let a in r)i[a]=r[a];return e.warn(n,i)}};var $v=Ex;Ex.default=Ex;let P6=$v,xx=class extends P6{constructor(e){super(e),this.type="comment"}};var Kv=xx;xx.default=xx;let z6=$v,_x=class extends z6{get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e=mi(Oe({},e),{value:String(e.value)})),super(e),this.type="decl"}};var Qv=_x;_x.default=_x;let DU=Kv,jU=Qv,D6=$v,{isClean:BU,my:FU}=Vp,ek,HU,YU,tk;function JU(t){return t.map(e=>(e.nodes&&(e.nodes=JU(e.nodes)),delete e.source,e))}function $U(t){if(t[BU]=!1,t.proxyOf.nodes)for(let e of t.proxyOf.nodes)$U(e)}let Ma=class KU extends D6{get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}append(...e){for(let n of e){let r=this.normalize(n,this.last);for(let i of r)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let n of this.nodes)n.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let n=this.getIterator(),r,i;for(;this.indexes[n]<this.proxyOf.nodes.length&&(r=this.indexes[n],i=e(this.proxyOf.nodes[r],r),i!==!1);)this.indexes[n]+=1;return delete this.indexes[n],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,n){return n==="proxyOf"?e:e[n]?n==="each"||typeof n=="string"&&n.startsWith("walk")?(...r)=>e[n](...r.map(i=>typeof i=="function"?(a,s)=>i(a.toProxy(),s):i)):n==="every"||n==="some"?r=>e[n]((i,...a)=>r(i.toProxy(),...a)):n==="root"?()=>e.root().toProxy():n==="nodes"?e.nodes.map(r=>r.toProxy()):n==="first"||n==="last"?e[n].toProxy():e[n]:e[n]},set(e,n,r){return e[n]===r||(e[n]=r,(n==="name"||n==="params"||n==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,n){let r=this.index(e),i=this.normalize(n,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let s of i)this.proxyOf.nodes.splice(r+1,0,s);let a;for(let s in this.indexes)a=this.indexes[s],r<a&&(this.indexes[s]=a+i.length);return this.markDirty(),this}insertBefore(e,n){let r=this.index(e),i=r===0?"prepend":!1,a=this.normalize(n,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let o of a)this.proxyOf.nodes.splice(r,0,o);let s;for(let o in this.indexes)s=this.indexes[o],r<=s&&(this.indexes[o]=s+a.length);return this.markDirty(),this}normalize(e,n){if(typeof e=="string")e=JU(HU(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new jU(e)]}else if(e.selector||e.selectors)e=[new tk(e)];else if(e.name)e=[new ek(e)];else if(e.text)e=[new DU(e)];else throw new Error("Unknown node type in node creation");return e.map(r=>(r[FU]||KU.rebuild(r),r=r.proxyOf,r.parent&&r.parent.removeChild(r),r[BU]&&$U(r),r.raws||(r.raws={}),typeof r.raws.before>"u"&&n&&typeof n.raws.before<"u"&&(r.raws.before=n.raws.before.replace(/\S/g,"")),r.parent=this.proxyOf,r))}prepend(...e){e=e.reverse();for(let n of e){let r=this.normalize(n,this.first,"prepend").reverse();for(let i of r)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let n;for(let r in this.indexes)n=this.indexes[r],n>=e&&(this.indexes[r]=n-1);return this.markDirty(),this}replaceValues(e,n,r){return r||(r=n,n={}),this.walkDecls(i=>{n.props&&!n.props.includes(i.prop)||n.fast&&!i.value.includes(n.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((n,r)=>{let i;try{i=e(n,r)}catch(a){throw n.addToError(a)}return i!==!1&&n.walk&&(i=n.walk(e)),i})}walkAtRules(e,n){return n?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="atrule"&&e.test(r.name))return n(r,i)}):this.walk((r,i)=>{if(r.type==="atrule"&&r.name===e)return n(r,i)}):(n=e,this.walk((r,i)=>{if(r.type==="atrule")return n(r,i)}))}walkComments(e){return this.walk((n,r)=>{if(n.type==="comment")return e(n,r)})}walkDecls(e,n){return n?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="decl"&&e.test(r.prop))return n(r,i)}):this.walk((r,i)=>{if(r.type==="decl"&&r.prop===e)return n(r,i)}):(n=e,this.walk((r,i)=>{if(r.type==="decl")return n(r,i)}))}walkRules(e,n){return n?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="rule"&&e.test(r.selector))return n(r,i)}):this.walk((r,i)=>{if(r.type==="rule"&&r.selector===e)return n(r,i)}):(n=e,this.walk((r,i)=>{if(r.type==="rule")return n(r,i)}))}};Ma.registerParse=t=>{HU=t};Ma.registerRule=t=>{tk=t};Ma.registerAtRule=t=>{ek=t};Ma.registerRoot=t=>{YU=t};var Xl=Ma;Ma.default=Ma;Ma.rebuild=t=>{t.type==="atrule"?Object.setPrototypeOf(t,ek.prototype):t.type==="rule"?Object.setPrototypeOf(t,tk.prototype):t.type==="decl"?Object.setPrototypeOf(t,jU.prototype):t.type==="comment"?Object.setPrototypeOf(t,DU.prototype):t.type==="root"&&Object.setPrototypeOf(t,YU.prototype),t[FU]=!0,t.nodes&&t.nodes.forEach(e=>{Ma.rebuild(e)})};let QU=Xl,Ly=class extends QU{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var nk=Ly;Ly.default=Ly;QU.registerAtRule(Ly);let j6=Xl,qU,e3,Mf=class extends j6{constructor(e){super(Oe({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(e={}){return new qU(new e3,this,e).stringify()}};Mf.registerLazyResult=t=>{qU=t};Mf.registerProcessor=t=>{e3=t};var rk=Mf;Mf.default=Mf;let B6="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",F6=(t=21)=>{let e="",n=t|0;for(;n--;)e+=B6[Math.random()*64|0];return e};var H6={nanoid:F6};let{existsSync:Y6,readFileSync:J6}=vi,{dirname:U1,join:$6}=vi,{SourceMapConsumer:AO,SourceMapGenerator:MO}=vi;function K6(t){return Buffer?Buffer.from(t,"base64").toString():window.atob(t)}let Cx=class{constructor(e,n){if(n.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=n.map?n.map.prev:void 0,i=this.loadMap(n.from,r);!this.mapFile&&n.from&&(this.mapFile=n.from),this.mapFile&&(this.root=U1(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new AO(this.text)),this.consumerCache}decodeInline(e){let n=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,a=/^data:application\/json,/,s=e.match(i)||e.match(a);if(s)return decodeURIComponent(e.substr(s[0].length));let o=e.match(n)||e.match(r);if(o)return K6(e.substr(o[0].length));let l=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+l)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let n=e.match(/\/\*\s*# sourceMappingURL=/g);if(!n)return;let r=e.lastIndexOf(n.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=U1(e),Y6(e))return this.mapFile=e,J6(e,"utf-8").toString().trim()}loadMap(e,n){if(n===!1)return!1;if(n){if(typeof n=="string")return n;if(typeof n=="function"){let r=n(e);if(r){let i=this.loadFile(r);if(!i)throw new Error("Unable to load previous source map: "+r.toString());return i}}else{if(n instanceof AO)return MO.fromSourceMap(n).toString();if(n instanceof MO)return n.toString();if(this.isMap(n))return JSON.stringify(n);throw new Error("Unsupported previous source map format: "+n.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=$6(U1(e),r)),this.loadFile(r)}}}startWith(e,n){return e?e.substr(0,n.length)===n:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var t3=Cx;Cx.default=Cx;let{nanoid:Q6}=H6,{isAbsolute:kx,resolve:Tx}=vi,{SourceMapConsumer:q6,SourceMapGenerator:eQ}=vi,{fileURLToPath:XO,pathToFileURL:Zm}=vi,UO=qC,tQ=t3,W1=vi,P1=Symbol("lineToIndexCache"),nQ=!!(q6&&eQ),WO=!!(Tx&&kx);function PO(t){if(t[P1])return t[P1];let e=t.css.split(`
`),n=new Array(e.length),r=0;for(let i=0,a=e.length;i<a;i++)n[i]=r,r+=e[i].length+1;return t[P1]=n,n}let Zy=class{get from(){return this.file||this.id}constructor(e,n={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,n.document&&(this.document=n.document.toString()),n.from&&(!WO||/^\w+:\/\//.test(n.from)||kx(n.from)?this.file=n.from:this.file=Tx(n.from)),WO&&nQ){let r=new tQ(this.css,n);if(r.text){this.map=r;let i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+Q6(6)+">"),this.map&&(this.map.file=this.from)}error(e,n,r,i={}){let a,s,o,l,u;if(n&&typeof n=="object"){let d=n,f=r;if(typeof d.offset=="number"){l=d.offset;let p=this.fromOffset(l);n=p.line,r=p.col}else n=d.line,r=d.column,l=this.fromLineAndColumn(n,r);if(typeof f.offset=="number"){o=f.offset;let p=this.fromOffset(o);s=p.line,a=p.col}else s=f.line,a=f.column,o=this.fromLineAndColumn(f.line,f.column)}else if(r)l=this.fromLineAndColumn(n,r);else{l=n;let d=this.fromOffset(l);n=d.line,r=d.col}let c=this.origin(n,r,s,a);return c?u=new UO(e,c.endLine===void 0?c.line:{column:c.column,line:c.line},c.endLine===void 0?c.column:{column:c.endColumn,line:c.endLine},c.source,c.file,i.plugin):u=new UO(e,s===void 0?n:{column:r,line:n},s===void 0?r:{column:a,line:s},this.css,this.file,i.plugin),u.input={column:r,endColumn:a,endLine:s,endOffset:o,line:n,offset:l,source:this.css},this.file&&(Zm&&(u.input.url=Zm(this.file).toString()),u.input.file=this.file),u}fromLineAndColumn(e,n){return PO(this)[e-1]+n-1}fromOffset(e){let n=PO(this),r=n[n.length-1],i=0;if(e>=r)i=n.length-1;else{let a=n.length-2,s;for(;i<a;)if(s=i+(a-i>>1),e<n[s])a=s-1;else if(e>=n[s+1])i=s+1;else{i=s;break}}return{col:e-n[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Tx(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,n,r,i){if(!this.map)return!1;let a=this.map.consumer(),s=a.originalPositionFor({column:n,line:e});if(!s.source)return!1;let o;typeof r=="number"&&(o=a.originalPositionFor({column:i,line:r}));let l;kx(s.source)?l=Zm(s.source):l=new URL(s.source,this.map.consumer().sourceRoot||Zm(this.map.mapFile));let u={column:s.column,endColumn:o&&o.column,endLine:o&&o.line,line:s.line,url:l.toString()};if(l.protocol==="file:")if(XO)u.file=XO(l);else throw new Error("file: protocol is not available in this PostCSS build");let c=a.sourceContentFor(s.source);return c&&(u.source=c),u}toJSON(){let e={};for(let n of["hasBOM","css","file","id"])this[n]!=null&&(e[n]=this[n]);return this.map&&(e.map=Oe({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}};var qv=Zy;Zy.default=Zy;W1&&W1.registerInput&&W1.registerInput(Zy);let n3=Xl,r3,i3,Dc=class extends n3{constructor(t){super(t),this.type="root",this.nodes||(this.nodes=[])}normalize(t,e,n){let r=super.normalize(t);if(e){if(n==="prepend")this.nodes.length>1?e.raws.before=this.nodes[1].raws.before:delete e.raws.before;else if(this.first!==e)for(let i of r)i.raws.before=e.raws.before}return r}removeChild(t,e){let n=this.index(t);return!e&&n===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(t)}toResult(t={}){return new r3(new i3,this,t).stringify()}};Dc.registerLazyResult=t=>{r3=t};Dc.registerProcessor=t=>{i3=t};var Gp=Dc;Dc.default=Dc;n3.registerRoot(Dc);let Xf={comma(t){return Xf.split(t,[","],!0)},space(t){let e=[" ",`
`,"	"];return Xf.split(t,e)},split(t,e,n){let r=[],i="",a=!1,s=0,o=!1,l="",u=!1;for(let c of t)u?u=!1:c==="\\"?u=!0:o?c===l&&(o=!1):c==='"'||c==="'"?(o=!0,l=c):c==="("?s+=1:c===")"?s>0&&(s-=1):s===0&&e.includes(c)&&(a=!0),a?(i!==""&&r.push(i.trim()),i="",a=!1):i+=c;return(n||i!=="")&&r.push(i.trim()),r}};var a3=Xf;Xf.default=Xf;let s3=Xl,rQ=a3,Vy=class extends s3{get selectors(){return rQ.comma(this.selector)}set selectors(e){let n=this.selector?this.selector.match(/,\s*/):null,r=n?n[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}};var ik=Vy;Vy.default=Vy;s3.registerRule(Vy);let iQ=nk,aQ=Kv,sQ=Qv,oQ=qv,lQ=t3,uQ=Gp,cQ=ik;function Uf(t,e){if(Array.isArray(t))return t.map(a=>Uf(a));let n=t,{inputs:r}=n,i=Gf(n,["inputs"]);if(r){e=[];for(let a of r){let s=mi(Oe({},a),{__proto__:oQ.prototype});s.map&&(s.map=mi(Oe({},s.map),{__proto__:lQ.prototype})),e.push(s)}}if(i.nodes&&(i.nodes=t.nodes.map(a=>Uf(a,e))),i.source){let a=i.source,{inputId:s}=a,o=Gf(a,["inputId"]);i.source=o,s!=null&&(i.source.input=e[s])}if(i.type==="root")return new uQ(i);if(i.type==="decl")return new sQ(i);if(i.type==="rule")return new cQ(i);if(i.type==="comment")return new aQ(i);if(i.type==="atrule")return new iQ(i);throw new Error("Unknown node type: "+t.type)}var dQ=Uf;Uf.default=Uf;let{dirname:r0,relative:o3,resolve:l3,sep:u3}=vi,{SourceMapConsumer:c3,SourceMapGenerator:i0}=vi,{pathToFileURL:zO}=vi,hQ=qv,fQ=!!(c3&&i0),pQ=!!(r0&&l3&&o3&&u3),mQ=class{constructor(e,n,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=n,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let n=`
`;this.css.includes(`\r
`)&&(n=`\r
`),this.css+=n+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let n=this.toUrl(this.path(e.file)),r=e.root||r0(e.file),i;this.mapOpts.sourcesContent===!1?(i=new c3(e.text),i.sourcesContent&&(i.sourcesContent=null)):i=e.consumer(),this.map.applySourceMap(i,n,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let n=this.root.nodes.length-1;n>=0;n--)e=this.root.nodes[n],e.type==="comment"&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(n)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),pQ&&fQ&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,n=>{e+=n}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=i0.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new i0({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new i0({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,n=1,r="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},a,s;this.stringify(this.root,(o,l,u)=>{if(this.css+=o,l&&u!=="end"&&(i.generated.line=e,i.generated.column=n-1,l.source&&l.source.start?(i.source=this.sourcePath(l),i.original.line=l.source.start.line,i.original.column=l.source.start.column-1,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,this.map.addMapping(i))),s=o.match(/\n/g),s?(e+=s.length,a=o.lastIndexOf(`
`),n=o.length-a):n+=o.length,l&&u!=="start"){let c=l.parent||{raws:{}};(!(l.type==="decl"||l.type==="atrule"&&!l.nodes)||l!==c.last||c.raws.semicolon)&&(l.source&&l.source.end?(i.source=this.sourcePath(l),i.original.line=l.source.end.line,i.original.column=l.source.end.column-1,i.generated.line=e,i.generated.column=n-2,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=n-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(n=>n.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let n=this.memoizedPaths.get(e);if(n)return n;let r=this.opts.to?r0(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=r0(l3(r,this.mapOpts.annotation)));let i=o3(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let n=e.source.input.map;this.previousMaps.includes(n)||this.previousMaps.push(n)}});else{let e=new hQ(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(n=>{if(n.source){let r=n.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,n.source.input.css)}}});else if(this.css){let n=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(n,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let n=this.memoizedFileURLs.get(e);if(n)return n;if(zO){let r=zO(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let n=this.memoizedURLs.get(e);if(n)return n;u3==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};var d3=mQ;const z1=39,DO=34,Vm=92,jO=47,Gm=10,Xd=32,Am=12,Mm=9,Xm=13,gQ=91,yQ=93,vQ=40,bQ=41,wQ=123,SQ=125,EQ=59,xQ=42,_Q=58,CQ=64,Um=/[\t\n\f\r "#'()/;[\\\]{}]/g,Wm=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,kQ=/.[\r\n"'(/\\]/,BO=/[\da-f]/i;var TQ=function(t,e={}){let n=t.css.valueOf(),r=e.ignoreErrors,i,a,s,o,l,u,c,d,f,p,v=n.length,m=0,S=[],y=[];function g(){return m}function b(C){throw t.error("Unclosed "+C,m)}function w(){return y.length===0&&m>=v}function E(C){if(y.length)return y.pop();if(m>=v)return;let k=C?C.ignoreUnclosed:!1;switch(i=n.charCodeAt(m),i){case Gm:case Xd:case Mm:case Xm:case Am:{o=m;do o+=1,i=n.charCodeAt(o);while(i===Xd||i===Gm||i===Mm||i===Xm||i===Am);u=["space",n.slice(m,o)],m=o-1;break}case gQ:case yQ:case wQ:case SQ:case _Q:case EQ:case bQ:{let x=String.fromCharCode(i);u=[x,x,m];break}case vQ:{if(p=S.length?S.pop()[1]:"",f=n.charCodeAt(m+1),p==="url"&&f!==z1&&f!==DO&&f!==Xd&&f!==Gm&&f!==Mm&&f!==Am&&f!==Xm){o=m;do{if(c=!1,o=n.indexOf(")",o+1),o===-1)if(r||k){o=m;break}else b("bracket");for(d=o;n.charCodeAt(d-1)===Vm;)d-=1,c=!c}while(c);u=["brackets",n.slice(m,o+1),m,o],m=o}else o=n.indexOf(")",m+1),a=n.slice(m,o+1),o===-1||kQ.test(a)?u=["(","(",m]:(u=["brackets",a,m,o],m=o);break}case z1:case DO:{l=i===z1?"'":'"',o=m;do{if(c=!1,o=n.indexOf(l,o+1),o===-1)if(r||k){o=m+1;break}else b("string");for(d=o;n.charCodeAt(d-1)===Vm;)d-=1,c=!c}while(c);u=["string",n.slice(m,o+1),m,o],m=o;break}case CQ:{Um.lastIndex=m+1,Um.test(n),Um.lastIndex===0?o=n.length-1:o=Um.lastIndex-2,u=["at-word",n.slice(m,o+1),m,o],m=o;break}case Vm:{for(o=m,s=!0;n.charCodeAt(o+1)===Vm;)o+=1,s=!s;if(i=n.charCodeAt(o+1),s&&i!==jO&&i!==Xd&&i!==Gm&&i!==Mm&&i!==Xm&&i!==Am&&(o+=1,BO.test(n.charAt(o)))){for(;BO.test(n.charAt(o+1));)o+=1;n.charCodeAt(o+1)===Xd&&(o+=1)}u=["word",n.slice(m,o+1),m,o],m=o;break}default:{i===jO&&n.charCodeAt(m+1)===xQ?(o=n.indexOf("*/",m+2)+1,o===0&&(r||k?o=n.length:b("comment")),u=["comment",n.slice(m,o+1),m,o],m=o):(Wm.lastIndex=m+1,Wm.test(n),Wm.lastIndex===0?o=n.length-1:o=Wm.lastIndex-2,u=["word",n.slice(m,o+1),m,o],S.push(u),m=o);break}}return m++,u}function _(C){y.push(C)}return{back:_,endOfFile:w,nextToken:E,position:g}};let RQ=nk,NQ=Kv,OQ=Qv,IQ=Gp,FO=ik,LQ=TQ;const HO={empty:!0,space:!0};function ZQ(t){for(let e=t.length-1;e>=0;e--){let n=t[e],r=n[3]||n[2];if(r)return r}}let VQ=class{constructor(e){this.input=e,this.root=new IQ,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let n=new RQ;n.name=e[1].slice(1),n.name===""&&this.unnamedAtrule(n,e),this.init(n,e[2]);let r,i,a,s=!1,o=!1,l=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?u.push(r==="("?")":"]"):r==="{"&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),u.length===0)if(r===";"){n.source.end=this.getPosition(e[2]),n.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){o=!0;break}else if(r==="}"){if(l.length>0){for(a=l.length-1,i=l[a];i&&i[0]==="space";)i=l[--a];i&&(n.source.end=this.getPosition(i[3]||i[2]),n.source.end.offset++)}this.end(e);break}else l.push(e);else l.push(e);if(this.tokenizer.endOfFile()){s=!0;break}}n.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(n.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(n,"params",l),s&&(e=l[l.length-1],n.source.end=this.getPosition(e[3]||e[2]),n.source.end.offset++,this.spaces=n.raws.between,n.raws.between="")):(n.raws.afterName="",n.params=""),o&&(n.nodes=[],this.current=n)}checkMissedSemicolon(e){let n=this.colon(e);if(n===!1)return;let r=0,i;for(let a=n-1;a>=0&&(i=e[a],!(i[0]!=="space"&&(r+=1,r===2)));a--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let n=0,r,i,a;for(let[s,o]of e.entries()){if(i=o,a=i[0],a==="("&&(n+=1),a===")"&&(n-=1),n===0&&a===":")if(!r)this.doubleColon(i);else{if(r[0]==="word"&&r[1]==="progid")continue;return s}r=i}return!1}comment(e){let n=new NQ;this.init(n,e[2]),n.source.end=this.getPosition(e[3]||e[2]),n.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))n.text="",n.raws.left=r,n.raws.right="";else{let i=r.match(/^(\s*)([^]*\S)(\s*)$/);n.text=i[2],n.raws.left=i[1],n.raws.right=i[3]}}createTokenizer(){this.tokenizer=LQ(this.input)}decl(e,n){let r=new OQ;this.init(r,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||ZQ(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let l=e[0][0];if(l===":"||l==="space"||l==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let a;for(;e.length;)if(a=e.shift(),a[0]===":"){r.raws.between+=a[1];break}else a[0]==="word"&&/\w/.test(a[1])&&this.unknownWord([a]),r.raws.between+=a[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let s=[],o;for(;e.length&&(o=e[0][0],!(o!=="space"&&o!=="comment"));)s.push(e.shift());this.precheckMissedSemicolon(e);for(let l=e.length-1;l>=0;l--){if(a=e[l],a[1].toLowerCase()==="!important"){r.important=!0;let u=this.stringFrom(e,l);u=this.spacesFromEnd(e)+u,u!==" !important"&&(r.raws.important=u);break}else if(a[1].toLowerCase()==="important"){let u=e.slice(0),c="";for(let d=l;d>0;d--){let f=u[d][0];if(c.trim().startsWith("!")&&f!=="space")break;c=u.pop()[1]+c}c.trim().startsWith("!")&&(r.important=!0,r.raws.important=c,e=u)}if(a[0]!=="space"&&a[0]!=="comment")break}e.some(l=>l[0]!=="space"&&l[0]!=="comment")&&(r.raws.between+=s.map(l=>l[1]).join(""),s=[]),this.raw(r,"value",s.concat(e),n),r.value.includes(":")&&!n&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let n=new FO;this.init(n,e[2]),n.selector="",n.raws.between="",this.current=n}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let n=this.current.nodes[this.current.nodes.length-1];n&&n.type==="rule"&&!n.raws.ownSemicolon&&(n.raws.ownSemicolon=this.spaces,this.spaces="",n.source.end=this.getPosition(e[2]),n.source.end.offset+=n.raws.ownSemicolon.length)}}getPosition(e){let n=this.input.fromOffset(e);return{column:n.col,line:n.line,offset:e}}init(e,n){this.current.push(e),e.source={input:this.input,start:this.getPosition(n)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let n=!1,r=null,i=!1,a=null,s=[],o=e[1].startsWith("--"),l=[],u=e;for(;u;){if(r=u[0],l.push(u),r==="("||r==="[")a||(a=u),s.push(r==="("?")":"]");else if(o&&i&&r==="{")a||(a=u),s.push("}");else if(s.length===0)if(r===";")if(i){this.decl(l,o);return}else break;else if(r==="{"){this.rule(l);return}else if(r==="}"){this.tokenizer.back(l.pop()),n=!0;break}else r===":"&&(i=!0);else r===s[s.length-1]&&(s.pop(),s.length===0&&(a=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(n=!0),s.length>0&&this.unclosedBracket(a),n&&i){if(!o)for(;l.length&&(u=l[l.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,o)}else this.unknownWord(l)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,n,r,i){let a,s,o=r.length,l="",u=!0,c,d;for(let f=0;f<o;f+=1)a=r[f],s=a[0],s==="space"&&f===o-1&&!i?u=!1:s==="comment"?(d=r[f-1]?r[f-1][0]:"empty",c=r[f+1]?r[f+1][0]:"empty",!HO[d]&&!HO[c]?l.slice(-1)===","?u=!1:l+=a[1]:u=!1):l+=a[1];if(!u){let f=r.reduce((p,v)=>p+v[1],"");e.raws[n]={raw:f,value:l}}e[n]=l}rule(e){e.pop();let n=new FO;this.init(n,e[0][2]),n.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(n,"selector",e),this.current=n}spacesAndCommentsFromEnd(e){let n,r="";for(;e.length&&(n=e[e.length-1][0],!(n!=="space"&&n!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let n,r="";for(;e.length&&(n=e[0][0],!(n!=="space"&&n!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let n,r="";for(;e.length&&(n=e[e.length-1][0],n==="space");)r=e.pop()[1]+r;return r}stringFrom(e,n){let r="";for(let i=n;i<e.length;i++)r+=e[i][1];return e.splice(n,e.length-n),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word "+e[0][1],{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,n){throw this.input.error("At-rule without name",{offset:n[2]},{offset:n[2]+n[1].length})}};var GQ=VQ;let AQ=Xl,MQ=qv,XQ=GQ;function Gy(t,e){let n=new MQ(t,e),r=new XQ(n);try{r.parse()}catch(i){throw i}return r.root}var ak=Gy;Gy.default=Gy;AQ.registerParse(Gy);let Rx=class{constructor(e,n={}){if(this.type="warning",this.text=e,n.node&&n.node.source){let r=n.node.rangeBy(n);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in n)this[r]=n[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var h3=Rx;Rx.default=Rx;let UQ=h3,Nx=class{get content(){return this.css}constructor(t,e,n){this.processor=t,this.messages=[],this.root=e,this.opts=n,this.css="",this.map=void 0}toString(){return this.css}warn(t,e={}){e.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(e.plugin=this.lastPlugin.postcssPlugin);let n=new UQ(t,e);return this.messages.push(n),n}warnings(){return this.messages.filter(t=>t.type==="warning")}};var sk=Nx;Nx.default=Nx;let WQ=Xl,PQ=rk,zQ=d3,DQ=ak,YO=sk,jQ=Gp,BQ=Jv,{isClean:_i,my:FQ}=Vp;const HQ={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},YQ={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},JQ={Once:!0,postcssPlugin:!0,prepare:!0},jc=0;function Ud(t){return typeof t=="object"&&typeof t.then=="function"}function f3(t){let e=!1,n=HQ[t.type];return t.type==="decl"?e=t.prop.toLowerCase():t.type==="atrule"&&(e=t.name.toLowerCase()),e&&t.append?[n,n+"-"+e,jc,n+"Exit",n+"Exit-"+e]:e?[n,n+"-"+e,n+"Exit",n+"Exit-"+e]:t.append?[n,jc,n+"Exit"]:[n,n+"Exit"]}function JO(t){let e;return t.type==="document"?e=["Document",jc,"DocumentExit"]:t.type==="root"?e=["Root",jc,"RootExit"]:e=f3(t),{eventIndex:0,events:e,iterator:0,node:t,visitorIndex:0,visitors:[]}}function Ox(t){return t[_i]=!1,t.nodes&&t.nodes.forEach(e=>Ox(e)),t}let Ix={},Bc=class p3{get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}constructor(e,n,r){this.stringified=!1,this.processed=!1;let i;if(typeof n=="object"&&n!==null&&(n.type==="root"||n.type==="document"))i=Ox(n);else if(n instanceof p3||n instanceof YO)i=Ox(n.root),n.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=n.map);else{let a=DQ;r.syntax&&(a=r.syntax.parse),r.parser&&(a=r.parser),a.parse&&(a=a.parse);try{i=a(n,r)}catch(s){this.processed=!0,this.error=s}i&&!i[FQ]&&WQ.rebuild(i)}this.result=new YO(e,i,r),this.helpers=mi(Oe({},Ix),{postcss:Ix,result:this.result}),this.plugins=this.processor.plugins.map(a=>typeof a=="object"&&a.prepare?Oe(Oe({},a),a.prepare(this.result)):a)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,n){let r=this.result.lastPlugin;try{n&&n.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(n,r,i)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([n,i])};for(let n of this.plugins)if(typeof n=="object")for(let r in n){if(!YQ[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${n.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!JQ[r])if(typeof n[r]=="object")for(let i in n[r])i==="*"?e(n,r,n[r][i]):e(n,r+"-"+i.toLowerCase(),n[r][i]);else typeof n[r]=="function"&&e(n,r,n[r])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){return al(this,null,function*(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let n=this.plugins[e],r=this.runOnRoot(n);if(Ud(r))try{yield r}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[_i];){e[_i]=!0;let n=[JO(e)];for(;n.length>0;){let r=this.visitTick(n);if(Ud(r))try{yield r}catch(i){let a=n[n.length-1].node;throw this.handleError(i,a)}}}if(this.listeners.OnceExit)for(let[n,r]of this.listeners.OnceExit){this.result.lastPlugin=n;try{if(e.type==="document"){let i=e.nodes.map(a=>r(a,this.helpers));yield Promise.all(i)}else yield r(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()})}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let n=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return Ud(n[0])?Promise.all(n):n}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(n){throw this.handleError(n)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,n=BQ;e.syntax&&(n=e.syntax.stringify),e.stringifier&&(n=e.stringifier),n.stringify&&(n=n.stringify);let r=new zQ(n,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let n=this.runOnRoot(e);if(Ud(n))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[_i];)e[_i]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let n of e.nodes)this.visitSync(this.listeners.OnceExit,n);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,n){return this.async().then(e,n)}toString(){return this.css}visitSync(e,n){for(let[r,i]of e){this.result.lastPlugin=r;let a;try{a=i(n,this.helpers)}catch(s){throw this.handleError(s,n.proxyOf)}if(n.type!=="root"&&n.type!=="document"&&!n.parent)return!0;if(Ud(a))throw this.getAsyncError()}}visitTick(e){let n=e[e.length-1],{node:r,visitors:i}=n;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(i.length>0&&n.visitorIndex<i.length){let[s,o]=i[n.visitorIndex];n.visitorIndex+=1,n.visitorIndex===i.length&&(n.visitors=[],n.visitorIndex=0),this.result.lastPlugin=s;try{return o(r.toProxy(),this.helpers)}catch(l){throw this.handleError(l,r)}}if(n.iterator!==0){let s=n.iterator,o;for(;o=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!o[_i]){o[_i]=!0,e.push(JO(o));return}n.iterator=0,delete r.indexes[s]}let a=n.events;for(;n.eventIndex<a.length;){let s=a[n.eventIndex];if(n.eventIndex+=1,s===jc){r.nodes&&r.nodes.length&&(r[_i]=!0,n.iterator=r.getIterator());return}else if(this.listeners[s]){n.visitors=this.listeners[s];return}}e.pop()}walkSync(e){e[_i]=!0;let n=f3(e);for(let r of n)if(r===jc)e.nodes&&e.each(i=>{i[_i]||this.walkSync(i)});else{let i=this.listeners[r];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}};Bc.registerPostcss=t=>{Ix=t};var m3=Bc;Bc.default=Bc;jQ.registerLazyResult(Bc);PQ.registerLazyResult(Bc);let $Q=d3,KQ=ak;const QQ=sk;let qQ=Jv,Lx=class{get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,n=KQ;try{e=n(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}constructor(e,n,r){n=n.toString(),this.stringified=!1,this._processor=e,this._css=n,this._opts=r,this._map=void 0;let i,a=qQ;this.result=new QQ(this._processor,i,this._opts),this.result.css=n;let s=this;Object.defineProperty(this.result,"root",{get(){return s.root}});let o=new $Q(a,i,this._opts,n);if(o.isMap()){let[l,u]=o.generate();l&&(this.result.css=l),u&&(this.result.map=u)}else o.clearAnnotation(),this.result.css=o.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,n){return this.async().then(e,n)}toString(){return this._css}warnings(){return[]}};var e8=Lx;Lx.default=Lx;let t8=rk,n8=m3,r8=e8,i8=Gp,Wf=class{constructor(e=[]){this.version="8.5.6",this.plugins=this.normalize(e)}normalize(e){let n=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))n=n.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)n.push(r);else if(typeof r=="function")n.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return n}process(e,n={}){return!this.plugins.length&&!n.parser&&!n.stringifier&&!n.syntax?new r8(this,e,n):new n8(this,e,n)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var a8=Wf;Wf.default=Wf;i8.registerProcessor(Wf);t8.registerProcessor(Wf);let g3=nk,y3=Kv,s8=Xl,o8=qC,v3=Qv,b3=rk,l8=dQ,u8=qv,c8=m3,d8=a3,h8=$v,f8=ak,ok=a8,p8=sk,w3=Gp,S3=ik,m8=Jv,g8=h3;function He(...t){return t.length===1&&Array.isArray(t[0])&&(t=t[0]),new ok(t)}He.plugin=function(t,e){let n=!1;function r(...a){console&&console.warn&&!n&&(n=!0,console.warn(t+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),{}.LANG&&{}.LANG.startsWith("cn")&&console.warn(t+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let s=e(...a);return s.postcssPlugin=t,s.postcssVersion=new ok().version,s}let i;return Object.defineProperty(r,"postcss",{get(){return i||(i=r()),i}}),r.process=function(a,s,o){return He([r(o)]).process(a,s)},r};He.stringify=m8;He.parse=f8;He.fromJSON=l8;He.list=d8;He.comment=t=>new y3(t);He.atRule=t=>new g3(t);He.decl=t=>new v3(t);He.rule=t=>new S3(t);He.root=t=>new w3(t);He.document=t=>new b3(t);He.CssSyntaxError=o8;He.Declaration=v3;He.Container=s8;He.Processor=ok;He.Document=b3;He.Comment=y3;He.Warning=g8;He.AtRule=g3;He.Result=p8;He.Input=u8;He.Rule=S3;He.Root=w3;He.Node=h8;c8.registerPostcss(He);He.default=He;var y8=Object.defineProperty,v8=(t,e,n)=>e in t?y8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xr=(t,e,n)=>v8(t,typeof e!="symbol"?e+"":e,n);function b8(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var lk={exports:{}},ge=String,E3=function(){return{isColorSupported:!1,reset:ge,bold:ge,dim:ge,italic:ge,underline:ge,inverse:ge,hidden:ge,strikethrough:ge,black:ge,red:ge,green:ge,yellow:ge,blue:ge,magenta:ge,cyan:ge,white:ge,gray:ge,bgBlack:ge,bgRed:ge,bgGreen:ge,bgYellow:ge,bgBlue:ge,bgMagenta:ge,bgCyan:ge,bgWhite:ge,blackBright:ge,redBright:ge,greenBright:ge,yellowBright:ge,blueBright:ge,magentaBright:ge,cyanBright:ge,whiteBright:ge,bgBlackBright:ge,bgRedBright:ge,bgGreenBright:ge,bgYellowBright:ge,bgBlueBright:ge,bgMagentaBright:ge,bgCyanBright:ge,bgWhiteBright:ge}};lk.exports=E3();lk.exports.createColors=E3;var w8=lk.exports;const S8={},E8=Object.freeze(Object.defineProperty({__proto__:null,default:S8},Symbol.toStringTag,{value:"Module"})),bi=b8(E8);let $O=w8,KO=bi,Zx=class x3 extends Error{constructor(e,n,r,i,a,s){super(e),this.name="CssSyntaxError",this.reason=e,a&&(this.file=a),i&&(this.source=i),s&&(this.plugin=s),typeof n<"u"&&typeof r<"u"&&(typeof n=="number"?(this.line=n,this.column=r):(this.line=n.line,this.column=n.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,x3)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let n=this.source;e==null&&(e=$O.isColorSupported);let r=c=>c,i=c=>c,a=c=>c;if(e){let{bold:c,gray:d,red:f}=$O.createColors(!0);i=p=>c(f(p)),r=p=>d(p),KO&&(a=p=>KO(p))}let s=n.split(/\r?\n/),o=Math.max(this.line-3,0),l=Math.min(this.line+2,s.length),u=String(l).length;return s.slice(o,l).map((c,d)=>{let f=o+1+d,p=" "+(" "+f).slice(-u)+" | ";if(f===this.line){if(c.length>160){let m=20,S=Math.max(0,this.column-m),y=Math.max(this.column+m,this.endColumn+m),g=c.slice(S,y),b=r(p.replace(/\d/g," "))+c.slice(0,Math.min(this.column-1,m-1)).replace(/[^\t]/g," ");return i(">")+r(p)+a(g)+`
 `+b+i("^")}let v=r(p.replace(/\d/g," "))+c.slice(0,this.column-1).replace(/[^\t]/g," ");return i(">")+r(p)+a(c)+`
 `+v+i("^")}return" "+r(p)+a(c)}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var uk=Zx;Zx.default=Zx;const QO={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function x8(t){return t[0].toUpperCase()+t.slice(1)}let Vx=class{constructor(e){this.builder=e}atrule(e,n){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let a=(e.raws.between||"")+(n?";":"");this.builder(r+i+a,e)}}beforeAfter(e,n){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):n==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let i=e.parent,a=0;for(;i&&i.type!=="root";)a+=1,i=i.parent;if(r.includes(`
`)){let s=this.raw(e,null,"indent");if(s.length)for(let o=0;o<a;o++)r+=s}return r}block(e,n){let r=this.raw(e,"between","beforeOpen");this.builder(n+r+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let n=e.nodes.length-1;for(;n>0&&e.nodes[n].type==="comment";)n-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let a=e.nodes[i],s=this.raw(a,"before");s&&this.builder(s),this.stringify(a,n!==i||r)}}comment(e){let n=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+n+e.text+r+"*/",e)}decl(e,n){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),n&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,n,r){let i;if(r||(r=n),n&&(i=e.raws[n],typeof i<"u"))return i;let a=e.parent;if(r==="before"&&(!a||a.type==="root"&&a.first===e||a&&a.type==="document"))return"";if(!a)return QO[r];let s=e.root();if(s.rawCache||(s.rawCache={}),typeof s.rawCache[r]<"u")return s.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let o="raw"+x8(r);this[o]?i=this[o](s,e):s.walk(l=>{if(i=l.raws[n],typeof i<"u")return!1})}return typeof i>"u"&&(i=QO[r]),s.rawCache[r]=i,i}rawBeforeClose(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return n=r.raws.after,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n}rawBeforeComment(e,n){let r;return e.walkComments(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(n,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,n){let r;return e.walkDecls(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(n,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let n;return e.walk(r=>{if(r.type!=="decl"&&(n=r.raws.between,typeof n<"u"))return!1}),n}rawBeforeRule(e){let n;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return n=r.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n}rawColon(e){let n;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return n=r.raws.between.replace(/[^\s:]/g,""),!1}),n}rawEmptyBody(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(n=r.raws.after,typeof n<"u"))return!1}),n}rawIndent(e){if(e.raws.indent)return e.raws.indent;let n;return e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof r.raws.before<"u"){let a=r.raws.before.split(`
`);return n=a[a.length-1],n=n.replace(/\S/g,""),!1}}),n}rawSemicolon(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(n=r.raws.semicolon,typeof n<"u"))return!1}),n}rawValue(e,n){let r=e[n],i=e.raws[n];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,n){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,n)}};var _3=Vx;Vx.default=Vx;let _8=_3;function Gx(t,e){new _8(e).stringify(t)}var eb=Gx;Gx.default=Gx;var Ap={};Ap.isClean=Symbol("isClean");Ap.my=Symbol("my");let C8=uk,k8=_3,T8=eb,{isClean:Wd,my:R8}=Ap;function Ax(t,e){let n=new t.constructor;for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r)||r==="proxyCache")continue;let i=t[r],a=typeof i;r==="parent"&&a==="object"?e&&(n[r]=e):r==="source"?n[r]=i:Array.isArray(i)?n[r]=i.map(s=>Ax(s,n)):(a==="object"&&i!==null&&(i=Ax(i)),n[r]=i)}return n}function Qi(t,e){if(e&&typeof e.offset<"u")return e.offset;let n=1,r=1,i=0;for(let a=0;a<t.length;a++){if(r===e.line&&n===e.column){i=a;break}t[a]===`
`?(n=1,r+=1):n+=1}return i}let Mx=class{get proxyOf(){return this}constructor(e={}){this.raws={},this[Wd]=!1,this[R8]=!0;for(let n in e)if(n==="nodes"){this.nodes=[];for(let r of e[n])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[n]=e[n]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let n=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${n.input.from}:${n.start.line}:${n.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let n in e)this[n]=e[n];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let n=Ax(this);for(let r in e)n[r]=e[r];return n}cloneAfter(e={}){let n=this.clone(e);return this.parent.insertAfter(this,n),n}cloneBefore(e={}){let n=this.clone(e);return this.parent.insertBefore(this,n),n}error(e,n={}){if(this.source){let{end:r,start:i}=this.rangeBy(n);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},n)}return new C8(e)}getProxyProcessor(){return{get(e,n){return n==="proxyOf"?e:n==="root"?()=>e.root().toProxy():e[n]},set(e,n,r){return e[n]===r||(e[n]=r,(n==="prop"||n==="value"||n==="name"||n==="params"||n==="important"||n==="text")&&e.markDirty()),!0}}}markClean(){this[Wd]=!0}markDirty(){if(this[Wd]){this[Wd]=!1;let e=this;for(;e=e.parent;)e[Wd]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e={}){let n=this.source.start;if(e.index)n=this.positionInside(e.index);else if(e.word){let r="document"in this.source.input?this.source.input.document:this.source.input.css,i=r.slice(Qi(r,this.source.start),Qi(r,this.source.end)).indexOf(e.word);i!==-1&&(n=this.positionInside(i))}return n}positionInside(e){let n=this.source.start.column,r=this.source.start.line,i="document"in this.source.input?this.source.input.document:this.source.input.css,a=Qi(i,this.source.start),s=a+e;for(let o=a;o<s;o++)i[o]===`
`?(n=1,r+=1):n+=1;return{column:n,line:r,offset:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e={}){let n="document"in this.source.input?this.source.input.document:this.source.input.css,r={column:this.source.start.column,line:this.source.start.line,offset:Qi(n,this.source.start)},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line,offset:typeof this.source.end.offset=="number"?this.source.end.offset:Qi(n,this.source.end)+1}:{column:r.column+1,line:r.line,offset:r.offset+1};if(e.word){let a=n.slice(Qi(n,this.source.start),Qi(n,this.source.end)).indexOf(e.word);a!==-1&&(r=this.positionInside(a),i=this.positionInside(a+e.word.length))}else e.start?r={column:e.start.column,line:e.start.line,offset:Qi(n,e.start)}:e.index&&(r=this.positionInside(e.index)),e.end?i={column:e.end.column,line:e.end.line,offset:Qi(n,e.end)}:typeof e.endIndex=="number"?i=this.positionInside(e.endIndex):e.index&&(i=this.positionInside(e.index+1));return(i.line<r.line||i.line===r.line&&i.column<=r.column)&&(i={column:r.column+1,line:r.line,offset:r.offset+1}),{end:i,start:r}}raw(e,n){return new k8().raw(this,e,n)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let n=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(n,i),n=i):this.parent.insertBefore(n,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,n){let r={},i=n==null;n=n||new Map;let a=0;for(let s in this){if(!Object.prototype.hasOwnProperty.call(this,s)||s==="parent"||s==="proxyCache")continue;let o=this[s];if(Array.isArray(o))r[s]=o.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,n):l);else if(typeof o=="object"&&o.toJSON)r[s]=o.toJSON(null,n);else if(s==="source"){if(o==null)continue;let l=n.get(o.input);l==null&&(l=a,n.set(o.input,a),a++),r[s]={end:o.end,inputId:l,start:o.start}}else r[s]=o}return i&&(r.inputs=[...n.keys()].map(s=>s.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=T8){e.stringify&&(e=e.stringify);let n="";return e(this,r=>{n+=r}),n}warn(e,n,r={}){let i={node:this};for(let a in r)i[a]=r[a];return e.warn(n,i)}};var tb=Mx;Mx.default=Mx;let N8=tb,Xx=class extends N8{constructor(e){super(e),this.type="comment"}};var nb=Xx;Xx.default=Xx;let O8=tb,Ux=class extends O8{get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e=mi(Oe({},e),{value:String(e.value)})),super(e),this.type="decl"}};var rb=Ux;Ux.default=Ux;let C3=nb,k3=rb,I8=tb,{isClean:T3,my:R3}=Ap,ck,N3,O3,dk;function I3(t){return t.map(e=>(e.nodes&&(e.nodes=I3(e.nodes)),delete e.source,e))}function L3(t){if(t[T3]=!1,t.proxyOf.nodes)for(let e of t.proxyOf.nodes)L3(e)}let Xa=class Z3 extends I8{get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}append(...e){for(let n of e){let r=this.normalize(n,this.last);for(let i of r)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let n of this.nodes)n.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let n=this.getIterator(),r,i;for(;this.indexes[n]<this.proxyOf.nodes.length&&(r=this.indexes[n],i=e(this.proxyOf.nodes[r],r),i!==!1);)this.indexes[n]+=1;return delete this.indexes[n],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,n){return n==="proxyOf"?e:e[n]?n==="each"||typeof n=="string"&&n.startsWith("walk")?(...r)=>e[n](...r.map(i=>typeof i=="function"?(a,s)=>i(a.toProxy(),s):i)):n==="every"||n==="some"?r=>e[n]((i,...a)=>r(i.toProxy(),...a)):n==="root"?()=>e.root().toProxy():n==="nodes"?e.nodes.map(r=>r.toProxy()):n==="first"||n==="last"?e[n].toProxy():e[n]:e[n]},set(e,n,r){return e[n]===r||(e[n]=r,(n==="name"||n==="params"||n==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,n){let r=this.index(e),i=this.normalize(n,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let s of i)this.proxyOf.nodes.splice(r+1,0,s);let a;for(let s in this.indexes)a=this.indexes[s],r<a&&(this.indexes[s]=a+i.length);return this.markDirty(),this}insertBefore(e,n){let r=this.index(e),i=r===0?"prepend":!1,a=this.normalize(n,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let o of a)this.proxyOf.nodes.splice(r,0,o);let s;for(let o in this.indexes)s=this.indexes[o],r<=s&&(this.indexes[o]=s+a.length);return this.markDirty(),this}normalize(e,n){if(typeof e=="string")e=I3(N3(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new k3(e)]}else if(e.selector||e.selectors)e=[new dk(e)];else if(e.name)e=[new ck(e)];else if(e.text)e=[new C3(e)];else throw new Error("Unknown node type in node creation");return e.map(r=>(r[R3]||Z3.rebuild(r),r=r.proxyOf,r.parent&&r.parent.removeChild(r),r[T3]&&L3(r),r.raws||(r.raws={}),typeof r.raws.before>"u"&&n&&typeof n.raws.before<"u"&&(r.raws.before=n.raws.before.replace(/\S/g,"")),r.parent=this.proxyOf,r))}prepend(...e){e=e.reverse();for(let n of e){let r=this.normalize(n,this.first,"prepend").reverse();for(let i of r)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let n;for(let r in this.indexes)n=this.indexes[r],n>=e&&(this.indexes[r]=n-1);return this.markDirty(),this}replaceValues(e,n,r){return r||(r=n,n={}),this.walkDecls(i=>{n.props&&!n.props.includes(i.prop)||n.fast&&!i.value.includes(n.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((n,r)=>{let i;try{i=e(n,r)}catch(a){throw n.addToError(a)}return i!==!1&&n.walk&&(i=n.walk(e)),i})}walkAtRules(e,n){return n?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="atrule"&&e.test(r.name))return n(r,i)}):this.walk((r,i)=>{if(r.type==="atrule"&&r.name===e)return n(r,i)}):(n=e,this.walk((r,i)=>{if(r.type==="atrule")return n(r,i)}))}walkComments(e){return this.walk((n,r)=>{if(n.type==="comment")return e(n,r)})}walkDecls(e,n){return n?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="decl"&&e.test(r.prop))return n(r,i)}):this.walk((r,i)=>{if(r.type==="decl"&&r.prop===e)return n(r,i)}):(n=e,this.walk((r,i)=>{if(r.type==="decl")return n(r,i)}))}walkRules(e,n){return n?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="rule"&&e.test(r.selector))return n(r,i)}):this.walk((r,i)=>{if(r.type==="rule"&&r.selector===e)return n(r,i)}):(n=e,this.walk((r,i)=>{if(r.type==="rule")return n(r,i)}))}};Xa.registerParse=t=>{N3=t};Xa.registerRule=t=>{dk=t};Xa.registerAtRule=t=>{ck=t};Xa.registerRoot=t=>{O3=t};var Ul=Xa;Xa.default=Xa;Xa.rebuild=t=>{t.type==="atrule"?Object.setPrototypeOf(t,ck.prototype):t.type==="rule"?Object.setPrototypeOf(t,dk.prototype):t.type==="decl"?Object.setPrototypeOf(t,k3.prototype):t.type==="comment"?Object.setPrototypeOf(t,C3.prototype):t.type==="root"&&Object.setPrototypeOf(t,O3.prototype),t[R3]=!0,t.nodes&&t.nodes.forEach(e=>{Xa.rebuild(e)})};let V3=Ul,Ay=class extends V3{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var hk=Ay;Ay.default=Ay;V3.registerAtRule(Ay);let L8=Ul,G3,A3,Pf=class extends L8{constructor(e){super(Oe({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(e={}){return new G3(new A3,this,e).stringify()}};Pf.registerLazyResult=t=>{G3=t};Pf.registerProcessor=t=>{A3=t};var fk=Pf;Pf.default=Pf;let Z8="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",V8=(t=21)=>{let e="",n=t|0;for(;n--;)e+=Z8[Math.random()*64|0];return e};var G8={nanoid:V8};let{existsSync:A8,readFileSync:M8}=bi,{dirname:D1,join:X8}=bi,{SourceMapConsumer:qO,SourceMapGenerator:eI}=bi;function U8(t){return Buffer?Buffer.from(t,"base64").toString():window.atob(t)}let Wx=class{constructor(e,n){if(n.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=n.map?n.map.prev:void 0,i=this.loadMap(n.from,r);!this.mapFile&&n.from&&(this.mapFile=n.from),this.mapFile&&(this.root=D1(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new qO(this.text)),this.consumerCache}decodeInline(e){let n=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,a=/^data:application\/json,/,s=e.match(i)||e.match(a);if(s)return decodeURIComponent(e.substr(s[0].length));let o=e.match(n)||e.match(r);if(o)return U8(e.substr(o[0].length));let l=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+l)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let n=e.match(/\/\*\s*# sourceMappingURL=/g);if(!n)return;let r=e.lastIndexOf(n.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=D1(e),A8(e))return this.mapFile=e,M8(e,"utf-8").toString().trim()}loadMap(e,n){if(n===!1)return!1;if(n){if(typeof n=="string")return n;if(typeof n=="function"){let r=n(e);if(r){let i=this.loadFile(r);if(!i)throw new Error("Unable to load previous source map: "+r.toString());return i}}else{if(n instanceof qO)return eI.fromSourceMap(n).toString();if(n instanceof eI)return n.toString();if(this.isMap(n))return JSON.stringify(n);throw new Error("Unsupported previous source map format: "+n.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=X8(D1(e),r)),this.loadFile(r)}}}startWith(e,n){return e?e.substr(0,n.length)===n:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var M3=Wx;Wx.default=Wx;let{nanoid:W8}=G8,{isAbsolute:Px,resolve:zx}=bi,{SourceMapConsumer:P8,SourceMapGenerator:z8}=bi,{fileURLToPath:tI,pathToFileURL:Pm}=bi,nI=uk,D8=M3,j1=bi,B1=Symbol("lineToIndexCache"),j8=!!(P8&&z8),rI=!!(zx&&Px);function iI(t){if(t[B1])return t[B1];let e=t.css.split(`
`),n=new Array(e.length),r=0;for(let i=0,a=e.length;i<a;i++)n[i]=r,r+=e[i].length+1;return t[B1]=n,n}let My=class{get from(){return this.file||this.id}constructor(t,e={}){if(t===null||typeof t>"u"||typeof t=="object"&&!t.toString)throw new Error(`PostCSS received ${t} instead of CSS string`);if(this.css=t.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,e.document&&(this.document=e.document.toString()),e.from&&(!rI||/^\w+:\/\//.test(e.from)||Px(e.from)?this.file=e.from:this.file=zx(e.from)),rI&&j8){let n=new D8(this.css,e);if(n.text){this.map=n;let r=n.consumer().file;!this.file&&r&&(this.file=this.mapResolve(r))}}this.file||(this.id="<input css "+W8(6)+">"),this.map&&(this.map.file=this.from)}error(t,e,n,r={}){let i,a,s,o,l;if(e&&typeof e=="object"){let c=e,d=n;if(typeof c.offset=="number"){o=c.offset;let f=this.fromOffset(o);e=f.line,n=f.col}else e=c.line,n=c.column,o=this.fromLineAndColumn(e,n);if(typeof d.offset=="number"){s=d.offset;let f=this.fromOffset(s);a=f.line,i=f.col}else a=d.line,i=d.column,s=this.fromLineAndColumn(d.line,d.column)}else if(n)o=this.fromLineAndColumn(e,n);else{o=e;let c=this.fromOffset(o);e=c.line,n=c.col}let u=this.origin(e,n,a,i);return u?l=new nI(t,u.endLine===void 0?u.line:{column:u.column,line:u.line},u.endLine===void 0?u.column:{column:u.endColumn,line:u.endLine},u.source,u.file,r.plugin):l=new nI(t,a===void 0?e:{column:n,line:e},a===void 0?n:{column:i,line:a},this.css,this.file,r.plugin),l.input={column:n,endColumn:i,endLine:a,endOffset:s,line:e,offset:o,source:this.css},this.file&&(Pm&&(l.input.url=Pm(this.file).toString()),l.input.file=this.file),l}fromLineAndColumn(t,e){return iI(this)[t-1]+e-1}fromOffset(t){let e=iI(this),n=e[e.length-1],r=0;if(t>=n)r=e.length-1;else{let i=e.length-2,a;for(;r<i;)if(a=r+(i-r>>1),t<e[a])i=a-1;else if(t>=e[a+1])r=a+1;else{r=a;break}}return{col:t-e[r]+1,line:r+1}}mapResolve(t){return/^\w+:\/\//.test(t)?t:zx(this.map.consumer().sourceRoot||this.map.root||".",t)}origin(t,e,n,r){if(!this.map)return!1;let i=this.map.consumer(),a=i.originalPositionFor({column:e,line:t});if(!a.source)return!1;let s;typeof n=="number"&&(s=i.originalPositionFor({column:r,line:n}));let o;Px(a.source)?o=Pm(a.source):o=new URL(a.source,this.map.consumer().sourceRoot||Pm(this.map.mapFile));let l={column:a.column,endColumn:s&&s.column,endLine:s&&s.line,line:a.line,url:o.toString()};if(o.protocol==="file:")if(tI)l.file=tI(o);else throw new Error("file: protocol is not available in this PostCSS build");let u=i.sourceContentFor(a.source);return u&&(l.source=u),l}toJSON(){let t={};for(let e of["hasBOM","css","file","id"])this[e]!=null&&(t[e]=this[e]);return this.map&&(t.map=Oe({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t}};var ib=My;My.default=My;j1&&j1.registerInput&&j1.registerInput(My);let X3=Ul,U3,W3,Fc=class extends X3{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,n,r){let i=super.normalize(e);if(n){if(r==="prepend")this.nodes.length>1?n.raws.before=this.nodes[1].raws.before:delete n.raws.before;else if(this.first!==n)for(let a of i)a.raws.before=n.raws.before}return i}removeChild(e,n){let r=this.index(e);return!n&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new U3(new W3,this,e).stringify()}};Fc.registerLazyResult=t=>{U3=t};Fc.registerProcessor=t=>{W3=t};var Mp=Fc;Fc.default=Fc;X3.registerRoot(Fc);let zf={comma(t){return zf.split(t,[","],!0)},space(t){let e=[" ",`
`,"	"];return zf.split(t,e)},split(t,e,n){let r=[],i="",a=!1,s=0,o=!1,l="",u=!1;for(let c of t)u?u=!1:c==="\\"?u=!0:o?c===l&&(o=!1):c==='"'||c==="'"?(o=!0,l=c):c==="("?s+=1:c===")"?s>0&&(s-=1):s===0&&e.includes(c)&&(a=!0),a?(i!==""&&r.push(i.trim()),i="",a=!1):i+=c;return(n||i!=="")&&r.push(i.trim()),r}};var P3=zf;zf.default=zf;let z3=Ul,B8=P3,Xy=class extends z3{get selectors(){return B8.comma(this.selector)}set selectors(e){let n=this.selector?this.selector.match(/,\s*/):null,r=n?n[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}};var pk=Xy;Xy.default=Xy;z3.registerRule(Xy);let F8=hk,H8=nb,Y8=rb,J8=ib,$8=M3,K8=Mp,Q8=pk;function Df(t,e){if(Array.isArray(t))return t.map(a=>Df(a));let n=t,{inputs:r}=n,i=Gf(n,["inputs"]);if(r){e=[];for(let a of r){let s=mi(Oe({},a),{__proto__:J8.prototype});s.map&&(s.map=mi(Oe({},s.map),{__proto__:$8.prototype})),e.push(s)}}if(i.nodes&&(i.nodes=t.nodes.map(a=>Df(a,e))),i.source){let a=i.source,{inputId:s}=a,o=Gf(a,["inputId"]);i.source=o,s!=null&&(i.source.input=e[s])}if(i.type==="root")return new K8(i);if(i.type==="decl")return new Y8(i);if(i.type==="rule")return new Q8(i);if(i.type==="comment")return new H8(i);if(i.type==="atrule")return new F8(i);throw new Error("Unknown node type: "+t.type)}var q8=Df;Df.default=Df;let{dirname:a0,relative:D3,resolve:j3,sep:B3}=bi,{SourceMapConsumer:F3,SourceMapGenerator:s0}=bi,{pathToFileURL:aI}=bi,e7=ib,t7=!!(F3&&s0),n7=!!(a0&&j3&&D3&&B3),r7=class{constructor(e,n,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=n,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let n=`
`;this.css.includes(`\r
`)&&(n=`\r
`),this.css+=n+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let n=this.toUrl(this.path(e.file)),r=e.root||a0(e.file),i;this.mapOpts.sourcesContent===!1?(i=new F3(e.text),i.sourcesContent&&(i.sourcesContent=null)):i=e.consumer(),this.map.applySourceMap(i,n,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let n=this.root.nodes.length-1;n>=0;n--)e=this.root.nodes[n],e.type==="comment"&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(n)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),n7&&t7&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,n=>{e+=n}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=s0.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new s0({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new s0({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,n=1,r="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},a,s;this.stringify(this.root,(o,l,u)=>{if(this.css+=o,l&&u!=="end"&&(i.generated.line=e,i.generated.column=n-1,l.source&&l.source.start?(i.source=this.sourcePath(l),i.original.line=l.source.start.line,i.original.column=l.source.start.column-1,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,this.map.addMapping(i))),s=o.match(/\n/g),s?(e+=s.length,a=o.lastIndexOf(`
`),n=o.length-a):n+=o.length,l&&u!=="start"){let c=l.parent||{raws:{}};(!(l.type==="decl"||l.type==="atrule"&&!l.nodes)||l!==c.last||c.raws.semicolon)&&(l.source&&l.source.end?(i.source=this.sourcePath(l),i.original.line=l.source.end.line,i.original.column=l.source.end.column-1,i.generated.line=e,i.generated.column=n-2,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=n-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(n=>n.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let n=this.memoizedPaths.get(e);if(n)return n;let r=this.opts.to?a0(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=a0(j3(r,this.mapOpts.annotation)));let i=D3(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let n=e.source.input.map;this.previousMaps.includes(n)||this.previousMaps.push(n)}});else{let e=new e7(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(n=>{if(n.source){let r=n.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,n.source.input.css)}}});else if(this.css){let n=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(n,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let n=this.memoizedFileURLs.get(e);if(n)return n;if(aI){let r=aI(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let n=this.memoizedURLs.get(e);if(n)return n;B3==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};var H3=r7;const F1=39,sI=34,zm=92,oI=47,Dm=10,Pd=32,jm=12,Bm=9,Fm=13,i7=91,a7=93,s7=40,o7=41,l7=123,u7=125,c7=59,d7=42,h7=58,f7=64,Hm=/[\t\n\f\r "#'()/;[\\\]{}]/g,Ym=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,p7=/.[\r\n"'(/\\]/,lI=/[\da-f]/i;var m7=function(t,e={}){let n=t.css.valueOf(),r=e.ignoreErrors,i,a,s,o,l,u,c,d,f,p,v=n.length,m=0,S=[],y=[];function g(){return m}function b(C){throw t.error("Unclosed "+C,m)}function w(){return y.length===0&&m>=v}function E(C){if(y.length)return y.pop();if(m>=v)return;let k=C?C.ignoreUnclosed:!1;switch(i=n.charCodeAt(m),i){case Dm:case Pd:case Bm:case Fm:case jm:{o=m;do o+=1,i=n.charCodeAt(o);while(i===Pd||i===Dm||i===Bm||i===Fm||i===jm);u=["space",n.slice(m,o)],m=o-1;break}case i7:case a7:case l7:case u7:case h7:case c7:case o7:{let x=String.fromCharCode(i);u=[x,x,m];break}case s7:{if(p=S.length?S.pop()[1]:"",f=n.charCodeAt(m+1),p==="url"&&f!==F1&&f!==sI&&f!==Pd&&f!==Dm&&f!==Bm&&f!==jm&&f!==Fm){o=m;do{if(c=!1,o=n.indexOf(")",o+1),o===-1)if(r||k){o=m;break}else b("bracket");for(d=o;n.charCodeAt(d-1)===zm;)d-=1,c=!c}while(c);u=["brackets",n.slice(m,o+1),m,o],m=o}else o=n.indexOf(")",m+1),a=n.slice(m,o+1),o===-1||p7.test(a)?u=["(","(",m]:(u=["brackets",a,m,o],m=o);break}case F1:case sI:{l=i===F1?"'":'"',o=m;do{if(c=!1,o=n.indexOf(l,o+1),o===-1)if(r||k){o=m+1;break}else b("string");for(d=o;n.charCodeAt(d-1)===zm;)d-=1,c=!c}while(c);u=["string",n.slice(m,o+1),m,o],m=o;break}case f7:{Hm.lastIndex=m+1,Hm.test(n),Hm.lastIndex===0?o=n.length-1:o=Hm.lastIndex-2,u=["at-word",n.slice(m,o+1),m,o],m=o;break}case zm:{for(o=m,s=!0;n.charCodeAt(o+1)===zm;)o+=1,s=!s;if(i=n.charCodeAt(o+1),s&&i!==oI&&i!==Pd&&i!==Dm&&i!==Bm&&i!==Fm&&i!==jm&&(o+=1,lI.test(n.charAt(o)))){for(;lI.test(n.charAt(o+1));)o+=1;n.charCodeAt(o+1)===Pd&&(o+=1)}u=["word",n.slice(m,o+1),m,o],m=o;break}default:{i===oI&&n.charCodeAt(m+1)===d7?(o=n.indexOf("*/",m+2)+1,o===0&&(r||k?o=n.length:b("comment")),u=["comment",n.slice(m,o+1),m,o],m=o):(Ym.lastIndex=m+1,Ym.test(n),Ym.lastIndex===0?o=n.length-1:o=Ym.lastIndex-2,u=["word",n.slice(m,o+1),m,o],S.push(u),m=o);break}}return m++,u}function _(C){y.push(C)}return{back:_,endOfFile:w,nextToken:E,position:g}};let g7=hk,y7=nb,v7=rb,b7=Mp,uI=pk,w7=m7;const cI={empty:!0,space:!0};function S7(t){for(let e=t.length-1;e>=0;e--){let n=t[e],r=n[3]||n[2];if(r)return r}}let E7=class{constructor(e){this.input=e,this.root=new b7,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let n=new g7;n.name=e[1].slice(1),n.name===""&&this.unnamedAtrule(n,e),this.init(n,e[2]);let r,i,a,s=!1,o=!1,l=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?u.push(r==="("?")":"]"):r==="{"&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),u.length===0)if(r===";"){n.source.end=this.getPosition(e[2]),n.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){o=!0;break}else if(r==="}"){if(l.length>0){for(a=l.length-1,i=l[a];i&&i[0]==="space";)i=l[--a];i&&(n.source.end=this.getPosition(i[3]||i[2]),n.source.end.offset++)}this.end(e);break}else l.push(e);else l.push(e);if(this.tokenizer.endOfFile()){s=!0;break}}n.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(n.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(n,"params",l),s&&(e=l[l.length-1],n.source.end=this.getPosition(e[3]||e[2]),n.source.end.offset++,this.spaces=n.raws.between,n.raws.between="")):(n.raws.afterName="",n.params=""),o&&(n.nodes=[],this.current=n)}checkMissedSemicolon(e){let n=this.colon(e);if(n===!1)return;let r=0,i;for(let a=n-1;a>=0&&(i=e[a],!(i[0]!=="space"&&(r+=1,r===2)));a--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let n=0,r,i,a;for(let[s,o]of e.entries()){if(i=o,a=i[0],a==="("&&(n+=1),a===")"&&(n-=1),n===0&&a===":")if(!r)this.doubleColon(i);else{if(r[0]==="word"&&r[1]==="progid")continue;return s}r=i}return!1}comment(e){let n=new y7;this.init(n,e[2]),n.source.end=this.getPosition(e[3]||e[2]),n.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))n.text="",n.raws.left=r,n.raws.right="";else{let i=r.match(/^(\s*)([^]*\S)(\s*)$/);n.text=i[2],n.raws.left=i[1],n.raws.right=i[3]}}createTokenizer(){this.tokenizer=w7(this.input)}decl(e,n){let r=new v7;this.init(r,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||S7(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let l=e[0][0];if(l===":"||l==="space"||l==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let a;for(;e.length;)if(a=e.shift(),a[0]===":"){r.raws.between+=a[1];break}else a[0]==="word"&&/\w/.test(a[1])&&this.unknownWord([a]),r.raws.between+=a[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let s=[],o;for(;e.length&&(o=e[0][0],!(o!=="space"&&o!=="comment"));)s.push(e.shift());this.precheckMissedSemicolon(e);for(let l=e.length-1;l>=0;l--){if(a=e[l],a[1].toLowerCase()==="!important"){r.important=!0;let u=this.stringFrom(e,l);u=this.spacesFromEnd(e)+u,u!==" !important"&&(r.raws.important=u);break}else if(a[1].toLowerCase()==="important"){let u=e.slice(0),c="";for(let d=l;d>0;d--){let f=u[d][0];if(c.trim().startsWith("!")&&f!=="space")break;c=u.pop()[1]+c}c.trim().startsWith("!")&&(r.important=!0,r.raws.important=c,e=u)}if(a[0]!=="space"&&a[0]!=="comment")break}e.some(l=>l[0]!=="space"&&l[0]!=="comment")&&(r.raws.between+=s.map(l=>l[1]).join(""),s=[]),this.raw(r,"value",s.concat(e),n),r.value.includes(":")&&!n&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let n=new uI;this.init(n,e[2]),n.selector="",n.raws.between="",this.current=n}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let n=this.current.nodes[this.current.nodes.length-1];n&&n.type==="rule"&&!n.raws.ownSemicolon&&(n.raws.ownSemicolon=this.spaces,this.spaces="",n.source.end=this.getPosition(e[2]),n.source.end.offset+=n.raws.ownSemicolon.length)}}getPosition(e){let n=this.input.fromOffset(e);return{column:n.col,line:n.line,offset:e}}init(e,n){this.current.push(e),e.source={input:this.input,start:this.getPosition(n)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let n=!1,r=null,i=!1,a=null,s=[],o=e[1].startsWith("--"),l=[],u=e;for(;u;){if(r=u[0],l.push(u),r==="("||r==="[")a||(a=u),s.push(r==="("?")":"]");else if(o&&i&&r==="{")a||(a=u),s.push("}");else if(s.length===0)if(r===";")if(i){this.decl(l,o);return}else break;else if(r==="{"){this.rule(l);return}else if(r==="}"){this.tokenizer.back(l.pop()),n=!0;break}else r===":"&&(i=!0);else r===s[s.length-1]&&(s.pop(),s.length===0&&(a=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(n=!0),s.length>0&&this.unclosedBracket(a),n&&i){if(!o)for(;l.length&&(u=l[l.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,o)}else this.unknownWord(l)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,n,r,i){let a,s,o=r.length,l="",u=!0,c,d;for(let f=0;f<o;f+=1)a=r[f],s=a[0],s==="space"&&f===o-1&&!i?u=!1:s==="comment"?(d=r[f-1]?r[f-1][0]:"empty",c=r[f+1]?r[f+1][0]:"empty",!cI[d]&&!cI[c]?l.slice(-1)===","?u=!1:l+=a[1]:u=!1):l+=a[1];if(!u){let f=r.reduce((p,v)=>p+v[1],"");e.raws[n]={raw:f,value:l}}e[n]=l}rule(e){e.pop();let n=new uI;this.init(n,e[0][2]),n.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(n,"selector",e),this.current=n}spacesAndCommentsFromEnd(e){let n,r="";for(;e.length&&(n=e[e.length-1][0],!(n!=="space"&&n!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let n,r="";for(;e.length&&(n=e[0][0],!(n!=="space"&&n!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let n,r="";for(;e.length&&(n=e[e.length-1][0],n==="space");)r=e.pop()[1]+r;return r}stringFrom(e,n){let r="";for(let i=n;i<e.length;i++)r+=e[i][1];return e.splice(n,e.length-n),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word "+e[0][1],{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,n){throw this.input.error("At-rule without name",{offset:n[2]},{offset:n[2]+n[1].length})}};var x7=E7;let _7=Ul,C7=ib,k7=x7;function Uy(t,e){let n=new C7(t,e),r=new k7(n);try{r.parse()}catch(i){throw i}return r.root}var mk=Uy;Uy.default=Uy;_7.registerParse(Uy);let Dx=class{constructor(e,n={}){if(this.type="warning",this.text=e,n.node&&n.node.source){let r=n.node.rangeBy(n);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in n)this[r]=n[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Y3=Dx;Dx.default=Dx;let T7=Y3,jx=class{get content(){return this.css}constructor(e,n,r){this.processor=e,this.messages=[],this.root=n,this.opts=r,this.css="",this.map=void 0}toString(){return this.css}warn(e,n={}){n.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(n.plugin=this.lastPlugin.postcssPlugin);let r=new T7(e,n);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}};var gk=jx;jx.default=jx;let R7=Ul,N7=fk,O7=H3,I7=mk,dI=gk,L7=Mp,Z7=eb,{isClean:Ci,my:V7}=Ap;const G7={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},A7={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},M7={Once:!0,postcssPlugin:!0,prepare:!0},Hc=0;function zd(t){return typeof t=="object"&&typeof t.then=="function"}function J3(t){let e=!1,n=G7[t.type];return t.type==="decl"?e=t.prop.toLowerCase():t.type==="atrule"&&(e=t.name.toLowerCase()),e&&t.append?[n,n+"-"+e,Hc,n+"Exit",n+"Exit-"+e]:e?[n,n+"-"+e,n+"Exit",n+"Exit-"+e]:t.append?[n,Hc,n+"Exit"]:[n,n+"Exit"]}function hI(t){let e;return t.type==="document"?e=["Document",Hc,"DocumentExit"]:t.type==="root"?e=["Root",Hc,"RootExit"]:e=J3(t),{eventIndex:0,events:e,iterator:0,node:t,visitorIndex:0,visitors:[]}}function Bx(t){return t[Ci]=!1,t.nodes&&t.nodes.forEach(e=>Bx(e)),t}let Fx={},Yc=class $3{get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}constructor(e,n,r){this.stringified=!1,this.processed=!1;let i;if(typeof n=="object"&&n!==null&&(n.type==="root"||n.type==="document"))i=Bx(n);else if(n instanceof $3||n instanceof dI)i=Bx(n.root),n.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=n.map);else{let a=I7;r.syntax&&(a=r.syntax.parse),r.parser&&(a=r.parser),a.parse&&(a=a.parse);try{i=a(n,r)}catch(s){this.processed=!0,this.error=s}i&&!i[V7]&&R7.rebuild(i)}this.result=new dI(e,i,r),this.helpers=mi(Oe({},Fx),{postcss:Fx,result:this.result}),this.plugins=this.processor.plugins.map(a=>typeof a=="object"&&a.prepare?Oe(Oe({},a),a.prepare(this.result)):a)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,n){let r=this.result.lastPlugin;try{n&&n.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(n,r,i)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([n,i])};for(let n of this.plugins)if(typeof n=="object")for(let r in n){if(!A7[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${n.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!M7[r])if(typeof n[r]=="object")for(let i in n[r])i==="*"?e(n,r,n[r][i]):e(n,r+"-"+i.toLowerCase(),n[r][i]);else typeof n[r]=="function"&&e(n,r,n[r])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){return al(this,null,function*(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let n=this.plugins[e],r=this.runOnRoot(n);if(zd(r))try{yield r}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Ci];){e[Ci]=!0;let n=[hI(e)];for(;n.length>0;){let r=this.visitTick(n);if(zd(r))try{yield r}catch(i){let a=n[n.length-1].node;throw this.handleError(i,a)}}}if(this.listeners.OnceExit)for(let[n,r]of this.listeners.OnceExit){this.result.lastPlugin=n;try{if(e.type==="document"){let i=e.nodes.map(a=>r(a,this.helpers));yield Promise.all(i)}else yield r(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()})}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let n=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return zd(n[0])?Promise.all(n):n}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(n){throw this.handleError(n)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,n=Z7;e.syntax&&(n=e.syntax.stringify),e.stringifier&&(n=e.stringifier),n.stringify&&(n=n.stringify);let r=new O7(n,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let n=this.runOnRoot(e);if(zd(n))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Ci];)e[Ci]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let n of e.nodes)this.visitSync(this.listeners.OnceExit,n);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,n){return this.async().then(e,n)}toString(){return this.css}visitSync(e,n){for(let[r,i]of e){this.result.lastPlugin=r;let a;try{a=i(n,this.helpers)}catch(s){throw this.handleError(s,n.proxyOf)}if(n.type!=="root"&&n.type!=="document"&&!n.parent)return!0;if(zd(a))throw this.getAsyncError()}}visitTick(e){let n=e[e.length-1],{node:r,visitors:i}=n;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(i.length>0&&n.visitorIndex<i.length){let[s,o]=i[n.visitorIndex];n.visitorIndex+=1,n.visitorIndex===i.length&&(n.visitors=[],n.visitorIndex=0),this.result.lastPlugin=s;try{return o(r.toProxy(),this.helpers)}catch(l){throw this.handleError(l,r)}}if(n.iterator!==0){let s=n.iterator,o;for(;o=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!o[Ci]){o[Ci]=!0,e.push(hI(o));return}n.iterator=0,delete r.indexes[s]}let a=n.events;for(;n.eventIndex<a.length;){let s=a[n.eventIndex];if(n.eventIndex+=1,s===Hc){r.nodes&&r.nodes.length&&(r[Ci]=!0,n.iterator=r.getIterator());return}else if(this.listeners[s]){n.visitors=this.listeners[s];return}}e.pop()}walkSync(e){e[Ci]=!0;let n=J3(e);for(let r of n)if(r===Hc)e.nodes&&e.each(i=>{i[Ci]||this.walkSync(i)});else{let i=this.listeners[r];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}};Yc.registerPostcss=t=>{Fx=t};var K3=Yc;Yc.default=Yc;L7.registerLazyResult(Yc);N7.registerLazyResult(Yc);let X7=H3,U7=mk;const W7=gk;let P7=eb,Hx=class{get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let t,e=U7;try{t=e(this._css,this._opts)}catch(n){this.error=n}if(this.error)throw this.error;return this._root=t,t}get[Symbol.toStringTag](){return"NoWorkResult"}constructor(t,e,n){e=e.toString(),this.stringified=!1,this._processor=t,this._css=e,this._opts=n,this._map=void 0;let r,i=P7;this.result=new W7(this._processor,r,this._opts),this.result.css=e;let a=this;Object.defineProperty(this.result,"root",{get(){return a.root}});let s=new X7(i,r,this._opts,e);if(s.isMap()){let[o,l]=s.generate();o&&(this.result.css=o),l&&(this.result.map=l)}else s.clearAnnotation(),this.result.css=s.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(t){return this.async().catch(t)}finally(t){return this.async().then(t,t)}sync(){if(this.error)throw this.error;return this.result}then(t,e){return this.async().then(t,e)}toString(){return this._css}warnings(){return[]}};var z7=Hx;Hx.default=Hx;let D7=fk,j7=K3,B7=z7,F7=Mp,jf=class{constructor(e=[]){this.version="8.5.6",this.plugins=this.normalize(e)}normalize(e){let n=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))n=n.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)n.push(r);else if(typeof r=="function")n.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return n}process(e,n={}){return!this.plugins.length&&!n.parser&&!n.stringifier&&!n.syntax?new B7(this,e,n):new j7(this,e,n)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var H7=jf;jf.default=jf;F7.registerProcessor(jf);D7.registerProcessor(jf);let Q3=hk,q3=nb,Y7=Ul,J7=uk,e9=rb,t9=fk,$7=q8,K7=ib,Q7=K3,q7=P3,eq=tb,tq=mk,yk=H7,nq=gk,n9=Mp,r9=pk,rq=eb,iq=Y3;function Ye(...t){return t.length===1&&Array.isArray(t[0])&&(t=t[0]),new yk(t)}Ye.plugin=function(t,e){let n=!1;function r(...a){console&&console.warn&&!n&&(n=!0,console.warn(t+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),{}.LANG&&{}.LANG.startsWith("cn")&&console.warn(t+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let s=e(...a);return s.postcssPlugin=t,s.postcssVersion=new yk().version,s}let i;return Object.defineProperty(r,"postcss",{get(){return i||(i=r()),i}}),r.process=function(a,s,o){return Ye([r(o)]).process(a,s)},r};Ye.stringify=rq;Ye.parse=tq;Ye.fromJSON=$7;Ye.list=q7;Ye.comment=t=>new q3(t);Ye.atRule=t=>new Q3(t);Ye.decl=t=>new e9(t);Ye.rule=t=>new r9(t);Ye.root=t=>new n9(t);Ye.document=t=>new t9(t);Ye.CssSyntaxError=J7;Ye.Declaration=e9;Ye.Container=Y7;Ye.Processor=yk;Ye.Document=t9;Ye.Comment=q3;Ye.Warning=iq;Ye.AtRule=Q3;Ye.Result=nq;Ye.Input=K7;Ye.Rule=r9;Ye.Root=n9;Ye.Node=eq;Q7.registerPostcss(Ye);Ye.default=Ye;let aq=class i9{constructor(...e){xr(this,"parentElement",null),xr(this,"parentNode",null),xr(this,"ownerDocument"),xr(this,"firstChild",null),xr(this,"lastChild",null),xr(this,"previousSibling",null),xr(this,"nextSibling",null),xr(this,"ELEMENT_NODE",1),xr(this,"TEXT_NODE",3),xr(this,"nodeType"),xr(this,"nodeName"),xr(this,"RRNodeType")}get childNodes(){const e=[];let n=this.firstChild;for(;n;)e.push(n),n=n.nextSibling;return e}contains(e){if(e instanceof i9){if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0}else return!1;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,n){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}};const fI={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},pI={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Jm={},sq=()=>!!globalThis.Zone;function vk(t){if(Jm[t])return Jm[t];const e=globalThis[t],n=e.prototype,r=t in fI?fI[t]:void 0,i=!!(r&&r.every(o=>{var l,u;return!!((u=(l=Object.getOwnPropertyDescriptor(n,o))==null?void 0:l.get)!=null&&u.toString().includes("[native code]"))})),a=t in pI?pI[t]:void 0,s=!!(a&&a.every(o=>{var l;return typeof n[o]=="function"&&((l=n[o])==null?void 0:l.toString().includes("[native code]"))}));if(i&&s&&!sq())return Jm[t]=e.prototype,e.prototype;try{const o=document.createElement("iframe");document.body.appendChild(o);const l=o.contentWindow;if(!l)return e.prototype;const u=l[t].prototype;return document.body.removeChild(o),u?Jm[t]=u:n}catch{return n}}const H1={};function po(t,e,n){var r;const i=`${t}.${String(n)}`;if(H1[i])return H1[i].call(e);const a=vk(t),s=(r=Object.getOwnPropertyDescriptor(a,n))==null?void 0:r.get;return s?(H1[i]=s,s.call(e)):e[n]}const Y1={};function a9(t,e,n){const r=`${t}.${String(n)}`;if(Y1[r])return Y1[r].bind(e);const i=vk(t)[n];return typeof i!="function"?e[n]:(Y1[r]=i,i.bind(e))}function oq(t){return po("Node",t,"childNodes")}function lq(t){return po("Node",t,"parentNode")}function uq(t){return po("Node",t,"parentElement")}function cq(t){return po("Node",t,"textContent")}function dq(t,e){return a9("Node",t,"contains")(e)}function hq(t){return a9("Node",t,"getRootNode")()}function fq(t){return!t||!("host"in t)?null:po("ShadowRoot",t,"host")}function pq(t){return t.styleSheets}function mq(t){return!t||!("shadowRoot"in t)?null:po("Element",t,"shadowRoot")}function gq(t,e){return po("Element",t,"querySelector")(e)}function yq(t,e){return po("Element",t,"querySelectorAll")(e)}function s9(){return vk("MutationObserver").constructor}function Wl(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=i,()=>{t[e]=r}}catch{return()=>{}}}const ke={childNodes:oq,parentNode:lq,parentElement:uq,textContent:cq,contains:dq,getRootNode:hq,host:fq,styleSheets:pq,shadowRoot:mq,querySelector:gq,querySelectorAll:yq,mutationObserver:s9,patch:Wl};function Rn(t,e,n=document){const r={capture:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const fu=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let mI={map:{},getId(){return console.error(fu),-1},getNode(){return console.error(fu),null},removeNodeFromMap(){console.error(fu)},has(){return console.error(fu),!1},reset(){console.error(fu)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(mI=new Proxy(mI,{get(t,e,n){return e==="map"&&console.error(fu),Reflect.get(t,e,n)}}));function Bf(t,e,n={}){let r=null,i=0;return function(...a){const s=Date.now();!i&&n.leading===!1&&(i=s);const o=e-(s-i),l=this;o<=0||o>e?(r&&(clearTimeout(r),r=null),i=s,t.apply(l,a)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{i=n.leading===!1?0:Date.now(),r=null,t.apply(l,a)},o))}}function ab(t,e,n,r,i=window){const a=i.Object.getOwnPropertyDescriptor(t,e);return i.Object.defineProperty(t,e,r?n:{set(s){setTimeout(()=>{n.set.call(this,s)},0),a&&a.set&&a.set.call(this,s)}}),()=>ab(t,e,a||{},!0)}let Wy=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Wy=()=>new Date().getTime());function o9(t){var e,n,r,i;const a=t.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:a.documentElement.scrollLeft||(a==null?void 0:a.body)&&((e=ke.parentElement(a.body))==null?void 0:e.scrollLeft)||((n=a==null?void 0:a.body)==null?void 0:n.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:(a==null?void 0:a.documentElement.scrollTop)||(a==null?void 0:a.body)&&((r=ke.parentElement(a.body))==null?void 0:r.scrollTop)||((i=a==null?void 0:a.body)==null?void 0:i.scrollTop)||0}}function l9(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function u9(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function c9(t){return t?t.nodeType===t.ELEMENT_NODE?t:ke.parentElement(t):null}const vq=t=>{try{if(t instanceof HTMLElement)return t.tagName==="CANVAS"}catch{return!1}return!1};function pn(t,e,n,r){if(!t)return!1;const i=c9(t);if(!i)return!1;try{if(typeof e=="string"){if(i.classList.contains(e)||r&&i.closest("."+e)!==null)return!0}else if(Iy(i,e,r))return!0}catch{}return!!(n&&(i.matches(n)||r&&i.closest(n)!==null))}function bq(t,e){return e.getId(t)!==-1}function J1(t,e,n){return t.tagName==="TITLE"&&n.headTitleMutations?!0:e.getId(t)===Af}function d9(t,e){if(Xh(t))return!1;const n=e.getId(t);if(!e.has(n))return!0;const r=ke.parentNode(t);return r&&r.nodeType===t.DOCUMENT_NODE?!1:r?d9(r,e):!0}function Yx(t){return!!t.changedTouches}function wq(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function h9(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function f9(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function Jx(t){return t?t instanceof aq&&"shadowRoot"in t?!!t.shadowRoot:!!ke.shadowRoot(t):!1}let Sq=class{constructor(){B(this,"id",1),B(this,"styleIDMap",new WeakMap),B(this,"idStyleMap",new Map)}getId(e){var n;return(n=this.styleIDMap.get(e))!=null?n:-1}has(e){return this.styleIDMap.has(e)}add(e,n){if(this.has(e))return this.getId(e);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function p9(t){var e;let n=null;return"getRootNode"in t&&((e=ke.getRootNode(t))==null?void 0:e.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&ke.host(ke.getRootNode(t))&&(n=ke.host(ke.getRootNode(t))),n}function Eq(t){let e=t,n;for(;n=p9(e);)e=n;return e}function xq(t){const e=t.ownerDocument;if(!e)return!1;const n=Eq(t);return ke.contains(e,n)}function m9(t){const e=t.ownerDocument;return e?ke.contains(e,t)||xq(t):!1}var Ae=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Ae||{}),Ne=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Ne||{}),Un=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(Un||{}),$a=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))($a||{}),Jc=(t=>(t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2",t))(Jc||{}),pu=(t=>(t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t))(pu||{}),g9=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(g9||{});function gI(t){return"__ln"in t}let _q=class{constructor(){B(this,"length",0),B(this,"head",null),B(this,"tail",null)}get(e){if(e>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<e;r++)n=(n==null?void 0:n.next)||null;return n}addNode(e){const n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&gI(e.previousSibling)){const r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&gI(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(e){const n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}};const yI=(t,e)=>`${t}@${e}`;let Cq=class{constructor(){B(this,"frozen",!1),B(this,"locked",!1),B(this,"texts",[]),B(this,"attributes",[]),B(this,"attributeMap",new WeakMap),B(this,"removes",[]),B(this,"mapRemoves",[]),B(this,"movedMap",{}),B(this,"addedSet",new Set),B(this,"movedSet",new Set),B(this,"droppedSet",new Set),B(this,"removesSubTreeCache",new Set),B(this,"mutationCb"),B(this,"blockClass"),B(this,"blockSelector"),B(this,"maskTextClass"),B(this,"maskTextSelector"),B(this,"inlineStylesheet"),B(this,"maskInputOptions"),B(this,"maskTextFn"),B(this,"maskInputFn"),B(this,"keepIframeSrcFn"),B(this,"recordCanvas"),B(this,"inlineImages"),B(this,"inlineVideos"),B(this,"privacySetting"),B(this,"slimDOMOptions"),B(this,"dataURLOptions"),B(this,"doc"),B(this,"mirror"),B(this,"iframeManager"),B(this,"stylesheetManager"),B(this,"shadowDomManager"),B(this,"canvasManager"),B(this,"processedNodeManager"),B(this,"unattachedDoc"),B(this,"processMutations",e=>{e.forEach(this.processMutation),this.emit()}),B(this,"emit",()=>{if(this.frozen||this.locked)return;const e=[],n=new Set,r=new _q,i=l=>{let u=l,c=Af;for(;c===Af;)u=u&&u.nextSibling,c=u&&this.mirror.getId(u);return c},a=l=>{const u=ke.parentNode(l);if(!u||!m9(l))return;let c=!1;if(l.nodeType===Node.TEXT_NODE){const v=u.tagName;if(v==="TEXTAREA")return;v==="STYLE"&&this.addedSet.has(u)&&(c=!0)}const d=Xh(u)?this.mirror.getId(p9(l)):this.mirror.getId(u),f=i(l);if(d===-1||f===-1)return r.addNode(l);const p=ju(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,inlineVideos:this.inlineVideos,privacySetting:this.privacySetting,onSerialize:v=>{h9(v,this.mirror)&&this.iframeManager.addIframe(v),f9(v,this.mirror)&&this.stylesheetManager.trackLinkElement(v),Jx(l)&&this.shadowDomManager.addShadowRoot(ke.shadowRoot(l),this.doc)},onIframeLoad:(v,m)=>{this.iframeManager.attachIframe(v,m),this.shadowDomManager.observeAttachShadow(v)},onStylesheetLoad:(v,m)=>{this.stylesheetManager.attachLinkElement(v,m)},cssCaptured:c});p&&(e.push({parentId:d,nextId:f,node:p}),n.add(p.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)vI(this.removesSubTreeCache,l)&&!this.movedSet.has(ke.parentNode(l))||a(l);for(const l of this.addedSet)!bI(this.droppedSet,l)&&!vI(this.removesSubTreeCache,l)||bI(this.movedSet,l)?a(l):this.droppedSet.add(l);let s=null;for(;r.length;){let l=null;if(s){const u=this.mirror.getId(ke.parentNode(s.value)),c=i(s.value);u!==-1&&c!==-1&&(l=s)}if(!l){let u=r.tail;for(;u;){const c=u;if(u=u.previous,c){const d=this.mirror.getId(ke.parentNode(c.value));if(i(c.value)===-1)continue;if(d!==-1){l=c;break}else{const f=c.value,p=ke.parentNode(f);if(p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const v=ke.host(p);if(this.mirror.getId(v)!==-1){l=c;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}s=l.previous,r.removeNode(l.value),a(l.value)}const o={texts:this.texts.map(l=>{var u,c;const d=l.node,f=ke.parentNode(d);f&&f.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(f);let p=l.value;const v=this.privacySetting==="strict",m=this.privacySetting==="default"&&VU(p),S=(c=(u=l.node)==null?void 0:u.parentElement)==null?void 0:c.getAttribute("data-hl-record");return(v||m)&&!S&&p&&(p=$C(p)),{id:this.mirror.getId(d),value:p}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:u}=l;if(typeof u.style=="string"){const c=JSON.stringify(l.styleDiff),d=JSON.stringify(l._unchangedStyles);c.length<u.style.length&&(c+d).split("var(").length===u.style.split("var(").length&&(u.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:u}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:e};!o.texts.length&&!o.attributes.length&&!o.removes.length&&!o.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb(o))}),B(this,"genTextAreaValueMutation",e=>{let n=this.attributeMap.get(e);n||(n={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(n),this.attributeMap.set(e,n));const r=Array.from(ke.childNodes(e),i=>ke.textContent(i)||"").join("");n.attributes.value=Ty({overwriteRecord:null,element:e,maskInputOptions:this.maskInputOptions,tagName:e.tagName,type:Ry(e),value:r,maskInputFn:this.maskInputFn})}),B(this,"processMutation",e=>{if(!J1(e.target,this.mirror,this.slimDOMOptions))switch(e.type){case"characterData":{const n=ke.textContent(e.target);!pn(e.target,this.blockClass,this.blockSelector,!1)&&n!==e.oldValue&&this.texts.push({value:UU(e.target,this.maskTextClass,this.maskTextSelector,!0)&&n?this.maskTextFn?this.maskTextFn(n,c9(e.target)):n.replace(/[\S]/g,"*"):n,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,i=e.target.getAttribute(r);if(r==="value"){const s=Ry(n);i=Ty({element:n,maskInputOptions:this.maskInputOptions,tagName:n.tagName,type:s,value:i,overwriteRecord:n.getAttribute("data-hl-record"),maskInputFn:this.maskInputFn})}if(pn(e.target,this.blockClass,this.blockSelector,!1)||i===e.oldValue)return;let a=this.attributeMap.get(e.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!n.contentDocument)r="rr_src";else return;if(a||(a={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(a),this.attributeMap.set(e.target,a)),r==="type"&&n.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!XU(n.tagName,r)){if(e.target.tagName==="INPUT"){const s=e.target;if(s.type==="password"){a.attributes.value="*".repeat(s.value.length);break}}if(a.attributes[r]=MU(this.doc,zc(n.tagName),zc(r),i),r==="style"){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const s=this.unattachedDoc.createElement("span");e.oldValue&&s.setAttribute("style",e.oldValue);for(const o of Array.from(n.style)){const l=n.style.getPropertyValue(o),u=n.style.getPropertyPriority(o);l!==s.style.getPropertyValue(o)||u!==s.style.getPropertyPriority(o)?u===""?a.styleDiff[o]=l:a.styleDiff[o]=[l,u]:a._unchangedStyles[o]=[l,u]}for(const o of Array.from(s.style))n.style.getPropertyValue(o)===""&&(a.styleDiff[o]=!1)}else r==="open"&&n.tagName==="DIALOG"&&(n.matches("dialog:modal")?a.attributes.rr_open_mode="modal":a.attributes.rr_open_mode="non-modal")}break}case"childList":{if(pn(e.target,this.blockClass,this.blockSelector,!0))return;if(e.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(e.target);return}e.addedNodes.forEach(n=>this.genAdds(n,e.target)),e.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=Xh(e.target)?this.mirror.getId(ke.host(e.target)):this.mirror.getId(e.target);pn(e.target,this.blockClass,this.blockSelector,!1)||J1(n,this.mirror,this.slimDOMOptions)||!bq(n,this.mirror)||(this.addedSet.has(n)?($x(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(e.target)&&r===-1||d9(e.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[yI(r,i)]?$x(this.movedSet,n):(this.removes.push({parentId:i,id:r,isShadow:Xh(e.target)&&Uh(e.target)?!0:void 0}),kq(n,this.removesSubTreeCache))),this.mapRemoves.push(n))});break}}}),B(this,"genAdds",(e,n)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(J1(e,this.mirror,this.slimDOMOptions))return;this.movedSet.add(e);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[yI(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);pn(e,this.blockClass,this.blockSelector,!1)||(ke.childNodes(e).forEach(r=>this.genAdds(r)),Jx(e)&&ke.childNodes(ke.shadowRoot(e)).forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,e)}))}})}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","inlineVideos","privacySetting","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=e[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function $x(t,e){t.delete(e),ke.childNodes(e).forEach(n=>$x(t,n))}function kq(t,e){const n=[t];for(;n.length;){const r=n.pop();e.has(r)||(e.add(r),ke.childNodes(r).forEach(i=>n.push(i)))}}function vI(t,e,n){return t.size===0?!1:Tq(t,e)}function Tq(t,e,n){const r=ke.parentNode(e);return r?t.has(r):!1}function bI(t,e){return t.size===0?!1:y9(t,e)}function y9(t,e){const n=ke.parentNode(e);return n?t.has(n)?!0:y9(t,n):!1}let Wh;function Rq(t){Wh=t}function Nq(){Wh=void 0}const Ve=t=>Wh?(...e)=>{try{return t(...e)}catch(n){if(Wh&&Wh(n)===!0)return;throw n}}:t,Mo=[];function Xp(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function v9(t,e){const n=new Cq;Mo.push(n),n.init(t);const r=new(s9())(Ve(n.processMutations.bind(n)));return r.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),r}function Oq({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(e.mousemove===!1)return()=>{};const i=typeof e.mousemove=="number"?e.mousemove:50,a=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let s=[],o;const l=Bf(Ve(d=>{const f=Date.now()-o;t(s.map(p=>(p.timeOffset-=f,p)),d),s=[],o=null}),a),u=Ve(Bf(Ve(d=>{const f=Xp(d),{clientX:p,clientY:v}=Yx(d)?d.changedTouches[0]:d;o||(o=Wy()),s.push({x:p,y:v,id:r.getId(f),timeOffset:Wy()-o}),l(typeof DragEvent<"u"&&d instanceof DragEvent?Ne.Drag:d instanceof MouseEvent?Ne.MouseMove:Ne.TouchMove)}),i,{trailing:!1})),c=[Rn("mousemove",u,n),Rn("touchmove",u,n),Rn("drag",u,n)];return Ve(()=>{c.forEach(d=>d())})}function Iq({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,sampling:a}){if(a.mouseInteraction===!1)return()=>{};const s=a.mouseInteraction===!0||a.mouseInteraction===void 0?{}:a.mouseInteraction,o=[];let l=null;const u=c=>d=>{const f=Xp(d);if(pn(f,r,i,!0)||vq(f))return;let p=null,v=c;if("pointerType"in d){switch(d.pointerType){case"mouse":p=$a.Mouse;break;case"touch":p=$a.Touch;break;case"pen":p=$a.Pen;break}p===$a.Touch&&(Un[c]===Un.MouseDown?v="TouchStart":Un[c]===Un.MouseUp&&(v="TouchEnd"))}else Yx(d)&&(p=$a.Touch);p!==null?(l=p,(v.startsWith("Touch")&&p===$a.Touch||v.startsWith("Mouse")&&p===$a.Mouse)&&(p=null)):Un[c]===Un.Click&&(p=l,l=null);const m=Yx(d)?d.changedTouches[0]:d;if(!m)return;const S=n.getId(f),{clientX:y,clientY:g}=m;Ve(t)(Oe({type:Un[v],id:S,x:y,y:g},p!==null&&{pointerType:p}))};return Object.keys(Un).filter(c=>Number.isNaN(Number(c))&&!c.endsWith("_Departed")&&s[c]!==!1).forEach(c=>{let d=zc(c);const f=u(c);if(window.PointerEvent)switch(Un[c]){case Un.MouseDown:case Un.MouseUp:d=d.replace("mouse","pointer");break;case Un.TouchStart:case Un.TouchEnd:return}o.push(Rn(d,f,e))}),Ve(()=>{o.forEach(c=>c())})}function b9({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,sampling:a}){const s=Ve(Bf(Ve(o=>{const l=Xp(o);if(!l||pn(l,r,i,!0))return;const u=n.getId(l);if(l===e&&e.defaultView){const c=o9(e.defaultView);t({id:u,x:c.left,y:c.top})}else t({id:u,x:l.scrollLeft,y:l.scrollTop})}),a.scroll||100));return Rn("scroll",s,e)}function Lq({viewportResizeCb:t},{win:e}){let n=-1,r=-1;const i=Ve(Bf(Ve(()=>{const a=l9(),s=u9();(n!==a||r!==s)&&(t({width:Number(s),height:Number(a)}),n=a,r=s)}),200));return Rn("resize",i,e)}const Zq=["INPUT","TEXTAREA","SELECT"],wI=new WeakMap;function Vq({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,ignoreClass:a,ignoreSelector:s,maskInputOptions:o,maskInputFn:l,sampling:u,userTriggeredOnInput:c}){function d(y){let g=Xp(y);const b=y.isTrusted,w=g&&g.tagName;if(g&&w==="OPTION"&&(g=ke.parentElement(g)),!g||!w||Zq.indexOf(w)<0||pn(g,r,i,!0)||g.classList.contains(a)||s&&g.matches(s))return;let E=g.value,_=!1;const C=Ry(g)||"",k=g.getAttribute("data-hl-record");C==="radio"||C==="checkbox"?_=g.checked:GU({maskInputOptions:o,type:C,tagName:w,overwriteRecord:k})&&(E=Ty({element:g,maskInputOptions:o,tagName:w,type:C,value:E,overwriteRecord:k,maskInputFn:l})),f(g,c?{text:E,isChecked:_,userTriggered:b}:{text:E,isChecked:_});const x=g.name;C==="radio"&&x&&_&&e.querySelectorAll(`input[type="radio"][name="${x}"]`).forEach(T=>{if(T!==g){const A=T.value;f(T,c?{text:A,isChecked:!_,userTriggered:!1}:{text:A,isChecked:!_})}})}function f(y,g){const b=wI.get(y);if(!b||b.text!==g.text||b.isChecked!==g.isChecked){wI.set(y,g);const w=n.getId(y);Ve(t)(mi(Oe({},g),{id:w}))}}const p=(u.input==="last"?["change"]:["input","change"]).map(y=>Rn(y,Ve(d),e)),v=e.defaultView;if(!v)return()=>{p.forEach(y=>y())};const m=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),S=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return m&&m.set&&p.push(...S.map(y=>ab(y[0],y[1],{set(){Ve(d)({target:this,isTrusted:!1})}},!1,v))),Ve(()=>{p.forEach(y=>y())})}function Py(t){const e=[];function n(r,i){if($m("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||$m("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||$m("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||$m("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const a=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(a)}else if(r.parentStyleSheet){const a=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(a)}return i}return n(t,e)}function rs(t,e,n){let r,i;return t?(t.ownerNode?r=e.getId(t.ownerNode):i=n.getId(t),{styleId:i,id:r}):{}}function Gq({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Ve((c,d,f)=>{const[p,v]=f,{id:m,styleId:S}=rs(d,e,n.styleMirror);return(m&&m!==-1||S&&S!==-1)&&t({id:m,styleId:S,adds:[{rule:p,index:v}]}),c.apply(d,f)})}),r.CSSStyleSheet.prototype.addRule=function(c,d,f=this.cssRules.length){const p=`${c} { ${d} }`;return r.CSSStyleSheet.prototype.insertRule.apply(this,[p,f])};const a=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:Ve((c,d,f)=>{const[p]=f,{id:v,styleId:m}=rs(d,e,n.styleMirror);return(v&&v!==-1||m&&m!==-1)&&t({id:v,styleId:m,removes:[{index:p}]}),c.apply(d,f)})}),r.CSSStyleSheet.prototype.removeRule=function(c){return r.CSSStyleSheet.prototype.deleteRule.apply(this,[c])};let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Ve((c,d,f)=>{const[p]=f,{id:v,styleId:m}=rs(d,e,n.styleMirror);return(v&&v!==-1||m&&m!==-1)&&t({id:v,styleId:m,replace:p}),c.apply(d,f)})}));let o;r.CSSStyleSheet.prototype.replaceSync&&(o=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(o,{apply:Ve((c,d,f)=>{const[p]=f,{id:v,styleId:m}=rs(d,e,n.styleMirror);return(v&&v!==-1||m&&m!==-1)&&t({id:v,styleId:m,replaceSync:p}),c.apply(d,f)})}));const l={};Km("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(Km("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),Km("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),Km("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(l).forEach(([c,d])=>{u[c]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[c].insertRule,{apply:Ve((f,p,v)=>{const[m,S]=v,{id:y,styleId:g}=rs(p.parentStyleSheet,e,n.styleMirror);return(y&&y!==-1||g&&g!==-1)&&t({id:y,styleId:g,adds:[{rule:m,index:[...Py(p),S||0]}]}),f.apply(p,v)})}),d.prototype.deleteRule=new Proxy(u[c].deleteRule,{apply:Ve((f,p,v)=>{const[m]=v,{id:S,styleId:y}=rs(p.parentStyleSheet,e,n.styleMirror);return(S&&S!==-1||y&&y!==-1)&&t({id:S,styleId:y,removes:[{index:[...Py(p),m]}]}),f.apply(p,v)})})}),Ve(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=a,s&&(r.CSSStyleSheet.prototype.replace=s),o&&(r.CSSStyleSheet.prototype.replaceSync=o),Object.entries(l).forEach(([c,d])=>{d.prototype.insertRule=u[c].insertRule,d.prototype.deleteRule=u[c].deleteRule})})}function w9({mirror:t,stylesheetManager:e},n){var r,i,a;let s=null;n.nodeName==="#document"?s=t.getId(n):s=t.getId(ke.host(n));const o=n.nodeName==="#document"?(r=n.defaultView)==null?void 0:r.Document:(a=(i=n.ownerDocument)==null?void 0:i.defaultView)==null?void 0:a.ShadowRoot,l=o!=null&&o.prototype?Object.getOwnPropertyDescriptor(o==null?void 0:o.prototype,"adoptedStyleSheets"):void 0;return s===null||s===-1||!o||!l?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var u;return(u=l.get)==null?void 0:u.call(this)},set(u){var c;const d=(c=l.set)==null?void 0:c.call(this,u);if(s!==null&&s!==-1)try{e.adoptStyleSheets(u,s)}catch{}return d}}),Ve(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))}function Aq({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const a=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:Ve((o,l,u)=>{var c;const[d,f,p]=u;if(n.has(d))return a.apply(l,[d,f,p]);const{id:v,styleId:m}=rs((c=l.parentRule)==null?void 0:c.parentStyleSheet,e,r.styleMirror);return(v&&v!==-1||m&&m!==-1)&&t({id:v,styleId:m,set:{property:d,value:f,priority:p},index:Py(l.parentRule)}),o.apply(l,u)})});const s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:Ve((o,l,u)=>{var c;const[d]=u;if(n.has(d))return s.apply(l,[d]);const{id:f,styleId:p}=rs((c=l.parentRule)==null?void 0:c.parentStyleSheet,e,r.styleMirror);return(f&&f!==-1||p&&p!==-1)&&t({id:f,styleId:p,remove:{property:d},index:Py(l.parentRule)}),o.apply(l,u)})}),Ve(()=>{i.CSSStyleDeclaration.prototype.setProperty=a,i.CSSStyleDeclaration.prototype.removeProperty=s})}function Mq({mediaInteractionCb:t,blockClass:e,blockSelector:n,mirror:r,sampling:i,doc:a}){const s=Ve(l=>Bf(Ve(u=>{const c=Xp(u);if(!c||pn(c,e,n,!0))return;const{currentTime:d,volume:f,muted:p,playbackRate:v,loop:m}=c;t({type:l,id:r.getId(c),currentTime:d,volume:f,muted:p,playbackRate:v,loop:m})}),i.media||500)),o=[Rn("play",s(pu.Play),a),Rn("pause",s(pu.Pause),a),Rn("seeked",s(pu.Seeked),a),Rn("volumechange",s(pu.VolumeChange),a),Rn("ratechange",s(pu.RateChange),a)];return Ve(()=>{o.forEach(l=>l())})}function Xq({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,a=n.FontFace;n.FontFace=function(o,l,u){const c=new a(o,l,u);return i.set(c,{family:o,buffer:typeof l!="string",descriptors:u,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),c};const s=Wl(e.fonts,"add",function(o){return function(l){return setTimeout(Ve(()=>{const u=i.get(l);u&&(t(u),i.delete(l))}),0),o.apply(this,[l])}});return r.push(()=>{n.FontFace=a}),r.push(s),Ve(()=>{r.forEach(o=>o())})}function Uq(t){const{doc:e,mirror:n,blockClass:r,blockSelector:i,selectionCb:a}=t;let s=!0;const o=Ve(()=>{const l=e.getSelection();if(!l||s&&l!=null&&l.isCollapsed)return;s=l.isCollapsed||!1;const u=[],c=l.rangeCount||0;for(let d=0;d<c;d++){const f=l.getRangeAt(d),{startContainer:p,startOffset:v,endContainer:m,endOffset:S}=f;pn(p,r,i,!0)||pn(m,r,i,!0)||u.push({start:n.getId(p),startOffset:v,end:n.getId(m),endOffset:S})}a({ranges:u})});return o(),Rn("selectionchange",o)}function Wq({doc:t,customElementCb:e}){const n=t.defaultView;return!n||!n.customElements?()=>{}:Wl(n.customElements,"define",function(r){return function(i,a,s){try{e({define:{name:i}})}catch{console.warn(`Custom element callback failed for ${i}`)}return r.apply(this,[i,a,s])}})}function Pq(t,e){const{mutationCb:n,mousemoveCb:r,mouseInteractionCb:i,scrollCb:a,viewportResizeCb:s,inputCb:o,mediaInteractionCb:l,styleSheetRuleCb:u,styleDeclarationCb:c,canvasMutationCb:d,fontCb:f,selectionCb:p,customElementCb:v}=t;t.mutationCb=(...m)=>{e.mutation&&e.mutation(...m),n(...m)},t.mousemoveCb=(...m)=>{e.mousemove&&e.mousemove(...m),r(...m)},t.mouseInteractionCb=(...m)=>{e.mouseInteraction&&e.mouseInteraction(...m),i(...m)},t.scrollCb=(...m)=>{e.scroll&&e.scroll(...m),a(...m)},t.viewportResizeCb=(...m)=>{e.viewportResize&&e.viewportResize(...m),s(...m)},t.inputCb=(...m)=>{e.input&&e.input(...m),o(...m)},t.mediaInteractionCb=(...m)=>{e.mediaInteaction&&e.mediaInteaction(...m),l(...m)},t.styleSheetRuleCb=(...m)=>{e.styleSheetRule&&e.styleSheetRule(...m),u(...m)},t.styleDeclarationCb=(...m)=>{e.styleDeclaration&&e.styleDeclaration(...m),c(...m)},t.canvasMutationCb=(...m)=>{e.canvasMutation&&e.canvasMutation(...m),d(...m)},t.fontCb=(...m)=>{e.font&&e.font(...m),f(...m)},t.selectionCb=(...m)=>{e.selection&&e.selection(...m),p(...m)},t.customElementCb=(...m)=>{e.customElement&&e.customElement(...m),v(...m)}}function zq(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};Pq(t,e);let r;t.recordDOM&&(r=v9(t,t.doc));const i=Oq(t),a=Iq(t),s=b9(t),o=Lq(t,{win:n}),l=Vq(t),u=Mq(t);let c=()=>{},d=()=>{},f=()=>{},p=()=>{};t.recordDOM&&(c=Gq(t,{win:n}),d=w9(t,t.doc),f=Aq(t,{win:n}),t.collectFonts&&(p=Xq(t)));const v=Uq(t),m=Wq(t),S=[];for(const y of t.plugins)S.push(y.observer(y.callback,n,y.options));return Ve(()=>{Mo.forEach(y=>y.reset()),r==null||r.disconnect(),i(),a(),s(),o(),l(),u(),c(),d(),f(),p(),v(),m(),S.forEach(y=>y())})}function $m(t){return typeof window[t]<"u"}function Km(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}let SI=class{constructor(e){B(this,"iframeIdToRemoteIdMap",new WeakMap),B(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e}getId(e,n,r,i){const a=r||this.getIdToRemoteIdMap(e),s=i||this.getRemoteIdToIdMap(e);let o=a.get(n);return o||(o=this.generateIdFn(),a.set(n,o),s.set(o,n)),o}getIds(e,n){const r=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return n.map(a=>this.getId(e,a,r,i))}getRemoteId(e,n,r){const i=r||this.getRemoteIdToIdMap(e);return typeof n!="number"?n:i.get(n)||-1}getRemoteIds(e,n){const r=this.getRemoteIdToIdMap(e);return n.map(i=>this.getRemoteId(e,i,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let n=this.iframeIdToRemoteIdMap.get(e);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(e,n)),n}getRemoteIdToIdMap(e){let n=this.iframeRemoteIdToIdMap.get(e);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(e,n)),n}};class Dq{constructor(e){B(this,"iframes",new WeakMap),B(this,"crossOriginIframeMap",new WeakMap),B(this,"crossOriginIframeMirror",new SI(AU)),B(this,"crossOriginIframeStyleMirror"),B(this,"crossOriginIframeRootIdMap",new WeakMap),B(this,"mirror"),B(this,"mutationCb"),B(this,"wrappedEmit"),B(this,"loadListener"),B(this,"stylesheetManager"),B(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new SI(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,n){var r,i;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((r=e.contentWindow)==null||r.addEventListener("message",this.handleMessage.bind(this))),(i=this.loadListener)==null||i.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const n=e;if(n.data.type!=="rrweb"||n.origin!==n.data.origin)return;const r=e.source;if(!r)return;const i=this.crossOriginIframeMap.get(r);if(!i)return;const a=this.transformCrossOriginEvent(i,n.data.event);a&&this.wrappedEmit(a,n.data.isCheckout)}transformCrossOriginEvent(e,n){var r;switch(n.type){case Ae.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(n.data.node,e);const i=n.data.node.id;return this.crossOriginIframeRootIdMap.set(e,i),this.patchRootIdOnNode(n.data.node,i),{timestamp:n.timestamp,type:Ae.IncrementalSnapshot,data:{source:Ne.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ae.Meta:case Ae.Load:case Ae.DomContentLoaded:return!1;case Ae.Plugin:return n;case Ae.Custom:return this.replaceIds(n.data.payload,e,["id","parentId","previousId","nextId"]),n;case Ae.IncrementalSnapshot:switch(n.data.source){case Ne.Mutation:return n.data.adds.forEach(i=>{this.replaceIds(i,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,e);const a=this.crossOriginIframeRootIdMap.get(e);a&&this.patchRootIdOnNode(i.node,a)}),n.data.removes.forEach(i=>{this.replaceIds(i,e,["parentId","id"])}),n.data.attributes.forEach(i=>{this.replaceIds(i,e,["id"])}),n.data.texts.forEach(i=>{this.replaceIds(i,e,["id"])}),n;case Ne.Drag:case Ne.TouchMove:case Ne.MouseMove:return n.data.positions.forEach(i=>{this.replaceIds(i,e,["id"])}),n;case Ne.ViewportResize:return!1;case Ne.MediaInteraction:case Ne.MouseInteraction:case Ne.Scroll:case Ne.CanvasMutation:case Ne.Input:return this.replaceIds(n.data,e,["id"]),n;case Ne.StyleSheetRule:case Ne.StyleDeclaration:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleId"]),n;case Ne.Font:return n;case Ne.Selection:return n.data.ranges.forEach(i=>{this.replaceIds(i,e,["start","end"])}),n;case Ne.AdoptedStyleSheet:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleIds"]),(r=n.data.styles)==null||r.forEach(i=>{this.replaceStyleIds(i,e,["styleId"])}),n}}return!1}replace(e,n,r,i){for(const a of i)!Array.isArray(n[a])&&typeof n[a]!="number"||(Array.isArray(n[a])?n[a]=e.getIds(r,n[a]):n[a]=e.getId(r,n[a]));return n}replaceIds(e,n,r){return this.replace(this.crossOriginIframeMirror,e,n,r)}replaceStyleIds(e,n,r){return this.replace(this.crossOriginIframeStyleMirror,e,n,r)}replaceIdOnNode(e,n){this.replaceIds(e,n,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(e,n){e.type!==g9.Document&&!e.rootId&&(e.rootId=n),"childNodes"in e&&e.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class jq{constructor(e){B(this,"shadowDoms",new WeakSet),B(this,"mutationCb"),B(this,"scrollCb"),B(this,"bypassOptions"),B(this,"mirror"),B(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,n){if(!Uh(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);const r=v9(mi(Oe({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(b9(mi(Oe({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(ke.host(e))),this.restoreHandlers.push(w9({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,n){const r=this;this.restoreHandlers.push(Wl(e.prototype,"attachShadow",function(i){return function(a){const s=i.call(this,a),o=ke.shadowRoot(this);return o&&m9(this)&&r.addShadowRoot(o,n),s}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}var Bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bq=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qm=0;Qm<Bu.length;Qm++)Bq[Bu.charCodeAt(Qm)]=Qm;var Fq=function(t){var e=new Uint8Array(t),n,r=e.length,i="";for(n=0;n<r;n+=3)i+=Bu[e[n]>>2],i+=Bu[(e[n]&3)<<4|e[n+1]>>4],i+=Bu[(e[n+1]&15)<<2|e[n+2]>>6],i+=Bu[e[n+2]&63];return r%3===2?i=i.substring(0,i.length-1)+"=":r%3===1&&(i=i.substring(0,i.length-2)+"=="),i};const EI=new Map;function Hq(t,e){let n=EI.get(t);return n||(n=new Map,EI.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}const S9=(t,e,n)=>{if(!t||!(x9(t,e)||typeof t=="object"))return;const r=t.constructor.name,i=Hq(n,r);let a=i.indexOf(t);return a===-1&&(a=i.length,i.push(t)),a};function o0(t,e,n){if(t instanceof Array)return t.map(r=>o0(r,e,n));if(t===null)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray)return{rr_type:t.constructor.name,args:[Object.values(t)]};if(t instanceof ArrayBuffer){const r=t.constructor.name,i=Fq(t);return{rr_type:r,base64:i}}else{if(t instanceof DataView)return{rr_type:t.constructor.name,args:[o0(t.buffer,e,n),t.byteOffset,t.byteLength]};if(t instanceof HTMLImageElement){const r=t.constructor.name,{src:i}=t;return{rr_type:r,src:i}}else if(t instanceof HTMLCanvasElement){const r="HTMLImageElement",i=t.toDataURL();return{rr_type:r,src:i}}else{if(t instanceof ImageData)return{rr_type:t.constructor.name,args:[o0(t.data,e,n),t.width,t.height]};if(x9(t,e)||typeof t=="object"){const r=t.constructor.name,i=S9(t,e,n);return{rr_type:r,index:i}}}}return t}const E9=(t,e,n)=>t.map(r=>o0(r,e,n)),x9=(t,e)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(n=>typeof e[n]=="function").find(n=>t instanceof e[n]);function Yq(t,e,n,r){const i=[],a=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const s of a)try{if(typeof e.CanvasRenderingContext2D.prototype[s]!="function")continue;const o=Wl(e.CanvasRenderingContext2D.prototype,s,function(l){return function(...u){return pn(this.canvas,n,r,!0)||setTimeout(()=>{const c=E9(u,e,this);t(this.canvas,{type:Jc["2D"],property:s,args:c})},0),l.apply(this,u)}});i.push(o)}catch{const l=ab(e.CanvasRenderingContext2D.prototype,s,{set(u){t(this.canvas,{type:Jc["2D"],property:s,args:[u],setter:!0})}});i.push(l)}return()=>{i.forEach(s=>s())}}function Jq(t){return t==="experimental-webgl"?"webgl":t}function xI(t,e,n,r){const i=[];try{const a=Wl(t.HTMLCanvasElement.prototype,"getContext",function(s){return function(o,...l){if(!pn(this,e,n,!0)){const u=Jq(o);if("__context"in this||(this.__context=u),r&&["webgl","webgl2"].includes(u))if(l[0]&&typeof l[0]=="object"){const c=l[0];c.preserveDrawingBuffer||(c.preserveDrawingBuffer=!0)}else l.splice(0,1,{preserveDrawingBuffer:!0})}return s.apply(this,[o,...l])}});i.push(a)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(a=>a())}}function _I(t,e,n,r,i,a){const s=[],o=Object.getOwnPropertyNames(t);for(const l of o)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if(typeof t[l]!="function")continue;const u=Wl(t,l,function(c){return function(...d){const f=c.apply(this,d);if(S9(f,a,this),"tagName"in this.canvas&&!pn(this.canvas,r,i,!0)){const p=E9(d,a,this),v={type:e,property:l,args:p};n(this.canvas,v)}return f}});s.push(u)}catch{const c=ab(t,l,{set(d){n(this.canvas,{type:e,property:l,args:[d],setter:!0})}});s.push(c)}return s}function $q(t,e,n,r){const i=[];return i.push(..._I(e.WebGLRenderingContext.prototype,Jc.WebGL,t,n,r,e)),typeof e.WebGL2RenderingContext<"u"&&i.push(..._I(e.WebGL2RenderingContext.prototype,Jc.WebGL2,t,n,r,e)),()=>{i.forEach(a=>a())}}const _9="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIGxldCBsb2dEZWJ1ZyA9IGZhbHNlOwogIGNvbnN0IGRlYnVnID0gKC4uLmFyZ3MpID0+IHsKICAgIGlmIChsb2dEZWJ1ZykgewogICAgICBjb25zb2xlLmRlYnVnKC4uLmFyZ3MpOwogICAgfQogIH07CiAgd29ya2VyLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGUpIHsKICAgIGxvZ0RlYnVnID0gISFlLmRhdGEubG9nRGVidWc7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGR4LCBkeSwgZHcsIGRoLCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOwogICAgICBjb25zdCB0cmFuc3BhcmVudEJhc2U2NCA9IGdldFRyYW5zcGFyZW50QmxvYkZvcigKICAgICAgICB3aWR0aCwKICAgICAgICBoZWlnaHQsCiAgICAgICAgZGF0YVVSTE9wdGlvbnMKICAgICAgKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgY29uc3QgY3R4ID0gb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgYml0bWFwLmNsb3NlKCk7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgYXdhaXQgdHJhbnNwYXJlbnRCYXNlNjQgPT09IGJhc2U2NCkgewogICAgICAgIGRlYnVnKCJbaGlnaGxpZ2h0LXdvcmtlcl0gY2FudmFzIGJpdG1hcCBpcyB0cmFuc3BhcmVudCIsIHsKICAgICAgICAgIGlkLAogICAgICAgICAgYmFzZTY0CiAgICAgICAgfSk7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCwgc3RhdHVzOiAidHJhbnNwYXJlbnQiIH0pOwogICAgICB9CiAgICAgIGlmIChsYXN0QmxvYk1hcC5nZXQoaWQpID09PSBiYXNlNjQpIHsKICAgICAgICBkZWJ1ZygiW2hpZ2hsaWdodC13b3JrZXJdIGNhbnZhcyBiaXRtYXAgaXMgdW5jaGFuZ2VkIiwgewogICAgICAgICAgaWQsCiAgICAgICAgICBiYXNlNjQKICAgICAgICB9KTsKICAgICAgfQogICAgICBjb25zdCBtc2cgPSB7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0LAogICAgICAgIGR4LAogICAgICAgIGR5LAogICAgICAgIGR3LAogICAgICAgIGRoCiAgICAgIH07CiAgICAgIGRlYnVnKCJbaGlnaGxpZ2h0LXdvcmtlcl0gY2FudmFzIGJpdG1hcCBwcm9jZXNzZWQiLCBtc2cpOwogICAgICB3b3JrZXIucG9zdE1lc3NhZ2UobXNnKTsKICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgfSBlbHNlIHsKICAgICAgZGVidWcoIltoaWdobGlnaHQtd29ya2VyXSBubyBvZmZzY3JlZW5jYW52YXMgc3VwcG9ydCIsIHsKICAgICAgICBpZDogZS5kYXRhLmlkCiAgICAgIH0pOwogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCwgc3RhdHVzOiAidW5zdXBwb3J0ZWQiIH0pOwogICAgfQogIH07Cn0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWltYWdlLWJpdG1hcC1kYXRhLXVybC13b3JrZXItRHd0SzhBMHouanMubWFwCg==",Kq=t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0)),CI=typeof self<"u"&&self.Blob&&new Blob([Kq(_9)],{type:"text/javascript;charset=utf-8"});function Qq(t){let e;try{if(e=CI&&(self.URL||self.webkitURL).createObjectURL(CI),!e)throw"";const n=new Worker(e,{name:t==null?void 0:t.name});return n.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),n}catch{return new Worker("data:text/javascript;base64,"+_9,{name:t==null?void 0:t.name})}finally{e&&(self.URL||self.webkitURL).revokeObjectURL(e)}}class qq{constructor(e){B(this,"pendingCanvasMutations",new Map),B(this,"rafStamps",{latestId:0,invokeId:null}),B(this,"mirror"),B(this,"logger"),B(this,"worker"),B(this,"snapshotInProgressMap",new Map),B(this,"lastSnapshotTime",new Map),B(this,"options"),B(this,"mutationCb"),B(this,"resetObservers"),B(this,"frozen",!1),B(this,"locked",!1),B(this,"processMutation",(d,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(f)});const{sampling:n,win:r,blockClass:i,blockSelector:a,recordCanvas:s,recordLocalVideos:o,recordRemoteVideos:l,initialSnapshotDelay:u,dataURLOptions:c}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.logger=e.logger,this.worker=new Qq,this.worker.onmessage=d=>{const{id:f}=d.data;if(this.snapshotInProgressMap.set(f,!1),!("base64"in d.data)){this.debug(null,"canvas worker received empty message",{id:f,data:d.data,status:d.data.status});return}const{base64:p,type:v,dx:m,dy:S,dw:y,dh:g}=d.data,b={id:f,type:Jc["2D"],commands:[{property:"clearRect",args:[m,S,y,g]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:p}],type:v}]},m,S,y,g]}]};this.debug(null,"canvas worker recording mutation",b),this.mutationCb(b)},this.options=e,s&&n==="all"?(this.debug(null,"initializing canvas mutation observer",{sampling:n}),this.initCanvasMutationObserver(r,i,a)):s&&typeof n=="number"&&(this.debug(null,"initializing canvas fps observer",{sampling:n}),this.initCanvasFPSObserver(o,l,n,r,i,a,{initialSnapshotDelay:u,dataURLOptions:c},e.resizeFactor,e.maxSnapshotDimension))}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}debug(e,...n){if(!this.logger)return;const r=this.mirror.getId(e);let i="[highlight-canvas-manager]";e&&(i=`[highlight-canvas] [id:${r}]`,e.tagName.toLowerCase()==="canvas"&&(i+=` [ctx:${e.__context}]`)),this.logger.debug(i,e,...n)}snapshot(e){return al(this,null,function*(){var n;const r=this.mirror.getId(e);if(this.snapshotInProgressMap.get(r)){this.debug(e,"snapshotting already in progress for",r);return}const i=1e3/(typeof this.options.samplingManual=="number"?this.options.samplingManual:1),a=this.lastSnapshotTime.get(r);if(!(a&&new Date().getTime()-a<i)){if(this.debug(e,"starting snapshotting"),e.width===0||e.height===0){this.debug(e,"not yet ready",{width:e.width,height:e.height});return}this.lastSnapshotTime.set(r,new Date().getTime()),this.snapshotInProgressMap.set(r,!0);try{if(this.options.clearWebGLBuffer!==!1&&["webgl","webgl2"].includes(e.__context)){const c=e.getContext(e.__context);((n=c==null?void 0:c.getContextAttributes())==null?void 0:n.preserveDrawingBuffer)===!1&&(c.clear(c.COLOR_BUFFER_BIT),this.debug(e,"cleared webgl canvas to load it into memory",{attributes:c==null?void 0:c.getContextAttributes()}))}if(e.width===0||e.height===0){this.debug(e,"not yet ready",{width:e.width,height:e.height});return}let s=this.options.resizeFactor||1;if(this.options.maxSnapshotDimension){const c=Math.max(e.width,e.height);s=Math.min(s,this.options.maxSnapshotDimension/c)}const o=e.width*s,l=e.height*s,u=yield createImageBitmap(e,{resizeWidth:o,resizeHeight:l});this.debug(e,"created image bitmap",{width:u.width,height:u.height}),this.worker.postMessage({id:r,bitmap:u,width:o,height:l,dx:0,dy:0,dw:e.width,dh:e.height,dataURLOptions:this.options.dataURLOptions,logDebug:!!this.logger},[u]),this.debug(e,"sent message")}catch(s){this.debug(e,"failed to snapshot",s)}finally{this.snapshotInProgressMap.set(r,!1)}}})}initCanvasFPSObserver(e,n,r,i,a,s,o,l,u){const c=xI(i,a,s,!0),d=1e3/r;let f=0,p;const v=new Map,m=(b,w)=>{const E=[];b.querySelectorAll(w).forEach(k=>E.push(k));const _=document.createNodeIterator(b,Node.ELEMENT_NODE);let C;for(;C=_.nextNode();)C!=null&&C.shadowRoot&&E.push(...m(C.shadowRoot,w));return E},S=b=>{const w=[];return m(i.document,"canvas").forEach(E=>{if(!pn(E,a,s,!0)){this.debug(E,"discovered canvas"),w.push(E);const _=this.mirror.getId(E);v.has(_)||v.set(_,b)}}),w},y=b=>{const w=[];return(e||n)&&m(i.document,"video").forEach(E=>{if(!(!n&&E.src!==""&&E.src.indexOf("blob:")===-1)&&!(!e&&(E.src===""||E.src.indexOf("blob:")!==-1))&&!pn(E,a,s,!0)){w.push(E);const _=this.mirror.getId(E);v.has(_)||v.set(_,b)}}),w},g=b=>al(this,null,function*(){if(f&&b-f<d){p=requestAnimationFrame(g);return}f=b;const w=_=>{const C=this.mirror.getId(_),k=v.get(C),x=!o.initialSnapshotDelay||b-k>o.initialSnapshotDelay;return this.debug(_,{delay:o.initialSnapshotDelay,delta:b-k,hadLoadingTime:x}),x},E=[];E.push(...S(b).filter(w).map(_=>this.snapshot(_))),E.push(...y(b).filter(w).map(_=>al(this,null,function*(){this.debug(_,"starting video snapshotting");const C=this.mirror.getId(_);if(this.snapshotInProgressMap.get(C)){this.debug(_,"video snapshotting already in progress for",C);return}this.snapshotInProgressMap.set(C,!0);try{const{width:k,height:x}=_.getBoundingClientRect(),{actualWidth:T,actualHeight:A}={actualWidth:_.videoWidth,actualHeight:_.videoHeight},M=Math.max(T,A);if(M===0){this.debug(_,"not yet ready",{width:_.width,height:_.height,actualWidth:T,actualHeight:A,boxWidth:k,boxHeight:x});return}let z=l||1;u&&(z=Math.min(z,u/M));const N=T*z,I=A*z,O=yield createImageBitmap(_,{resizeWidth:N,resizeHeight:I}),X=Math.max(k,x)/M,L=T*X,G=A*X,V=(k-L)/2,P=(x-G)/2;this.debug(_,"created image bitmap",{actualWidth:T,actualHeight:A,boxWidth:k,boxHeight:x,outputWidth:L,outputHeight:G,resizeWidth:N,resizeHeight:I,scale:z,outputScale:X,offsetX:V,offsetY:P}),this.worker.postMessage({id:C,bitmap:O,width:N,height:I,dx:V,dy:P,dw:L,dh:G,dataURLOptions:o.dataURLOptions,logDebug:!!this.logger},[O]),this.debug(_,"send message")}catch(k){this.debug(_,"failed to snapshot",k)}finally{this.snapshotInProgressMap.set(C,!1)}}))),yield Promise.all(E).catch(console.error),p=requestAnimationFrame(g)});p=requestAnimationFrame(g),this.resetObservers=()=>{c(),p&&cancelAnimationFrame(p)}}initCanvasMutationObserver(e,n,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=xI(e,n,r,!1),a=Yq(this.processMutation.bind(this),e,n,r),s=$q(this.processMutation.bind(this),e,n,r);this.resetObservers=()=>{i(),a(),s()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const e=n=>{this.rafStamps.latestId=n,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(e);if(!r||n===-1)return;const i=r.map(s=>Gf(s,["type"])),{type:a}=r[0];this.mutationCb({id:n,type:a,commands:i}),this.pendingCanvasMutations.delete(e)}}class eee{constructor(e){B(this,"trackedLinkElements",new WeakSet),B(this,"mutationCb"),B(this,"adoptedStyleSheetCb"),B(this,"styleMirror",new Sq),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,n){if(e.length===0)return;const r={id:n,styleIds:[]},i=[];for(const a of e){let s;this.styleMirror.has(a)?s=this.styleMirror.getId(a):(s=this.styleMirror.add(a),i.push({styleId:s,rules:Array.from(a.rules||CSSRule,(o,l)=>({rule:IU(o,a.href),index:l}))})),r.styleIds.push(s)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class tee{constructor(){B(this,"nodeMap",new WeakMap),B(this,"active",!1)}inOtherBuffer(e,n){const r=this.nodeMap.get(e);return r&&Array.from(r).some(i=>i!==n)}add(e,n){this.active||(this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(n))}destroy(){}}let bt,l0,Ph,zy=!1;try{if(Array.from([1],t=>t*2)[0]!==2){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=((CO=t.contentWindow)==null?void 0:CO.Array.from)||Array.from,document.body.removeChild(t)}}catch(t){console.debug("Unable to override Array.from",t)}const ei=qK();function Ta(t={}){var e,n,r,i,a,s,o,l;const{emit:u,checkoutEveryNms:c,checkoutEveryNth:d,blockClass:f="highlight-block",blockSelector:p=null,ignoreClass:v="highlight-ignore",ignoreSelector:m=null,maskTextClass:S="highlight-mask",maskTextSelector:y=null,inlineStylesheet:g=!0,maskAllInputs:b,maskInputOptions:w,slimDOMOptions:E,maskInputFn:_,maskTextFn:C=$C,hooks:k,packFn:x,sampling:T={},mousemoveWait:A,recordDOM:M=!0,recordCanvas:z=!1,recordCrossOriginIframes:N=!1,recordAfter:I=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:O=!1,collectFonts:X=!1,inlineImages:L=!1,inlineVideos:G=!1,plugins:V,keepIframeSrcFn:P=()=>!1,privacySetting:F="default",ignoreCSSAttributes:ie=new Set([]),errorHandler:re,logger:ve}=t,ce=Oe(Oe({},t.dataURLOptions),(n=(e=t.sampling)==null?void 0:e.canvas)==null?void 0:n.dataURLOptions);Rq(re);const H=N?window.parent===window:!0;let pe=!1;if(!H)try{window.parent.document&&(pe=!1)}catch{pe=!0}if(H&&!u)throw new Error("emit function is required");if(!H&&!pe)return()=>{};A!==void 0&&T.mousemove===void 0&&(T.mousemove=A),ei.reset();const he=b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:w!==void 0?w:{password:!0},Pe=E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:E==="all",headMetaDescKeywords:E==="all",headTitleMutations:E==="all"}:E||{};wq();let An,$r=0;const ja=oe=>{for(const yn of V||[])yn.eventProcessor&&(oe=yn.eventProcessor(oe));return x&&!pe&&(oe=x(oe)),oe};bt=(oe,yn)=>{var ct;const Ke=oe;if(Ke.timestamp=Wy(),(ct=Mo[0])!=null&&ct.isFrozen()&&Ke.type!==Ae.FullSnapshot&&!(Ke.type===Ae.IncrementalSnapshot&&Ke.data.source===Ne.Mutation)&&Mo.forEach(Si=>Si.unfreeze()),H)u==null||u(ja(Ke),yn);else if(pe){const Si={type:"rrweb",event:ja(Ke),origin:window.location.origin,isCheckout:yn};window.parent.postMessage(Si,"*")}if(Ke.type===Ae.FullSnapshot)An=Ke,$r=0;else if(Ke.type===Ae.IncrementalSnapshot){if(Ke.data.source===Ne.Mutation&&Ke.data.isAttachIframe)return;$r++;const Si=d&&$r>=d,Je=c&&Ke.timestamp-An.timestamp>c;(Si||Je)&&l0(!0)}};const wi=oe=>{bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.Mutation},oe)})},Bp=oe=>bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.Scroll},oe)}),Fp=oe=>bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.CanvasMutation},oe)}),vb=oe=>bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.AdoptedStyleSheet},oe)}),Bi=new eee({mutationCb:wi,adoptedStyleSheetCb:vb}),Fi=new Dq({mirror:ei,mutationCb:wi,stylesheetManager:Bi,recordCrossOriginIframes:N,wrappedEmit:bt});for(const oe of V||[])oe.getMirror&&oe.getMirror({nodeMirror:ei,crossOriginIframeMirror:Fi.crossOriginIframeMirror,crossOriginIframeStyleMirror:Fi.crossOriginIframeStyleMirror});const wd=new tee;Ph=new qq({recordCanvas:z,recordLocalVideos:L,recordRemoteVideos:G,mutationCb:Fp,win:window,blockClass:f,blockSelector:p,mirror:ei,sampling:(r=T==null?void 0:T.canvas)==null?void 0:r.fps,samplingManual:(i=T==null?void 0:T.canvas)==null?void 0:i.fpsManual,clearWebGLBuffer:(a=T==null?void 0:T.canvas)==null?void 0:a.clearWebGLBuffer,initialSnapshotDelay:(s=T==null?void 0:T.canvas)==null?void 0:s.initialSnapshotDelay,dataURLOptions:ce,resizeFactor:(o=T==null?void 0:T.canvas)==null?void 0:o.resizeFactor,maxSnapshotDimension:(l=T==null?void 0:T.canvas)==null?void 0:l.maxSnapshotDimension,logger:ve});const Y=new jq({mutationCb:wi,scrollCb:Bp,bypassOptions:{blockClass:f,blockSelector:p,maskTextClass:S,maskTextSelector:y,inlineStylesheet:g,maskInputOptions:he,dataURLOptions:ce,maskTextFn:C,maskInputFn:_,recordCanvas:z,inlineImages:L,inlineVideos:G,privacySetting:F,sampling:T,slimDOMOptions:Pe,iframeManager:Fi,stylesheetManager:Bi,canvasManager:Ph,keepIframeSrcFn:P,processedNodeManager:wd},mirror:ei});l0=(oe=!1)=>{if(!M)return;bt({type:Ae.Meta,data:{href:window.location.href,width:u9(),height:l9()}},oe),Bi.reset(),Y.init(),Mo.forEach(ct=>ct.lock());const yn=O6(document,{mirror:ei,blockClass:f,blockSelector:p,maskTextClass:S,maskTextSelector:y,inlineStylesheet:g,maskAllInputs:he,maskTextFn:C,maskInputFn:_,slimDOM:Pe,dataURLOptions:ce,recordCanvas:z,inlineImages:L,inlineVideos:G,privacySetting:F,onSerialize:ct=>{h9(ct,ei)&&Fi.addIframe(ct),f9(ct,ei)&&Bi.trackLinkElement(ct),Jx(ct)&&Y.addShadowRoot(ke.shadowRoot(ct),document)},onIframeLoad:(ct,Ke)=>{Fi.attachIframe(ct,Ke),Y.observeAttachShadow(ct)},onStylesheetLoad:(ct,Ke)=>{Bi.attachLinkElement(ct,Ke)},keepIframeSrcFn:P});if(!yn)return console.warn("Failed to snapshot the document");bt({type:Ae.FullSnapshot,data:{node:yn,initialOffset:o9(window)}},oe),Mo.forEach(ct=>ct.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Bi.adoptStyleSheets(document.adoptedStyleSheets,ei.getId(document))};try{const oe=[],yn=Ke=>{var Si;return Ve(zq)({mutationCb:wi,mousemoveCb:(Je,bb)=>bt({type:Ae.IncrementalSnapshot,data:{source:bb,positions:Je}}),mouseInteractionCb:Je=>bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.MouseInteraction},Je)}),scrollCb:Bp,viewportResizeCb:Je=>bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.ViewportResize},Je)}),inputCb:Je=>bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.Input},Je)}),mediaInteractionCb:Je=>bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.MediaInteraction},Je)}),styleSheetRuleCb:Je=>bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.StyleSheetRule},Je)}),styleDeclarationCb:Je=>bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.StyleDeclaration},Je)}),canvasMutationCb:Fp,fontCb:Je=>bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.Font},Je)}),selectionCb:Je=>{bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.Selection},Je)})},customElementCb:Je=>{bt({type:Ae.IncrementalSnapshot,data:Oe({source:Ne.CustomElement},Je)})},blockClass:f,ignoreClass:v,ignoreSelector:m,maskTextClass:S,maskTextSelector:y,maskInputOptions:he,inlineStylesheet:g,sampling:T,recordDOM:M,recordCanvas:z,inlineImages:L,inlineVideos:G,userTriggeredOnInput:O,collectFonts:X,doc:Ke,maskInputFn:_,maskTextFn:C,keepIframeSrcFn:P,blockSelector:p,slimDOMOptions:Pe,dataURLOptions:ce,mirror:ei,iframeManager:Fi,stylesheetManager:Bi,shadowDomManager:Y,processedNodeManager:wd,canvasManager:Ph,ignoreCSSAttributes:ie,privacySetting:F,plugins:((Si=V==null?void 0:V.filter(Je=>Je.observer))==null?void 0:Si.map(Je=>({observer:Je.observer,options:Je.options,callback:bb=>bt({type:Ae.Plugin,data:{plugin:Je.name,payload:bb}})})))||[]},k)};Fi.addLoadListener(Ke=>{try{oe.push(yn(Ke.contentDocument))}catch(Si){console.warn(Si)}});const ct=()=>{l0(),oe.push(yn(document)),zy=!0};return document.readyState==="interactive"||document.readyState==="complete"?ct():(oe.push(Rn("DOMContentLoaded",()=>{bt({type:Ae.DomContentLoaded,data:{}}),I==="DOMContentLoaded"&&ct()})),oe.push(Rn("load",()=>{bt({type:Ae.Load,data:{}}),I==="load"&&ct()},window))),()=>{oe.forEach(Ke=>Ke()),wd.destroy(),zy=!1,Nq()}}catch(oe){console.warn(oe)}}Ta.addCustomEvent=(t,e)=>{zy&&bt({type:Ae.Custom,data:{tag:t,payload:e}})};Ta.freezePage=()=>{Mo.forEach(t=>t.freeze())};Ta.takeFullSnapshot=t=>{if(!zy)throw new Error("please take full snapshot after start recording");l0(t)};Ta.snapshotCanvas=t=>al(void 0,null,function*(){if(!Ph)throw new Error("canvas manager is not initialized");yield Ph.snapshot(t)});Ta.mirror=ei;var kI;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(kI||(kI={}));const{addCustomEvent:TI}=Ta,nee=t=>{t(window.location.href);const e=history.pushState;history.pushState=(a=>function(){var s=a.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),s})(history.pushState);const n=history.replaceState;history.replaceState=(a=>function(){var s=a.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),s})(history.replaceState);const r=()=>{window.dispatchEvent(new Event("locationchange"))};window.addEventListener("popstate",r);const i=function(){t(window.location.href)};return window.addEventListener("locationchange",i),()=>{window.removeEventListener("popstate",r),window.removeEventListener("locationchange",i),history.pushState=e,history.replaceState=n}},ree=t=>{switch(t){case"strict":return[!0,void 0];case"default":return[!0,void 0];case"none":return[!1,{password:!0}]}},iee=t=>{const e=n=>{if(n.target){const r=n.target,i=_U(r);t(i,n)}};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},aee=t=>{const e=n=>{if(n.target){const r=_U(n.target);t(r)}};return window.addEventListener("focusin",e),()=>window.removeEventListener("focusin",e)},see=t=>{let e,n;if(typeof document.hidden<"u"?(e="hidden",n="visibilitychange"):typeof document.msHidden<"u"?(e="msHidden",n="msvisibilitychange"):typeof document.webkitHidden<"u"&&(e="webkitHidden",n="webkitvisibilitychange"),n===void 0)return()=>{};if(e===void 0)return()=>{};const r=e,i=()=>{const s=document[r];t(!!s)};document.addEventListener(n,i);const a=n;return()=>document.removeEventListener(a,i)},oee=t=>{t(window.location.href);var e=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(a){setTimeout(()=>{var s,o;try{o=JSON.parse((s=a==null?void 0:a.toString())!=null?s:"")}catch{return}(o.type==="track"||o.type==="identify")&&$1(o)&&t(o)},100),e.call(this,a)};const n=a=>{if(a.key==="ajs_user_id"||a.key==="ajs_anonymous_id"||a.key==="ajs_user_traits"){const{userId:s,userTraits:o}=RI();if(s){let l={};o&&(l=JSON.parse(o));const u={type:"identify",userId:s.toString(),traits:l};$1(u)&&t(u)}}},{userId:r,userTraits:i}=RI();if(r){let a={};i&&(a=JSON.parse(i));const s={type:"identify",userId:r.toString(),traits:a};$1(s)&&t(s)}return window.addEventListener("storage",n),$$(({keyName:a})=>{n({key:a})}),()=>{window.removeEventListener("storage",n),XMLHttpRequest.prototype.send=e}},RI=()=>{const t=yr("ajs_user_id"),e=yr("ajs_user_traits"),n=yr("ajs_anonymous_id");return{userId:t,userTraits:e,anonymousId:n}},$1=t=>{if(!t)return!1;let e="";try{e=JSON.stringify(t)}catch{return!1}const n=lee(e),r=yr(Tn.SEGMENT_LAST_SENT_HASH_KEY);return r===void 0||n!==r?(ka(Tn.SEGMENT_LAST_SENT_HASH_KEY,n),!0):!1},lee=t=>{var e=0,n=t.length,r=0;if(n>0)for(;r<n;)e=(e<<5)-e+t.charCodeAt(r++)|0;return e.toString()},uee=(t,e)=>{const n=cee(t);let r=[];const i=!1,a=!0;for(let s=0;s<n.length;s++){let o=n[s].split("+");r=[],o.length>1&&(r=fee(C9,o)),o=o[o.length-1],o=o==="*"?"*":hee(o),o in Ti||(Ti[o]=[]),Ti[o].push({mods:r,shortcut:n[s],key:n[s],method:e,keyup:i,keydown:a,scope:"all",splitKey:"+"})}pee(document,"keydown",s=>{gee(s)})};let vn=[];function cee(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");const e=t.split(",");let n=e.lastIndexOf("");for(;n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}const Ti={},K1=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1,dee={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":K1?173:189,"=":K1?61:187,";":K1?59:186,"'":222,"[":219,"]":221,"\\":220},NI={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},kn={16:!1,18:!1,17:!1,91:!1},C9={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},hee=t=>dee[t.toLowerCase()]||C9[t.toLowerCase()]||t.toUpperCase().charCodeAt(0);function fee(t,e){const n=e.slice(0,e.length-1);for(let r=0;r<n.length;r++)n[r]=t[n[r].toLowerCase()];return n}function pee(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent(`on${e}`,()=>{n(window.event)})}function mee(t,e,n){let r;if(e.scope===n||e.scope==="all"){r=e.mods.length>0;for(const i in kn)Object.prototype.hasOwnProperty.call(kn,i)&&(!kn[i]&&e.mods.indexOf(+i)>-1||kn[i]&&e.mods.indexOf(+i)===-1)&&(r=!1);(e.mods.length===0&&!kn[16]&&!kn[18]&&!kn[17]&&!kn[91]||r||e.shortcut==="*")&&e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function gee(t){const e=Ti["*"];let n=t.keyCode||t.which||t.charCode;if((n===93||n===224)&&(n=91),vn.indexOf(n)===-1&&n!==229&&vn.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(r=>{const i=NI[r];t[r]&&vn.indexOf(i)===-1?vn.push(i):!t[r]&&vn.indexOf(i)>-1?vn.splice(vn.indexOf(i),1):r==="metaKey"&&t[r]&&vn.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(vn=vn.slice(vn.indexOf(i))))}),!(n in kn&&(kn[n]=!0,!e))){for(const r in kn)Object.prototype.hasOwnProperty.call(kn,r)&&(kn[r]=t[NI[r]]);if(t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(vn.indexOf(17)===-1&&vn.push(17),vn.indexOf(18)===-1&&vn.push(18),kn[17]=!0,kn[18]=!0),n in Ti){for(let r=0;r<Ti[n].length;r++)if((t.type==="keydown"&&Ti[n][r].keydown||t.type==="keyup"&&Ti[n][r].keyup)&&Ti[n][r].key){const i=Ti[n][r];mee(t,i,"all")}}}}const OI="iframe parent ready",II="iframe ok",Ff="highlightLogs",yee=t=>{let e=yr(Ff)||"";e=e+"["+new Date().getTime()+"] "+t+`
`,ka(Ff,e)},vee=()=>yr(Ff)||"",bee=t=>{if(!t)return;let e=yr(Ff)||"";e&&(e.startsWith(t)?(e=e.slice(t.length),ka(Ff,e)):yee("Unable to clear logs "+t.replace(`
`," ")+" from "+e.replace(`
`," ")))};var Sr=Uint8Array,dr=Uint16Array,bk=Int32Array,wk=new Sr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Sk=new Sr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LI=new Sr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k9=function(t,e){for(var n=new dr(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new bk(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},T9=k9(wk,2),wee=T9.b,Kx=T9.r;wee[28]=258,Kx[258]=28;var See=k9(Sk,0),ZI=See.r,Qx=new dr(32768);for(var st=0;st<32768;++st){var Ha=(st&43690)>>1|(st&21845)<<1;Ha=(Ha&52428)>>2|(Ha&13107)<<2,Ha=(Ha&61680)>>4|(Ha&3855)<<4,Qx[st]=((Ha&65280)>>8|(Ha&255)<<8)>>1}var zh=function(t,e,n){for(var r=t.length,i=0,a=new dr(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new dr(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new dr(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],d=s[t[i]-1]++<<c,f=d|(1<<c)-1;d<=f;++d)o[Qx[d]>>l]=u}else for(o=new dr(r),i=0;i<r;++i)t[i]&&(o[i]=Qx[s[t[i]-1]++]>>15-t[i]);return o},Sl=new Sr(288);for(var st=0;st<144;++st)Sl[st]=8;for(var st=144;st<256;++st)Sl[st]=9;for(var st=256;st<280;++st)Sl[st]=7;for(var st=280;st<288;++st)Sl[st]=8;var Dy=new Sr(32);for(var st=0;st<32;++st)Dy[st]=5;var Eee=zh(Sl,9,0),xee=zh(Dy,5,0),R9=function(t){return(t+7)/8|0},N9=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Sr(t.subarray(e,n))},qi=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Dd=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Q1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:I9,l:0};if(i==1){var s=new Sr(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(E,_){return E.f-_.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=a[0].s,r=1;r<i;++r)a[r].s>f&&(f=a[r].s);var p=new dr(f+1),v=qx(n[c-1],p,0);if(v>e){var r=0,m=0,S=v-e,y=1<<S;for(a.sort(function(_,C){return p[C.s]-p[_.s]||_.f-C.f});r<i;++r){var g=a[r].s;if(p[g]>e)m+=y-(1<<v-p[g]),p[g]=e;else break}for(m>>=S;m>0;){var b=a[r].s;p[b]<e?m-=1<<e-p[b]++-1:++r}for(;r>=0&&m;--r){var w=a[r].s;p[w]==e&&(--p[w],++m)}v=e}return{t:new Sr(p),l:v}},qx=function(t,e,n){return t.s==-1?Math.max(qx(t.l,e,n+1),qx(t.r,e,n+1)):e[t.s]=n},VI=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new dr(++e),r=0,i=t[0],a=1,s=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:n.subarray(0,r),n:e}},jd=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},O9=function(t,e,n){var r=n.length,i=R9(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},GI=function(t,e,n,r,i,a,s,o,l,u,c){qi(e,c++,n),++i[256];for(var d=Q1(i,15),f=d.t,p=d.l,v=Q1(a,15),m=v.t,S=v.l,y=VI(f),g=y.c,b=y.n,w=VI(m),E=w.c,_=w.n,C=new dr(19),k=0;k<g.length;++k)++C[g[k]&31];for(var k=0;k<E.length;++k)++C[E[k]&31];for(var x=Q1(C,7),T=x.t,A=x.l,M=19;M>4&&!T[LI[M-1]];--M);var z=u+5<<3,N=jd(i,Sl)+jd(a,Dy)+s,I=jd(i,f)+jd(a,m)+s+14+3*M+jd(C,T)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&z<=N&&z<=I)return O9(e,c,t.subarray(l,l+u));var O,X,L,G;if(qi(e,c,1+(I<N)),c+=2,I<N){O=zh(f,p,0),X=f,L=zh(m,S,0),G=m;var V=zh(T,A,0);qi(e,c,b-257),qi(e,c+5,_-1),qi(e,c+10,M-4),c+=14;for(var k=0;k<M;++k)qi(e,c+3*k,T[LI[k]]);c+=3*M;for(var P=[g,E],F=0;F<2;++F)for(var ie=P[F],k=0;k<ie.length;++k){var re=ie[k]&31;qi(e,c,V[re]),c+=T[re],re>15&&(qi(e,c,ie[k]>>5&127),c+=ie[k]>>12)}}else O=Eee,X=Sl,L=xee,G=Dy;for(var k=0;k<o;++k){var ve=r[k];if(ve>255){var re=ve>>18&31;Dd(e,c,O[re+257]),c+=X[re+257],re>7&&(qi(e,c,ve>>23&31),c+=wk[re]);var ce=ve&31;Dd(e,c,L[ce]),c+=G[ce],ce>3&&(Dd(e,c,ve>>5&8191),c+=Sk[ce])}else Dd(e,c,O[ve]),c+=X[ve]}return Dd(e,c,O[256]),c+X[256]},_ee=new bk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),I9=new Sr(0),Cee=function(t,e,n,r,i,a){var s=a.z||t.length,o=new Sr(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),u=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var d=_ee[e-1],f=d>>13,p=d&8191,v=(1<<n)-1,m=a.p||new dr(32768),S=a.h||new dr(v+1),y=Math.ceil(n/3),g=2*y,b=function(wi){return(t[wi]^t[wi+1]<<y^t[wi+2]<<g)&v},w=new bk(25e3),E=new dr(288),_=new dr(32),C=0,k=0,x=a.i||0,T=0,A=a.w||0,M=0;x+2<s;++x){var z=b(x),N=x&32767,I=S[z];if(m[N]=I,S[z]=N,A<=x){var O=s-x;if((C>7e3||T>24576)&&(O>423||!u)){c=GI(t,l,0,w,E,_,k,T,M,x-M,c),T=C=k=0,M=x;for(var X=0;X<286;++X)E[X]=0;for(var X=0;X<30;++X)_[X]=0}var L=2,G=0,V=p,P=N-I&32767;if(O>2&&z==b(x-P))for(var F=Math.min(f,O)-1,ie=Math.min(32767,x),re=Math.min(258,O);P<=ie&&--V&&N!=I;){if(t[x+L]==t[x+L-P]){for(var ve=0;ve<re&&t[x+ve]==t[x+ve-P];++ve);if(ve>L){if(L=ve,G=P,ve>F)break;for(var ce=Math.min(P,ve-2),H=0,X=0;X<ce;++X){var pe=x-P+X&32767,he=m[pe],Pe=pe-he&32767;Pe>H&&(H=Pe,I=pe)}}}N=I,I=m[N],P+=N-I&32767}if(G){w[T++]=268435456|Kx[L]<<18|ZI[G];var An=Kx[L]&31,$r=ZI[G]&31;k+=wk[An]+Sk[$r],++E[257+An],++_[$r],A=x+L,++C}else w[T++]=t[x],++E[t[x]]}}for(x=Math.max(x,A);x<s;++x)w[T++]=t[x],++E[t[x]];c=GI(t,l,u,w,E,_,k,T,M,x-M,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=S,a.p=m,a.i=x,a.w=A)}else{for(var x=a.w||0;x<s+u;x+=65535){var ja=x+65535;ja>=s&&(l[c/8|0]=u,ja=s),c=O9(l,c+1,t.subarray(x,ja))}a.i=s}return N9(o,0,r+R9(c)+i)},kee=function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(n&1&&-306674912)^n>>>1;t[e]=n}return t}(),Tee=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=kee[n&255^e[r]]^n>>>8;t=n},d:function(){return~t}}},Ree=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Sr(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return Cee(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},e_=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Nee=function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&e_(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var r=0;r<=n.length;++r)t[r+10]=n.charCodeAt(r)}},Oee=function(t){return 10+(t.filename?t.filename.length+1:0)};function Iee(t,e){e||(e={});var n=Tee(),r=t.length;n.p(t);var i=Ree(t,e,Oee(e),8),a=i.length;return Nee(i,e),e_(i,a-8,n.d()),e_(i,a-4,r),i}var AI=typeof TextEncoder<"u"&&new TextEncoder,Lee=typeof TextDecoder<"u"&&new TextDecoder;try{Lee.decode(I9,{stream:!0})}catch{}function Zee(t,e){var n;if(AI)return AI.encode(t);for(var r=t.length,i=new Sr(t.length+(t.length>>1)),a=0,s=function(c){i[a++]=c},n=0;n<r;++n){if(a+5>i.length){var o=new Sr(a+8+(r-n<<1));o.set(i),i=o}var l=t.charCodeAt(n);l<128||e?s(l):l<2048?(s(192|l>>6),s(128|l&63)):l>55295&&l<57344?(l=65536+(l&1047552)|t.charCodeAt(++n)&1023,s(240|l>>18),s(128|l>>12&63),s(128|l>>6&63),s(128|l&63)):(s(224|l>>12),s(128|l>>6&63),s(128|l&63))}return N9(i,0,a)}function Vee(t){return al(this,null,function*(){const e=Zee(JSON.stringify(t)),n=Iee(e),r=yield new Promise(i=>{const a=new FileReader;a.onload=()=>i(a.result),a.readAsDataURL(new Blob([new Uint8Array(n)]))});return{compressedBase64:r.slice(r.indexOf(",")+1),compressedSize:n.length,bufferLength:e.length}})}const L9="dmFyIFZyPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxqcj1PYmplY3QuZGVmaW5lUHJvcGVydGllczt2YXIgcXI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7dmFyICRlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIHRuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbm49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt2YXIgZnQ9KEYsUCxNKT0+UCBpbiBGP1ZyKEYsUCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6TX0pOkZbUF09TSxEPShGLFApPT57Zm9yKHZhciBNIGluIFB8fChQPXt9KSl0bi5jYWxsKFAsTSkmJmZ0KEYsTSxQW01dKTtpZigkZSlmb3IodmFyIE0gb2YgJGUoUCkpbm4uY2FsbChQLE0pJiZmdChGLE0sUFtNXSk7cmV0dXJuIEZ9LEJlPShGLFApPT5qcihGLHFyKFApKTt2YXIgdmU9KEYsUCk9Pnt2YXIgTT17fTtmb3IodmFyIFggaW4gRil0bi5jYWxsKEYsWCkmJlAuaW5kZXhPZihYKTwwJiYoTVtYXT1GW1hdKTtpZihGIT1udWxsJiYkZSlmb3IodmFyIFggb2YgJGUoRikpUC5pbmRleE9mKFgpPDAmJm5uLmNhbGwoRixYKSYmKE1bWF09RltYXSk7cmV0dXJuIE19O3ZhciBodD0oRixQLE0pPT5mdChGLHR5cGVvZiBQIT0ic3ltYm9sIj9QKyIiOlAsTSk7dmFyIFE9KEYsUCxNKT0+bmV3IFByb21pc2UoKFgsSWUpPT57dmFyIFVlPXJlPT57dHJ5e29lKE0ubmV4dChyZSkpfWNhdGNoKEVlKXtJZShFZSl9fSxWZT1yZT0+e3RyeXtvZShNLnRocm93KHJlKSl9Y2F0Y2goRWUpe0llKEVlKX19LG9lPXJlPT5yZS5kb25lP1gocmUudmFsdWUpOlByb21pc2UucmVzb2x2ZShyZS52YWx1ZSkudGhlbihVZSxWZSk7b2UoKE09TS5hcHBseShGLFApKS5uZXh0KCkpfSk7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIEYoZSx0KXtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKG4pe24mJnR5cGVvZiBuIT0ic3RyaW5nIiYmIUFycmF5LmlzQXJyYXkobikmJk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoaSE9PSJkZWZhdWx0IiYmIShpIGluIGUpKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxyLmdldD9yOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuW2ldfX0pfX0pfSksT2JqZWN0LmZyZWV6ZShlKX1jb25zdCBQPUpTT04sTT1lPT5lLnRvVXBwZXJDYXNlKCksWD1lPT57Y29uc3QgdD17fTtyZXR1cm4gZS5mb3JFYWNoKChuLGkpPT57dFtpXT1ufSksdH0sSWU9KGUsdCxuKT0+ZS5kb2N1bWVudD9lOntkb2N1bWVudDplLHZhcmlhYmxlczp0LHJlcXVlc3RIZWFkZXJzOm4sc2lnbmFsOnZvaWQgMH0sVWU9KGUsdCxuKT0+ZS5xdWVyeT9lOntxdWVyeTplLHZhcmlhYmxlczp0LHJlcXVlc3RIZWFkZXJzOm4sc2lnbmFsOnZvaWQgMH0sVmU9KGUsdCk9PmUuZG9jdW1lbnRzP2U6e2RvY3VtZW50czplLHJlcXVlc3RIZWFkZXJzOnQsc2lnbmFsOnZvaWQgMH07ZnVuY3Rpb24gb2UoZSx0KXtpZighISFlKXRocm93IG5ldyBFcnJvcih0KX1mdW5jdGlvbiByZShlKXtyZXR1cm4gdHlwZW9mIGU9PSJvYmplY3QiJiZlIT09bnVsbH1mdW5jdGlvbiBFZShlLHQpe2lmKCEhIWUpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIGludmFyaWFudCB0cmlnZ2VyZWQuIil9Y29uc3Qgcm49L1xyXG58W1xuXHJdL2c7ZnVuY3Rpb24gamUoZSx0KXtsZXQgbj0wLGk9MTtmb3IoY29uc3QgciBvZiBlLmJvZHkubWF0Y2hBbGwocm4pKXtpZih0eXBlb2Ygci5pbmRleD09Im51bWJlciJ8fEVlKCExKSxyLmluZGV4Pj10KWJyZWFrO249ci5pbmRleCtyWzBdLmxlbmd0aCxpKz0xfXJldHVybntsaW5lOmksY29sdW1uOnQrMS1ufX1mdW5jdGlvbiBzbihlKXtyZXR1cm4gZHQoZS5zb3VyY2UsamUoZS5zb3VyY2UsZS5zdGFydCkpfWZ1bmN0aW9uIGR0KGUsdCl7Y29uc3Qgbj1lLmxvY2F0aW9uT2Zmc2V0LmNvbHVtbi0xLGk9IiIucGFkU3RhcnQobikrZS5ib2R5LHI9dC5saW5lLTEscz1lLmxvY2F0aW9uT2Zmc2V0LmxpbmUtMSxvPXQubGluZStzLGM9dC5saW5lPT09MT9uOjAsZj10LmNvbHVtbitjLGQ9YCR7ZS5uYW1lfToke299OiR7Zn0KYCx1PWkuc3BsaXQoL1xyXG58W1xuXHJdL2cpLHk9dVtyXTtpZih5Lmxlbmd0aD4xMjApe2NvbnN0IHY9TWF0aC5mbG9vcihmLzgwKSxiPWYlODAsbT1bXTtmb3IobGV0IE49MDtOPHkubGVuZ3RoO04rPTgwKW0ucHVzaCh5LnNsaWNlKE4sTis4MCkpO3JldHVybiBkK3B0KFtbYCR7b30gfGAsbVswXV0sLi4ubS5zbGljZSgxLHYrMSkubWFwKE49PlsifCIsTl0pLFsifCIsIl4iLnBhZFN0YXJ0KGIpXSxbInwiLG1bdisxXV1dKX1yZXR1cm4gZCtwdChbW2Ake28tMX0gfGAsdVtyLTFdXSxbYCR7b30gfGAseV0sWyJ8IiwiXiIucGFkU3RhcnQoZildLFtgJHtvKzF9IHxgLHVbcisxXV1dKX1mdW5jdGlvbiBwdChlKXtjb25zdCB0PWUuZmlsdGVyKChbaSxyXSk9PnIhPT12b2lkIDApLG49TWF0aC5tYXgoLi4udC5tYXAoKFtpXSk9PmkubGVuZ3RoKSk7cmV0dXJuIHQubWFwKChbaSxyXSk9PmkucGFkU3RhcnQobikrKHI/IiAiK3I6IiIpKS5qb2luKGAKYCl9ZnVuY3Rpb24gb24oZSl7Y29uc3QgdD1lWzBdO3JldHVybiB0PT1udWxsfHwia2luZCJpbiB0fHwibGVuZ3RoImluIHQ/e25vZGVzOnQsc291cmNlOmVbMV0scG9zaXRpb25zOmVbMl0scGF0aDplWzNdLG9yaWdpbmFsRXJyb3I6ZVs0XSxleHRlbnNpb25zOmVbNV19OnR9Y2xhc3MgcWUgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LC4uLm4pe3ZhciBpLHIscztjb25zdHtub2RlczpvLHNvdXJjZTpjLHBvc2l0aW9uczpmLHBhdGg6ZCxvcmlnaW5hbEVycm9yOnUsZXh0ZW5zaW9uczp5fT1vbihuKTtzdXBlcih0KSx0aGlzLm5hbWU9IkdyYXBoUUxFcnJvciIsdGhpcy5wYXRoPWQhPW51bGw/ZDp2b2lkIDAsdGhpcy5vcmlnaW5hbEVycm9yPXUhPW51bGw/dTp2b2lkIDAsdGhpcy5ub2Rlcz1tdChBcnJheS5pc0FycmF5KG8pP286bz9bb106dm9pZCAwKTtjb25zdCB2PW10KChpPXRoaXMubm9kZXMpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5tYXAobT0+bS5sb2MpLmZpbHRlcihtPT5tIT1udWxsKSk7dGhpcy5zb3VyY2U9YyE9bnVsbD9jOnY9PW51bGx8fChyPXZbMF0pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zb3VyY2UsdGhpcy5wb3NpdGlvbnM9ZiE9bnVsbD9mOnY9PW51bGw/dm9pZCAwOnYubWFwKG09Pm0uc3RhcnQpLHRoaXMubG9jYXRpb25zPWYmJmM/Zi5tYXAobT0+amUoYyxtKSk6dj09bnVsbD92b2lkIDA6di5tYXAobT0+amUobS5zb3VyY2UsbS5zdGFydCkpO2NvbnN0IGI9cmUodT09bnVsbD92b2lkIDA6dS5leHRlbnNpb25zKT91PT1udWxsP3ZvaWQgMDp1LmV4dGVuc2lvbnM6dm9pZCAwO3RoaXMuZXh0ZW5zaW9ucz0ocz15IT1udWxsP3k6YikhPT1udWxsJiZzIT09dm9pZCAwP3M6T2JqZWN0LmNyZWF0ZShudWxsKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHttZXNzYWdlOnt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiEwfSxuYW1lOntlbnVtZXJhYmxlOiExfSxub2Rlczp7ZW51bWVyYWJsZTohMX0sc291cmNlOntlbnVtZXJhYmxlOiExfSxwb3NpdGlvbnM6e2VudW1lcmFibGU6ITF9LG9yaWdpbmFsRXJyb3I6e2VudW1lcmFibGU6ITF9fSksdSE9bnVsbCYmdS5zdGFjaz9PYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywic3RhY2siLHt2YWx1ZTp1LnN0YWNrLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pOkVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMscWUpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzdGFjayIse3ZhbHVlOkVycm9yKCkuc3RhY2ssd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iR3JhcGhRTEVycm9yIn10b1N0cmluZygpe2xldCB0PXRoaXMubWVzc2FnZTtpZih0aGlzLm5vZGVzKWZvcihjb25zdCBuIG9mIHRoaXMubm9kZXMpbi5sb2MmJih0Kz1gCgpgK3NuKG4ubG9jKSk7ZWxzZSBpZih0aGlzLnNvdXJjZSYmdGhpcy5sb2NhdGlvbnMpZm9yKGNvbnN0IG4gb2YgdGhpcy5sb2NhdGlvbnMpdCs9YAoKYCtkdCh0aGlzLnNvdXJjZSxuKTtyZXR1cm4gdH10b0pTT04oKXtjb25zdCB0PXttZXNzYWdlOnRoaXMubWVzc2FnZX07cmV0dXJuIHRoaXMubG9jYXRpb25zIT1udWxsJiYodC5sb2NhdGlvbnM9dGhpcy5sb2NhdGlvbnMpLHRoaXMucGF0aCE9bnVsbCYmKHQucGF0aD10aGlzLnBhdGgpLHRoaXMuZXh0ZW5zaW9ucyE9bnVsbCYmT2JqZWN0LmtleXModGhpcy5leHRlbnNpb25zKS5sZW5ndGg+MCYmKHQuZXh0ZW5zaW9ucz10aGlzLmV4dGVuc2lvbnMpLHR9fWZ1bmN0aW9uIG10KGUpe3JldHVybiBlPT09dm9pZCAwfHxlLmxlbmd0aD09PTA/dm9pZCAwOmV9ZnVuY3Rpb24gRyhlLHQsbil7cmV0dXJuIG5ldyBxZShgU3ludGF4IEVycm9yOiAke259YCx7c291cmNlOmUscG9zaXRpb25zOlt0XX0pfWNsYXNzIGFue2NvbnN0cnVjdG9yKHQsbixpKXt0aGlzLnN0YXJ0PXQuc3RhcnQsdGhpcy5lbmQ9bi5lbmQsdGhpcy5zdGFydFRva2VuPXQsdGhpcy5lbmRUb2tlbj1uLHRoaXMuc291cmNlPWl9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iTG9jYXRpb24ifXRvSlNPTigpe3JldHVybntzdGFydDp0aGlzLnN0YXJ0LGVuZDp0aGlzLmVuZH19fWNsYXNzIHl0e2NvbnN0cnVjdG9yKHQsbixpLHIscyxvKXt0aGlzLmtpbmQ9dCx0aGlzLnN0YXJ0PW4sdGhpcy5lbmQ9aSx0aGlzLmxpbmU9cix0aGlzLmNvbHVtbj1zLHRoaXMudmFsdWU9byx0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbH1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJUb2tlbiJ9dG9KU09OKCl7cmV0dXJue2tpbmQ6dGhpcy5raW5kLHZhbHVlOnRoaXMudmFsdWUsbGluZTp0aGlzLmxpbmUsY29sdW1uOnRoaXMuY29sdW1ufX19Y29uc3QgZ3Q9e05hbWU6W10sRG9jdW1lbnQ6WyJkZWZpbml0aW9ucyJdLE9wZXJhdGlvbkRlZmluaXRpb246WyJuYW1lIiwidmFyaWFibGVEZWZpbml0aW9ucyIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxWYXJpYWJsZURlZmluaXRpb246WyJ2YXJpYWJsZSIsInR5cGUiLCJkZWZhdWx0VmFsdWUiLCJkaXJlY3RpdmVzIl0sVmFyaWFibGU6WyJuYW1lIl0sU2VsZWN0aW9uU2V0Olsic2VsZWN0aW9ucyJdLEZpZWxkOlsiYWxpYXMiLCJuYW1lIiwiYXJndW1lbnRzIiwiZGlyZWN0aXZlcyIsInNlbGVjdGlvblNldCJdLEFyZ3VtZW50OlsibmFtZSIsInZhbHVlIl0sRnJhZ21lbnRTcHJlYWQ6WyJuYW1lIiwiZGlyZWN0aXZlcyJdLElubGluZUZyYWdtZW50OlsidHlwZUNvbmRpdGlvbiIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxGcmFnbWVudERlZmluaXRpb246WyJuYW1lIiwidmFyaWFibGVEZWZpbml0aW9ucyIsInR5cGVDb25kaXRpb24iLCJkaXJlY3RpdmVzIiwic2VsZWN0aW9uU2V0Il0sSW50VmFsdWU6W10sRmxvYXRWYWx1ZTpbXSxTdHJpbmdWYWx1ZTpbXSxCb29sZWFuVmFsdWU6W10sTnVsbFZhbHVlOltdLEVudW1WYWx1ZTpbXSxMaXN0VmFsdWU6WyJ2YWx1ZXMiXSxPYmplY3RWYWx1ZTpbImZpZWxkcyJdLE9iamVjdEZpZWxkOlsibmFtZSIsInZhbHVlIl0sRGlyZWN0aXZlOlsibmFtZSIsImFyZ3VtZW50cyJdLE5hbWVkVHlwZTpbIm5hbWUiXSxMaXN0VHlwZTpbInR5cGUiXSxOb25OdWxsVHlwZTpbInR5cGUiXSxTY2hlbWFEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJkaXJlY3RpdmVzIiwib3BlcmF0aW9uVHlwZXMiXSxPcGVyYXRpb25UeXBlRGVmaW5pdGlvbjpbInR5cGUiXSxTY2FsYXJUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiXSxPYmplY3RUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sRmllbGREZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiYXJndW1lbnRzIiwidHlwZSIsImRpcmVjdGl2ZXMiXSxJbnB1dFZhbHVlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsInR5cGUiLCJkZWZhdWx0VmFsdWUiLCJkaXJlY3RpdmVzIl0sSW50ZXJmYWNlVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJpbnRlcmZhY2VzIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLFVuaW9uVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwidHlwZXMiXSxFbnVtVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwidmFsdWVzIl0sRW51bVZhbHVlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiXSxJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLERpcmVjdGl2ZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJhcmd1bWVudHMiLCJsb2NhdGlvbnMiXSxTY2hlbWFFeHRlbnNpb246WyJkaXJlY3RpdmVzIiwib3BlcmF0aW9uVHlwZXMiXSxTY2FsYXJUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiXSxPYmplY3RUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sSW50ZXJmYWNlVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJpbnRlcmZhY2VzIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLFVuaW9uVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJkaXJlY3RpdmVzIiwidHlwZXMiXSxFbnVtVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJkaXJlY3RpdmVzIiwidmFsdWVzIl0sSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiLCJmaWVsZHMiXX0sY249bmV3IFNldChPYmplY3Qua2V5cyhndCkpO2Z1bmN0aW9uIHZ0KGUpe2NvbnN0IHQ9ZT09bnVsbD92b2lkIDA6ZS5raW5kO3JldHVybiB0eXBlb2YgdD09InN0cmluZyImJmNuLmhhcyh0KX12YXIgZmU7KGZ1bmN0aW9uKGUpe2UuUVVFUlk9InF1ZXJ5IixlLk1VVEFUSU9OPSJtdXRhdGlvbiIsZS5TVUJTQ1JJUFRJT049InN1YnNjcmlwdGlvbiJ9KShmZXx8KGZlPXt9KSk7dmFyIEdlOyhmdW5jdGlvbihlKXtlLlFVRVJZPSJRVUVSWSIsZS5NVVRBVElPTj0iTVVUQVRJT04iLGUuU1VCU0NSSVBUSU9OPSJTVUJTQ1JJUFRJT04iLGUuRklFTEQ9IkZJRUxEIixlLkZSQUdNRU5UX0RFRklOSVRJT049IkZSQUdNRU5UX0RFRklOSVRJT04iLGUuRlJBR01FTlRfU1BSRUFEPSJGUkFHTUVOVF9TUFJFQUQiLGUuSU5MSU5FX0ZSQUdNRU5UPSJJTkxJTkVfRlJBR01FTlQiLGUuVkFSSUFCTEVfREVGSU5JVElPTj0iVkFSSUFCTEVfREVGSU5JVElPTiIsZS5TQ0hFTUE9IlNDSEVNQSIsZS5TQ0FMQVI9IlNDQUxBUiIsZS5PQkpFQ1Q9Ik9CSkVDVCIsZS5GSUVMRF9ERUZJTklUSU9OPSJGSUVMRF9ERUZJTklUSU9OIixlLkFSR1VNRU5UX0RFRklOSVRJT049IkFSR1VNRU5UX0RFRklOSVRJT04iLGUuSU5URVJGQUNFPSJJTlRFUkZBQ0UiLGUuVU5JT049IlVOSU9OIixlLkVOVU09IkVOVU0iLGUuRU5VTV9WQUxVRT0iRU5VTV9WQUxVRSIsZS5JTlBVVF9PQkpFQ1Q9IklOUFVUX09CSkVDVCIsZS5JTlBVVF9GSUVMRF9ERUZJTklUSU9OPSJJTlBVVF9GSUVMRF9ERUZJTklUSU9OIn0pKEdlfHwoR2U9e30pKTt2YXIgVDsoZnVuY3Rpb24oZSl7ZS5OQU1FPSJOYW1lIixlLkRPQ1VNRU5UPSJEb2N1bWVudCIsZS5PUEVSQVRJT05fREVGSU5JVElPTj0iT3BlcmF0aW9uRGVmaW5pdGlvbiIsZS5WQVJJQUJMRV9ERUZJTklUSU9OPSJWYXJpYWJsZURlZmluaXRpb24iLGUuU0VMRUNUSU9OX1NFVD0iU2VsZWN0aW9uU2V0IixlLkZJRUxEPSJGaWVsZCIsZS5BUkdVTUVOVD0iQXJndW1lbnQiLGUuRlJBR01FTlRfU1BSRUFEPSJGcmFnbWVudFNwcmVhZCIsZS5JTkxJTkVfRlJBR01FTlQ9IklubGluZUZyYWdtZW50IixlLkZSQUdNRU5UX0RFRklOSVRJT049IkZyYWdtZW50RGVmaW5pdGlvbiIsZS5WQVJJQUJMRT0iVmFyaWFibGUiLGUuSU5UPSJJbnRWYWx1ZSIsZS5GTE9BVD0iRmxvYXRWYWx1ZSIsZS5TVFJJTkc9IlN0cmluZ1ZhbHVlIixlLkJPT0xFQU49IkJvb2xlYW5WYWx1ZSIsZS5OVUxMPSJOdWxsVmFsdWUiLGUuRU5VTT0iRW51bVZhbHVlIixlLkxJU1Q9Ikxpc3RWYWx1ZSIsZS5PQkpFQ1Q9Ik9iamVjdFZhbHVlIixlLk9CSkVDVF9GSUVMRD0iT2JqZWN0RmllbGQiLGUuRElSRUNUSVZFPSJEaXJlY3RpdmUiLGUuTkFNRURfVFlQRT0iTmFtZWRUeXBlIixlLkxJU1RfVFlQRT0iTGlzdFR5cGUiLGUuTk9OX05VTExfVFlQRT0iTm9uTnVsbFR5cGUiLGUuU0NIRU1BX0RFRklOSVRJT049IlNjaGVtYURlZmluaXRpb24iLGUuT1BFUkFUSU9OX1RZUEVfREVGSU5JVElPTj0iT3BlcmF0aW9uVHlwZURlZmluaXRpb24iLGUuU0NBTEFSX1RZUEVfREVGSU5JVElPTj0iU2NhbGFyVHlwZURlZmluaXRpb24iLGUuT0JKRUNUX1RZUEVfREVGSU5JVElPTj0iT2JqZWN0VHlwZURlZmluaXRpb24iLGUuRklFTERfREVGSU5JVElPTj0iRmllbGREZWZpbml0aW9uIixlLklOUFVUX1ZBTFVFX0RFRklOSVRJT049IklucHV0VmFsdWVEZWZpbml0aW9uIixlLklOVEVSRkFDRV9UWVBFX0RFRklOSVRJT049IkludGVyZmFjZVR5cGVEZWZpbml0aW9uIixlLlVOSU9OX1RZUEVfREVGSU5JVElPTj0iVW5pb25UeXBlRGVmaW5pdGlvbiIsZS5FTlVNX1RZUEVfREVGSU5JVElPTj0iRW51bVR5cGVEZWZpbml0aW9uIixlLkVOVU1fVkFMVUVfREVGSU5JVElPTj0iRW51bVZhbHVlRGVmaW5pdGlvbiIsZS5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OPSJJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uIixlLkRJUkVDVElWRV9ERUZJTklUSU9OPSJEaXJlY3RpdmVEZWZpbml0aW9uIixlLlNDSEVNQV9FWFRFTlNJT049IlNjaGVtYUV4dGVuc2lvbiIsZS5TQ0FMQVJfVFlQRV9FWFRFTlNJT049IlNjYWxhclR5cGVFeHRlbnNpb24iLGUuT0JKRUNUX1RZUEVfRVhURU5TSU9OPSJPYmplY3RUeXBlRXh0ZW5zaW9uIixlLklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTj0iSW50ZXJmYWNlVHlwZUV4dGVuc2lvbiIsZS5VTklPTl9UWVBFX0VYVEVOU0lPTj0iVW5pb25UeXBlRXh0ZW5zaW9uIixlLkVOVU1fVFlQRV9FWFRFTlNJT049IkVudW1UeXBlRXh0ZW5zaW9uIixlLklOUFVUX09CSkVDVF9UWVBFX0VYVEVOU0lPTj0iSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uIn0pKFR8fChUPXt9KSk7ZnVuY3Rpb24gemUoZSl7cmV0dXJuIGU9PT05fHxlPT09MzJ9ZnVuY3Rpb24gX2UoZSl7cmV0dXJuIGU+PTQ4JiZlPD01N31mdW5jdGlvbiBFdChlKXtyZXR1cm4gZT49OTcmJmU8PTEyMnx8ZT49NjUmJmU8PTkwfWZ1bmN0aW9uIF90KGUpe3JldHVybiBFdChlKXx8ZT09PTk1fWZ1bmN0aW9uIHVuKGUpe3JldHVybiBFdChlKXx8X2UoZSl8fGU9PT05NX1mdW5jdGlvbiBsbihlKXt2YXIgdDtsZXQgbj1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUixpPW51bGwscj0tMTtmb3IobGV0IG89MDtvPGUubGVuZ3RoOysrbyl7dmFyIHM7Y29uc3QgYz1lW29dLGY9Zm4oYyk7ZiE9PWMubGVuZ3RoJiYoaT0ocz1pKSE9PW51bGwmJnMhPT12b2lkIDA/czpvLHI9byxvIT09MCYmZjxuJiYobj1mKSl9cmV0dXJuIGUubWFwKChvLGMpPT5jPT09MD9vOm8uc2xpY2UobikpLnNsaWNlKCh0PWkpIT09bnVsbCYmdCE9PXZvaWQgMD90OjAscisxKX1mdW5jdGlvbiBmbihlKXtsZXQgdD0wO2Zvcig7dDxlLmxlbmd0aCYmemUoZS5jaGFyQ29kZUF0KHQpKTspKyt0O3JldHVybiB0fWZ1bmN0aW9uIGhuKGUsdCl7Y29uc3Qgbj1lLnJlcGxhY2UoLyIiIi9nLCdcXCIiIicpLGk9bi5zcGxpdCgvXHJcbnxbXG5ccl0vZykscj1pLmxlbmd0aD09PTEscz1pLmxlbmd0aD4xJiZpLnNsaWNlKDEpLmV2ZXJ5KGI9PmIubGVuZ3RoPT09MHx8emUoYi5jaGFyQ29kZUF0KDApKSksbz1uLmVuZHNXaXRoKCdcXCIiIicpLGM9ZS5lbmRzV2l0aCgnIicpJiYhbyxmPWUuZW5kc1dpdGgoIlxcIiksZD1jfHxmLHU9IXJ8fGUubGVuZ3RoPjcwfHxkfHxzfHxvO2xldCB5PSIiO2NvbnN0IHY9ciYmemUoZS5jaGFyQ29kZUF0KDApKTtyZXR1cm4odSYmIXZ8fHMpJiYoeSs9YApgKSx5Kz1uLCh1fHxkKSYmKHkrPWAKYCksJyIiIicreSsnIiIiJ312YXIgbDsoZnVuY3Rpb24oZSl7ZS5TT0Y9IjxTT0Y+IixlLkVPRj0iPEVPRj4iLGUuQkFORz0iISIsZS5ET0xMQVI9IiQiLGUuQU1QPSImIixlLlBBUkVOX0w9IigiLGUuUEFSRU5fUj0iKSIsZS5TUFJFQUQ9Ii4uLiIsZS5DT0xPTj0iOiIsZS5FUVVBTFM9Ij0iLGUuQVQ9IkAiLGUuQlJBQ0tFVF9MPSJbIixlLkJSQUNLRVRfUj0iXSIsZS5CUkFDRV9MPSJ7IixlLlBJUEU9InwiLGUuQlJBQ0VfUj0ifSIsZS5OQU1FPSJOYW1lIixlLklOVD0iSW50IixlLkZMT0FUPSJGbG9hdCIsZS5TVFJJTkc9IlN0cmluZyIsZS5CTE9DS19TVFJJTkc9IkJsb2NrU3RyaW5nIixlLkNPTU1FTlQ9IkNvbW1lbnQifSkobHx8KGw9e30pKTtjbGFzcyBkbntjb25zdHJ1Y3Rvcih0KXtjb25zdCBuPW5ldyB5dChsLlNPRiwwLDAsMCwwKTt0aGlzLnNvdXJjZT10LHRoaXMubGFzdFRva2VuPW4sdGhpcy50b2tlbj1uLHRoaXMubGluZT0xLHRoaXMubGluZVN0YXJ0PTB9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iTGV4ZXIifWFkdmFuY2UoKXtyZXR1cm4gdGhpcy5sYXN0VG9rZW49dGhpcy50b2tlbix0aGlzLnRva2VuPXRoaXMubG9va2FoZWFkKCl9bG9va2FoZWFkKCl7bGV0IHQ9dGhpcy50b2tlbjtpZih0LmtpbmQhPT1sLkVPRilkbyBpZih0Lm5leHQpdD10Lm5leHQ7ZWxzZXtjb25zdCBuPW1uKHRoaXMsdC5lbmQpO3QubmV4dD1uLG4ucHJldj10LHQ9bn13aGlsZSh0LmtpbmQ9PT1sLkNPTU1FTlQpO3JldHVybiB0fX1mdW5jdGlvbiBwbihlKXtyZXR1cm4gZT09PWwuQkFOR3x8ZT09PWwuRE9MTEFSfHxlPT09bC5BTVB8fGU9PT1sLlBBUkVOX0x8fGU9PT1sLlBBUkVOX1J8fGU9PT1sLlNQUkVBRHx8ZT09PWwuQ09MT058fGU9PT1sLkVRVUFMU3x8ZT09PWwuQVR8fGU9PT1sLkJSQUNLRVRfTHx8ZT09PWwuQlJBQ0tFVF9SfHxlPT09bC5CUkFDRV9MfHxlPT09bC5QSVBFfHxlPT09bC5CUkFDRV9SfWZ1bmN0aW9uIGhlKGUpe3JldHVybiBlPj0wJiZlPD01NTI5NXx8ZT49NTczNDQmJmU8PTExMTQxMTF9ZnVuY3Rpb24gU2UoZSx0KXtyZXR1cm4gVHQoZS5jaGFyQ29kZUF0KHQpKSYmYnQoZS5jaGFyQ29kZUF0KHQrMSkpfWZ1bmN0aW9uIFR0KGUpe3JldHVybiBlPj01NTI5NiYmZTw9NTYzMTl9ZnVuY3Rpb24gYnQoZSl7cmV0dXJuIGU+PTU2MzIwJiZlPD01NzM0M31mdW5jdGlvbiB1ZShlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keS5jb2RlUG9pbnRBdCh0KTtpZihuPT09dm9pZCAwKXJldHVybiBsLkVPRjtpZihuPj0zMiYmbjw9MTI2KXtjb25zdCBpPVN0cmluZy5mcm9tQ29kZVBvaW50KG4pO3JldHVybiBpPT09JyInP2AnIidgOmAiJHtpfSJgfXJldHVybiJVKyIrbi50b1N0cmluZygxNikudG9VcHBlckNhc2UoKS5wYWRTdGFydCg0LCIwIil9ZnVuY3Rpb24gVihlLHQsbixpLHIpe2NvbnN0IHM9ZS5saW5lLG89MStuLWUubGluZVN0YXJ0O3JldHVybiBuZXcgeXQodCxuLGkscyxvLHIpfWZ1bmN0aW9uIG1uKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dDtmb3IoO3I8aTspe2NvbnN0IHM9bi5jaGFyQ29kZUF0KHIpO3N3aXRjaChzKXtjYXNlIDY1Mjc5OmNhc2UgOTpjYXNlIDMyOmNhc2UgNDQ6KytyO2NvbnRpbnVlO2Nhc2UgMTA6KytyLCsrZS5saW5lLGUubGluZVN0YXJ0PXI7Y29udGludWU7Y2FzZSAxMzpuLmNoYXJDb2RlQXQocisxKT09PTEwP3IrPTI6KytyLCsrZS5saW5lLGUubGluZVN0YXJ0PXI7Y29udGludWU7Y2FzZSAzNTpyZXR1cm4geW4oZSxyKTtjYXNlIDMzOnJldHVybiBWKGUsbC5CQU5HLHIscisxKTtjYXNlIDM2OnJldHVybiBWKGUsbC5ET0xMQVIscixyKzEpO2Nhc2UgMzg6cmV0dXJuIFYoZSxsLkFNUCxyLHIrMSk7Y2FzZSA0MDpyZXR1cm4gVihlLGwuUEFSRU5fTCxyLHIrMSk7Y2FzZSA0MTpyZXR1cm4gVihlLGwuUEFSRU5fUixyLHIrMSk7Y2FzZSA0NjppZihuLmNoYXJDb2RlQXQocisxKT09PTQ2JiZuLmNoYXJDb2RlQXQocisyKT09PTQ2KXJldHVybiBWKGUsbC5TUFJFQUQscixyKzMpO2JyZWFrO2Nhc2UgNTg6cmV0dXJuIFYoZSxsLkNPTE9OLHIscisxKTtjYXNlIDYxOnJldHVybiBWKGUsbC5FUVVBTFMscixyKzEpO2Nhc2UgNjQ6cmV0dXJuIFYoZSxsLkFULHIscisxKTtjYXNlIDkxOnJldHVybiBWKGUsbC5CUkFDS0VUX0wscixyKzEpO2Nhc2UgOTM6cmV0dXJuIFYoZSxsLkJSQUNLRVRfUixyLHIrMSk7Y2FzZSAxMjM6cmV0dXJuIFYoZSxsLkJSQUNFX0wscixyKzEpO2Nhc2UgMTI0OnJldHVybiBWKGUsbC5QSVBFLHIscisxKTtjYXNlIDEyNTpyZXR1cm4gVihlLGwuQlJBQ0VfUixyLHIrMSk7Y2FzZSAzNDpyZXR1cm4gbi5jaGFyQ29kZUF0KHIrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHIrMik9PT0zND9ibihlLHIpOnZuKGUscil9aWYoX2Uocyl8fHM9PT00NSlyZXR1cm4gZ24oZSxyLHMpO2lmKF90KHMpKXJldHVybiBObihlLHIpO3Rocm93IEcoZS5zb3VyY2UscixzPT09Mzk/YFVuZXhwZWN0ZWQgc2luZ2xlIHF1b3RlIGNoYXJhY3RlciAoJyksIGRpZCB5b3UgbWVhbiB0byB1c2UgYSBkb3VibGUgcXVvdGUgKCIpP2A6aGUocyl8fFNlKG4scik/YFVuZXhwZWN0ZWQgY2hhcmFjdGVyOiAke3VlKGUscil9LmA6YEludmFsaWQgY2hhcmFjdGVyOiAke3VlKGUscil9LmApfXJldHVybiBWKGUsbC5FT0YsaSxpKX1mdW5jdGlvbiB5bihlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keSxpPW4ubGVuZ3RoO2xldCByPXQrMTtmb3IoO3I8aTspe2NvbnN0IHM9bi5jaGFyQ29kZUF0KHIpO2lmKHM9PT0xMHx8cz09PTEzKWJyZWFrO2lmKGhlKHMpKSsrcjtlbHNlIGlmKFNlKG4scikpcis9MjtlbHNlIGJyZWFrfXJldHVybiBWKGUsbC5DT01NRU5ULHQscixuLnNsaWNlKHQrMSxyKSl9ZnVuY3Rpb24gZ24oZSx0LG4pe2NvbnN0IGk9ZS5zb3VyY2UuYm9keTtsZXQgcj10LHM9bixvPSExO2lmKHM9PT00NSYmKHM9aS5jaGFyQ29kZUF0KCsrcikpLHM9PT00OCl7aWYocz1pLmNoYXJDb2RlQXQoKytyKSxfZShzKSl0aHJvdyBHKGUuc291cmNlLHIsYEludmFsaWQgbnVtYmVyLCB1bmV4cGVjdGVkIGRpZ2l0IGFmdGVyIDA6ICR7dWUoZSxyKX0uYCl9ZWxzZSByPUhlKGUscixzKSxzPWkuY2hhckNvZGVBdChyKTtpZihzPT09NDYmJihvPSEwLHM9aS5jaGFyQ29kZUF0KCsrcikscj1IZShlLHIscykscz1pLmNoYXJDb2RlQXQocikpLChzPT09Njl8fHM9PT0xMDEpJiYobz0hMCxzPWkuY2hhckNvZGVBdCgrK3IpLChzPT09NDN8fHM9PT00NSkmJihzPWkuY2hhckNvZGVBdCgrK3IpKSxyPUhlKGUscixzKSxzPWkuY2hhckNvZGVBdChyKSkscz09PTQ2fHxfdChzKSl0aHJvdyBHKGUuc291cmNlLHIsYEludmFsaWQgbnVtYmVyLCBleHBlY3RlZCBkaWdpdCBidXQgZ290OiAke3VlKGUscil9LmApO3JldHVybiBWKGUsbz9sLkZMT0FUOmwuSU5ULHQscixpLnNsaWNlKHQscikpfWZ1bmN0aW9uIEhlKGUsdCxuKXtpZighX2UobikpdGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIG51bWJlciwgZXhwZWN0ZWQgZGlnaXQgYnV0IGdvdDogJHt1ZShlLHQpfS5gKTtjb25zdCBpPWUuc291cmNlLmJvZHk7bGV0IHI9dCsxO2Zvcig7X2UoaS5jaGFyQ29kZUF0KHIpKTspKytyO3JldHVybiByfWZ1bmN0aW9uIHZuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dCsxLHM9cixvPSIiO2Zvcig7cjxpOyl7Y29uc3QgYz1uLmNoYXJDb2RlQXQocik7aWYoYz09PTM0KXJldHVybiBvKz1uLnNsaWNlKHMsciksVihlLGwuU1RSSU5HLHQscisxLG8pO2lmKGM9PT05Mil7bys9bi5zbGljZShzLHIpO2NvbnN0IGY9bi5jaGFyQ29kZUF0KHIrMSk9PT0xMTc/bi5jaGFyQ29kZUF0KHIrMik9PT0xMjM/RW4oZSxyKTpfbihlLHIpOlRuKGUscik7bys9Zi52YWx1ZSxyKz1mLnNpemUscz1yO2NvbnRpbnVlfWlmKGM9PT0xMHx8Yz09PTEzKWJyZWFrO2lmKGhlKGMpKSsrcjtlbHNlIGlmKFNlKG4scikpcis9MjtlbHNlIHRocm93IEcoZS5zb3VyY2UscixgSW52YWxpZCBjaGFyYWN0ZXIgd2l0aGluIFN0cmluZzogJHt1ZShlLHIpfS5gKX10aHJvdyBHKGUuc291cmNlLHIsIlVudGVybWluYXRlZCBzdHJpbmcuIil9ZnVuY3Rpb24gRW4oZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7bGV0IGk9MCxyPTM7Zm9yKDtyPDEyOyl7Y29uc3Qgcz1uLmNoYXJDb2RlQXQodCtyKyspO2lmKHM9PT0xMjUpe2lmKHI8NXx8IWhlKGkpKWJyZWFrO3JldHVybnt2YWx1ZTpTdHJpbmcuZnJvbUNvZGVQb2ludChpKSxzaXplOnJ9fWlmKGk9aTw8NHxUZShzKSxpPDApYnJlYWt9dGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCtyKX0iLmApfWZ1bmN0aW9uIF9uKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9TnQobix0KzIpO2lmKGhlKGkpKXJldHVybnt2YWx1ZTpTdHJpbmcuZnJvbUNvZGVQb2ludChpKSxzaXplOjZ9O2lmKFR0KGkpJiZuLmNoYXJDb2RlQXQodCs2KT09PTkyJiZuLmNoYXJDb2RlQXQodCs3KT09PTExNyl7Y29uc3Qgcj1OdChuLHQrOCk7aWYoYnQocikpcmV0dXJue3ZhbHVlOlN0cmluZy5mcm9tQ29kZVBvaW50KGksciksc2l6ZToxMn19dGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCs2KX0iLmApfWZ1bmN0aW9uIE50KGUsdCl7cmV0dXJuIFRlKGUuY2hhckNvZGVBdCh0KSk8PDEyfFRlKGUuY2hhckNvZGVBdCh0KzEpKTw8OHxUZShlLmNoYXJDb2RlQXQodCsyKSk8PDR8VGUoZS5jaGFyQ29kZUF0KHQrMykpfWZ1bmN0aW9uIFRlKGUpe3JldHVybiBlPj00OCYmZTw9NTc/ZS00ODplPj02NSYmZTw9NzA/ZS01NTplPj05NyYmZTw9MTAyP2UtODc6LTF9ZnVuY3Rpb24gVG4oZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7c3dpdGNoKG4uY2hhckNvZGVBdCh0KzEpKXtjYXNlIDM0OnJldHVybnt2YWx1ZTonIicsc2l6ZToyfTtjYXNlIDkyOnJldHVybnt2YWx1ZToiXFwiLHNpemU6Mn07Y2FzZSA0NzpyZXR1cm57dmFsdWU6Ii8iLHNpemU6Mn07Y2FzZSA5ODpyZXR1cm57dmFsdWU6IlxiIixzaXplOjJ9O2Nhc2UgMTAyOnJldHVybnt2YWx1ZToiXGYiLHNpemU6Mn07Y2FzZSAxMTA6cmV0dXJue3ZhbHVlOmAKYCxzaXplOjJ9O2Nhc2UgMTE0OnJldHVybnt2YWx1ZToiXHIiLHNpemU6Mn07Y2FzZSAxMTY6cmV0dXJue3ZhbHVlOiIJIixzaXplOjJ9fXRocm93IEcoZS5zb3VyY2UsdCxgSW52YWxpZCBjaGFyYWN0ZXIgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCsyKX0iLmApfWZ1bmN0aW9uIGJuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9ZS5saW5lU3RhcnQscz10KzMsbz1zLGM9IiI7Y29uc3QgZj1bXTtmb3IoO3M8aTspe2NvbnN0IGQ9bi5jaGFyQ29kZUF0KHMpO2lmKGQ9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMik9PT0zNCl7Yys9bi5zbGljZShvLHMpLGYucHVzaChjKTtjb25zdCB1PVYoZSxsLkJMT0NLX1NUUklORyx0LHMrMyxsbihmKS5qb2luKGAKYCkpO3JldHVybiBlLmxpbmUrPWYubGVuZ3RoLTEsZS5saW5lU3RhcnQ9cix1fWlmKGQ9PT05MiYmbi5jaGFyQ29kZUF0KHMrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMik9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMyk9PT0zNCl7Yys9bi5zbGljZShvLHMpLG89cysxLHMrPTQ7Y29udGludWV9aWYoZD09PTEwfHxkPT09MTMpe2MrPW4uc2xpY2UobyxzKSxmLnB1c2goYyksZD09PTEzJiZuLmNoYXJDb2RlQXQocysxKT09PTEwP3MrPTI6KytzLGM9IiIsbz1zLHI9cztjb250aW51ZX1pZihoZShkKSkrK3M7ZWxzZSBpZihTZShuLHMpKXMrPTI7ZWxzZSB0aHJvdyBHKGUuc291cmNlLHMsYEludmFsaWQgY2hhcmFjdGVyIHdpdGhpbiBTdHJpbmc6ICR7dWUoZSxzKX0uYCl9dGhyb3cgRyhlLnNvdXJjZSxzLCJVbnRlcm1pbmF0ZWQgc3RyaW5nLiIpfWZ1bmN0aW9uIE5uKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dCsxO2Zvcig7cjxpOyl7Y29uc3Qgcz1uLmNoYXJDb2RlQXQocik7aWYodW4ocykpKytyO2Vsc2UgYnJlYWt9cmV0dXJuIFYoZSxsLk5BTUUsdCxyLG4uc2xpY2UodCxyKSl9Y29uc3QgeG49MTAseHQ9MjtmdW5jdGlvbiBZZShlKXtyZXR1cm4gT2UoZSxbXSl9ZnVuY3Rpb24gT2UoZSx0KXtzd2l0Y2godHlwZW9mIGUpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7Y2FzZSJmdW5jdGlvbiI6cmV0dXJuIGUubmFtZT9gW2Z1bmN0aW9uICR7ZS5uYW1lfV1gOiJbZnVuY3Rpb25dIjtjYXNlIm9iamVjdCI6cmV0dXJuIEFuKGUsdCk7ZGVmYXVsdDpyZXR1cm4gU3RyaW5nKGUpfX1mdW5jdGlvbiBBbihlLHQpe2lmKGU9PT1udWxsKXJldHVybiJudWxsIjtpZih0LmluY2x1ZGVzKGUpKXJldHVybiJbQ2lyY3VsYXJdIjtjb25zdCBuPVsuLi50LGVdO2lmKEluKGUpKXtjb25zdCBpPWUudG9KU09OKCk7aWYoaSE9PWUpcmV0dXJuIHR5cGVvZiBpPT0ic3RyaW5nIj9pOk9lKGksbil9ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBPbihlLG4pO3JldHVybiBTbihlLG4pfWZ1bmN0aW9uIEluKGUpe3JldHVybiB0eXBlb2YgZS50b0pTT049PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gU24oZSx0KXtjb25zdCBuPU9iamVjdC5lbnRyaWVzKGUpO3JldHVybiBuLmxlbmd0aD09PTA/Int9Ijp0Lmxlbmd0aD54dD8iWyIrd24oZSkrIl0iOiJ7ICIrbi5tYXAoKFtyLHNdKT0+cisiOiAiK09lKHMsdCkpLmpvaW4oIiwgIikrIiB9In1mdW5jdGlvbiBPbihlLHQpe2lmKGUubGVuZ3RoPT09MClyZXR1cm4iW10iO2lmKHQubGVuZ3RoPnh0KXJldHVybiJbQXJyYXldIjtjb25zdCBuPU1hdGgubWluKHhuLGUubGVuZ3RoKSxpPWUubGVuZ3RoLW4scj1bXTtmb3IobGV0IHM9MDtzPG47KytzKXIucHVzaChPZShlW3NdLHQpKTtyZXR1cm4gaT09PTE/ci5wdXNoKCIuLi4gMSBtb3JlIGl0ZW0iKTppPjEmJnIucHVzaChgLi4uICR7aX0gbW9yZSBpdGVtc2ApLCJbIityLmpvaW4oIiwgIikrIl0ifWZ1bmN0aW9uIHduKGUpe2NvbnN0IHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnJlcGxhY2UoL15cW29iamVjdCAvLCIiKS5yZXBsYWNlKC9dJC8sIiIpO2lmKHQ9PT0iT2JqZWN0IiYmdHlwZW9mIGUuY29uc3RydWN0b3I9PSJmdW5jdGlvbiIpe2NvbnN0IG49ZS5jb25zdHJ1Y3Rvci5uYW1lO2lmKHR5cGVvZiBuPT0ic3RyaW5nIiYmbiE9PSIiKXJldHVybiBufXJldHVybiB0fWNvbnN0IERuPWdsb2JhbFRoaXMucHJvY2VzcyYmcHJvY2Vzcy5lbnYuTk9ERV9FTlY9PT0icHJvZHVjdGlvbiI/ZnVuY3Rpb24odCxuKXtyZXR1cm4gdCBpbnN0YW5jZW9mIG59OmZ1bmN0aW9uKHQsbil7aWYodCBpbnN0YW5jZW9mIG4pcmV0dXJuITA7aWYodHlwZW9mIHQ9PSJvYmplY3QiJiZ0IT09bnVsbCl7dmFyIGk7Y29uc3Qgcj1uLnByb3RvdHlwZVtTeW1ib2wudG9TdHJpbmdUYWddLHM9U3ltYm9sLnRvU3RyaW5nVGFnIGluIHQ/dFtTeW1ib2wudG9TdHJpbmdUYWddOihpPXQuY29uc3RydWN0b3IpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5uYW1lO2lmKHI9PT1zKXtjb25zdCBvPVllKHQpO3Rocm93IG5ldyBFcnJvcihgQ2Fubm90IHVzZSAke3J9ICIke299IiBmcm9tIGFub3RoZXIgbW9kdWxlIG9yIHJlYWxtLgoKRW5zdXJlIHRoYXQgdGhlcmUgaXMgb25seSBvbmUgaW5zdGFuY2Ugb2YgImdyYXBocWwiIGluIHRoZSBub2RlX21vZHVsZXMKZGlyZWN0b3J5LiBJZiBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgImdyYXBocWwiIGFyZSB0aGUgZGVwZW5kZW5jaWVzIG9mIG90aGVyCnJlbGllZCBvbiBtb2R1bGVzLCB1c2UgInJlc29sdXRpb25zIiB0byBlbnN1cmUgb25seSBvbmUgdmVyc2lvbiBpcyBpbnN0YWxsZWQuCgpodHRwczovL3lhcm5wa2cuY29tL2VuL2RvY3Mvc2VsZWN0aXZlLXZlcnNpb24tcmVzb2x1dGlvbnMKCkR1cGxpY2F0ZSAiZ3JhcGhxbCIgbW9kdWxlcyBjYW5ub3QgYmUgdXNlZCBhdCB0aGUgc2FtZSB0aW1lIHNpbmNlIGRpZmZlcmVudAp2ZXJzaW9ucyBtYXkgaGF2ZSBkaWZmZXJlbnQgY2FwYWJpbGl0aWVzIGFuZCBiZWhhdmlvci4gVGhlIGRhdGEgZnJvbSBvbmUKdmVyc2lvbiB1c2VkIGluIHRoZSBmdW5jdGlvbiBmcm9tIGFub3RoZXIgY291bGQgcHJvZHVjZSBjb25mdXNpbmcgYW5kCnNwdXJpb3VzIHJlc3VsdHMuYCl9fXJldHVybiExfTtjbGFzcyBBdHtjb25zdHJ1Y3Rvcih0LG49IkdyYXBoUUwgcmVxdWVzdCIsaT17bGluZToxLGNvbHVtbjoxfSl7dHlwZW9mIHQ9PSJzdHJpbmcifHxvZSghMSxgQm9keSBtdXN0IGJlIGEgc3RyaW5nLiBSZWNlaXZlZDogJHtZZSh0KX0uYCksdGhpcy5ib2R5PXQsdGhpcy5uYW1lPW4sdGhpcy5sb2NhdGlvbk9mZnNldD1pLHRoaXMubG9jYXRpb25PZmZzZXQubGluZT4wfHxvZSghMSwibGluZSBpbiBsb2NhdGlvbk9mZnNldCBpcyAxLWluZGV4ZWQgYW5kIG11c3QgYmUgcG9zaXRpdmUuIiksdGhpcy5sb2NhdGlvbk9mZnNldC5jb2x1bW4+MHx8b2UoITEsImNvbHVtbiBpbiBsb2NhdGlvbk9mZnNldCBpcyAxLWluZGV4ZWQgYW5kIG11c3QgYmUgcG9zaXRpdmUuIil9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iU291cmNlIn19ZnVuY3Rpb24gQ24oZSl7cmV0dXJuIERuKGUsQXQpfWZ1bmN0aW9uIEl0KGUsdCl7Y29uc3Qgbj1uZXcga24oZSx0KSxpPW4ucGFyc2VEb2N1bWVudCgpO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwidG9rZW5Db3VudCIse2VudW1lcmFibGU6ITEsdmFsdWU6bi50b2tlbkNvdW50fSksaX1jbGFzcyBrbntjb25zdHJ1Y3Rvcih0LG49e30pe2NvbnN0IGk9Q24odCk/dDpuZXcgQXQodCk7dGhpcy5fbGV4ZXI9bmV3IGRuKGkpLHRoaXMuX29wdGlvbnM9bix0aGlzLl90b2tlbkNvdW50ZXI9MH1nZXQgdG9rZW5Db3VudCgpe3JldHVybiB0aGlzLl90b2tlbkNvdW50ZXJ9cGFyc2VOYW1lKCl7Y29uc3QgdD10aGlzLmV4cGVjdFRva2VuKGwuTkFNRSk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuTkFNRSx2YWx1ZTp0LnZhbHVlfSl9cGFyc2VEb2N1bWVudCgpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6VC5ET0NVTUVOVCxkZWZpbml0aW9uczp0aGlzLm1hbnkobC5TT0YsdGhpcy5wYXJzZURlZmluaXRpb24sbC5FT0YpfSl9cGFyc2VEZWZpbml0aW9uKCl7aWYodGhpcy5wZWVrKGwuQlJBQ0VfTCkpcmV0dXJuIHRoaXMucGFyc2VPcGVyYXRpb25EZWZpbml0aW9uKCk7Y29uc3QgdD10aGlzLnBlZWtEZXNjcmlwdGlvbigpLG49dD90aGlzLl9sZXhlci5sb29rYWhlYWQoKTp0aGlzLl9sZXhlci50b2tlbjtpZihuLmtpbmQ9PT1sLk5BTUUpe3N3aXRjaChuLnZhbHVlKXtjYXNlInNjaGVtYSI6cmV0dXJuIHRoaXMucGFyc2VTY2hlbWFEZWZpbml0aW9uKCk7Y2FzZSJzY2FsYXIiOnJldHVybiB0aGlzLnBhcnNlU2NhbGFyVHlwZURlZmluaXRpb24oKTtjYXNlInR5cGUiOnJldHVybiB0aGlzLnBhcnNlT2JqZWN0VHlwZURlZmluaXRpb24oKTtjYXNlImludGVyZmFjZSI6cmV0dXJuIHRoaXMucGFyc2VJbnRlcmZhY2VUeXBlRGVmaW5pdGlvbigpO2Nhc2UidW5pb24iOnJldHVybiB0aGlzLnBhcnNlVW5pb25UeXBlRGVmaW5pdGlvbigpO2Nhc2UiZW51bSI6cmV0dXJuIHRoaXMucGFyc2VFbnVtVHlwZURlZmluaXRpb24oKTtjYXNlImlucHV0IjpyZXR1cm4gdGhpcy5wYXJzZUlucHV0T2JqZWN0VHlwZURlZmluaXRpb24oKTtjYXNlImRpcmVjdGl2ZSI6cmV0dXJuIHRoaXMucGFyc2VEaXJlY3RpdmVEZWZpbml0aW9uKCl9aWYodCl0aHJvdyBHKHRoaXMuX2xleGVyLnNvdXJjZSx0aGlzLl9sZXhlci50b2tlbi5zdGFydCwiVW5leHBlY3RlZCBkZXNjcmlwdGlvbiwgZGVzY3JpcHRpb25zIGFyZSBzdXBwb3J0ZWQgb25seSBvbiB0eXBlIGRlZmluaXRpb25zLiIpO3N3aXRjaChuLnZhbHVlKXtjYXNlInF1ZXJ5IjpjYXNlIm11dGF0aW9uIjpjYXNlInN1YnNjcmlwdGlvbiI6cmV0dXJuIHRoaXMucGFyc2VPcGVyYXRpb25EZWZpbml0aW9uKCk7Y2FzZSJmcmFnbWVudCI6cmV0dXJuIHRoaXMucGFyc2VGcmFnbWVudERlZmluaXRpb24oKTtjYXNlImV4dGVuZCI6cmV0dXJuIHRoaXMucGFyc2VUeXBlU3lzdGVtRXh0ZW5zaW9uKCl9fXRocm93IHRoaXMudW5leHBlY3RlZChuKX1wYXJzZU9wZXJhdGlvbkRlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO2lmKHRoaXMucGVlayhsLkJSQUNFX0wpKXJldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk9QRVJBVElPTl9ERUZJTklUSU9OLG9wZXJhdGlvbjpmZS5RVUVSWSxuYW1lOnZvaWQgMCx2YXJpYWJsZURlZmluaXRpb25zOltdLGRpcmVjdGl2ZXM6W10sc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pO2NvbnN0IG49dGhpcy5wYXJzZU9wZXJhdGlvblR5cGUoKTtsZXQgaTtyZXR1cm4gdGhpcy5wZWVrKGwuTkFNRSkmJihpPXRoaXMucGFyc2VOYW1lKCkpLHRoaXMubm9kZSh0LHtraW5kOlQuT1BFUkFUSU9OX0RFRklOSVRJT04sb3BlcmF0aW9uOm4sbmFtZTppLHZhcmlhYmxlRGVmaW5pdGlvbnM6dGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VPcGVyYXRpb25UeXBlKCl7Y29uc3QgdD10aGlzLmV4cGVjdFRva2VuKGwuTkFNRSk7c3dpdGNoKHQudmFsdWUpe2Nhc2UicXVlcnkiOnJldHVybiBmZS5RVUVSWTtjYXNlIm11dGF0aW9uIjpyZXR1cm4gZmUuTVVUQVRJT047Y2FzZSJzdWJzY3JpcHRpb24iOnJldHVybiBmZS5TVUJTQ1JJUFRJT059dGhyb3cgdGhpcy51bmV4cGVjdGVkKHQpfXBhcnNlVmFyaWFibGVEZWZpbml0aW9ucygpe3JldHVybiB0aGlzLm9wdGlvbmFsTWFueShsLlBBUkVOX0wsdGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbixsLlBBUkVOX1IpfXBhcnNlVmFyaWFibGVEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMubm9kZSh0aGlzLl9sZXhlci50b2tlbix7a2luZDpULlZBUklBQkxFX0RFRklOSVRJT04sdmFyaWFibGU6dGhpcy5wYXJzZVZhcmlhYmxlKCksdHlwZToodGhpcy5leHBlY3RUb2tlbihsLkNPTE9OKSx0aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpKSxkZWZhdWx0VmFsdWU6dGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuRVFVQUxTKT90aGlzLnBhcnNlQ29uc3RWYWx1ZUxpdGVyYWwoKTp2b2lkIDAsZGlyZWN0aXZlczp0aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCl9KX1wYXJzZVZhcmlhYmxlKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjtyZXR1cm4gdGhpcy5leHBlY3RUb2tlbihsLkRPTExBUiksdGhpcy5ub2RlKHQse2tpbmQ6VC5WQVJJQUJMRSxuYW1lOnRoaXMucGFyc2VOYW1lKCl9KX1wYXJzZVNlbGVjdGlvblNldCgpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6VC5TRUxFQ1RJT05fU0VULHNlbGVjdGlvbnM6dGhpcy5tYW55KGwuQlJBQ0VfTCx0aGlzLnBhcnNlU2VsZWN0aW9uLGwuQlJBQ0VfUil9KX1wYXJzZVNlbGVjdGlvbigpe3JldHVybiB0aGlzLnBlZWsobC5TUFJFQUQpP3RoaXMucGFyc2VGcmFnbWVudCgpOnRoaXMucGFyc2VGaWVsZCgpfXBhcnNlRmllbGQoKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZU5hbWUoKTtsZXQgaSxyO3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4obC5DT0xPTik/KGk9bixyPXRoaXMucGFyc2VOYW1lKCkpOnI9bix0aGlzLm5vZGUodCx7a2luZDpULkZJRUxELGFsaWFzOmksbmFtZTpyLGFyZ3VtZW50czp0aGlzLnBhcnNlQXJndW1lbnRzKCExKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wZWVrKGwuQlJBQ0VfTCk/dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpOnZvaWQgMH0pfXBhcnNlQXJndW1lbnRzKHQpe2NvbnN0IG49dD90aGlzLnBhcnNlQ29uc3RBcmd1bWVudDp0aGlzLnBhcnNlQXJndW1lbnQ7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGwuUEFSRU5fTCxuLGwuUEFSRU5fUil9cGFyc2VBcmd1bWVudCh0PSExKXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuLGk9dGhpcy5wYXJzZU5hbWUoKTtyZXR1cm4gdGhpcy5leHBlY3RUb2tlbihsLkNPTE9OKSx0aGlzLm5vZGUobix7a2luZDpULkFSR1VNRU5ULG5hbWU6aSx2YWx1ZTp0aGlzLnBhcnNlVmFsdWVMaXRlcmFsKHQpfSl9cGFyc2VDb25zdEFyZ3VtZW50KCl7cmV0dXJuIHRoaXMucGFyc2VBcmd1bWVudCghMCl9cGFyc2VGcmFnbWVudCgpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RUb2tlbihsLlNQUkVBRCk7Y29uc3Qgbj10aGlzLmV4cGVjdE9wdGlvbmFsS2V5d29yZCgib24iKTtyZXR1cm4hbiYmdGhpcy5wZWVrKGwuTkFNRSk/dGhpcy5ub2RlKHQse2tpbmQ6VC5GUkFHTUVOVF9TUFJFQUQsbmFtZTp0aGlzLnBhcnNlRnJhZ21lbnROYW1lKCksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSl9KTp0aGlzLm5vZGUodCx7a2luZDpULklOTElORV9GUkFHTUVOVCx0eXBlQ29uZGl0aW9uOm4/dGhpcy5wYXJzZU5hbWVkVHlwZSgpOnZvaWQgMCxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VGcmFnbWVudERlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmV4cGVjdEtleXdvcmQoImZyYWdtZW50IiksdGhpcy5fb3B0aW9ucy5hbGxvd0xlZ2FjeUZyYWdtZW50VmFyaWFibGVzPT09ITA/dGhpcy5ub2RlKHQse2tpbmQ6VC5GUkFHTUVOVF9ERUZJTklUSU9OLG5hbWU6dGhpcy5wYXJzZUZyYWdtZW50TmFtZSgpLHZhcmlhYmxlRGVmaW5pdGlvbnM6dGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKSx0eXBlQ29uZGl0aW9uOih0aGlzLmV4cGVjdEtleXdvcmQoIm9uIiksdGhpcy5wYXJzZU5hbWVkVHlwZSgpKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSk6dGhpcy5ub2RlKHQse2tpbmQ6VC5GUkFHTUVOVF9ERUZJTklUSU9OLG5hbWU6dGhpcy5wYXJzZUZyYWdtZW50TmFtZSgpLHR5cGVDb25kaXRpb246KHRoaXMuZXhwZWN0S2V5d29yZCgib24iKSx0aGlzLnBhcnNlTmFtZWRUeXBlKCkpLGRpcmVjdGl2ZXM6dGhpcy5wYXJzZURpcmVjdGl2ZXMoITEpLHNlbGVjdGlvblNldDp0aGlzLnBhcnNlU2VsZWN0aW9uU2V0KCl9KX1wYXJzZUZyYWdtZW50TmFtZSgpe2lmKHRoaXMuX2xleGVyLnRva2VuLnZhbHVlPT09Im9uIil0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtyZXR1cm4gdGhpcy5wYXJzZU5hbWUoKX1wYXJzZVZhbHVlTGl0ZXJhbCh0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO3N3aXRjaChuLmtpbmQpe2Nhc2UgbC5CUkFDS0VUX0w6cmV0dXJuIHRoaXMucGFyc2VMaXN0KHQpO2Nhc2UgbC5CUkFDRV9MOnJldHVybiB0aGlzLnBhcnNlT2JqZWN0KHQpO2Nhc2UgbC5JTlQ6cmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksdGhpcy5ub2RlKG4se2tpbmQ6VC5JTlQsdmFsdWU6bi52YWx1ZX0pO2Nhc2UgbC5GTE9BVDpyZXR1cm4gdGhpcy5hZHZhbmNlTGV4ZXIoKSx0aGlzLm5vZGUobix7a2luZDpULkZMT0FULHZhbHVlOm4udmFsdWV9KTtjYXNlIGwuU1RSSU5HOmNhc2UgbC5CTE9DS19TVFJJTkc6cmV0dXJuIHRoaXMucGFyc2VTdHJpbmdMaXRlcmFsKCk7Y2FzZSBsLk5BTUU6c3dpdGNoKHRoaXMuYWR2YW5jZUxleGVyKCksbi52YWx1ZSl7Y2FzZSJ0cnVlIjpyZXR1cm4gdGhpcy5ub2RlKG4se2tpbmQ6VC5CT09MRUFOLHZhbHVlOiEwfSk7Y2FzZSJmYWxzZSI6cmV0dXJuIHRoaXMubm9kZShuLHtraW5kOlQuQk9PTEVBTix2YWx1ZTohMX0pO2Nhc2UibnVsbCI6cmV0dXJuIHRoaXMubm9kZShuLHtraW5kOlQuTlVMTH0pO2RlZmF1bHQ6cmV0dXJuIHRoaXMubm9kZShuLHtraW5kOlQuRU5VTSx2YWx1ZTpuLnZhbHVlfSl9Y2FzZSBsLkRPTExBUjppZih0KWlmKHRoaXMuZXhwZWN0VG9rZW4obC5ET0xMQVIpLHRoaXMuX2xleGVyLnRva2VuLmtpbmQ9PT1sLk5BTUUpe2NvbnN0IGk9dGhpcy5fbGV4ZXIudG9rZW4udmFsdWU7dGhyb3cgRyh0aGlzLl9sZXhlci5zb3VyY2Usbi5zdGFydCxgVW5leHBlY3RlZCB2YXJpYWJsZSAiJCR7aX0iIGluIGNvbnN0YW50IHZhbHVlLmApfWVsc2UgdGhyb3cgdGhpcy51bmV4cGVjdGVkKG4pO3JldHVybiB0aGlzLnBhcnNlVmFyaWFibGUoKTtkZWZhdWx0OnRocm93IHRoaXMudW5leHBlY3RlZCgpfX1wYXJzZUNvbnN0VmFsdWVMaXRlcmFsKCl7cmV0dXJuIHRoaXMucGFyc2VWYWx1ZUxpdGVyYWwoITApfXBhcnNlU3RyaW5nTGl0ZXJhbCgpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47cmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksdGhpcy5ub2RlKHQse2tpbmQ6VC5TVFJJTkcsdmFsdWU6dC52YWx1ZSxibG9jazp0LmtpbmQ9PT1sLkJMT0NLX1NUUklOR30pfXBhcnNlTGlzdCh0KXtjb25zdCBuPSgpPT50aGlzLnBhcnNlVmFsdWVMaXRlcmFsKHQpO3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6VC5MSVNULHZhbHVlczp0aGlzLmFueShsLkJSQUNLRVRfTCxuLGwuQlJBQ0tFVF9SKX0pfXBhcnNlT2JqZWN0KHQpe2NvbnN0IG49KCk9PnRoaXMucGFyc2VPYmplY3RGaWVsZCh0KTtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuT0JKRUNULGZpZWxkczp0aGlzLmFueShsLkJSQUNFX0wsbixsLkJSQUNFX1IpfSl9cGFyc2VPYmplY3RGaWVsZCh0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuLGk9dGhpcy5wYXJzZU5hbWUoKTtyZXR1cm4gdGhpcy5leHBlY3RUb2tlbihsLkNPTE9OKSx0aGlzLm5vZGUobix7a2luZDpULk9CSkVDVF9GSUVMRCxuYW1lOmksdmFsdWU6dGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCh0KX0pfXBhcnNlRGlyZWN0aXZlcyh0KXtjb25zdCBuPVtdO2Zvcig7dGhpcy5wZWVrKGwuQVQpOyluLnB1c2godGhpcy5wYXJzZURpcmVjdGl2ZSh0KSk7cmV0dXJuIG59cGFyc2VDb25zdERpcmVjdGl2ZXMoKXtyZXR1cm4gdGhpcy5wYXJzZURpcmVjdGl2ZXMoITApfXBhcnNlRGlyZWN0aXZlKHQpe2NvbnN0IG49dGhpcy5fbGV4ZXIudG9rZW47cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4obC5BVCksdGhpcy5ub2RlKG4se2tpbmQ6VC5ESVJFQ1RJVkUsbmFtZTp0aGlzLnBhcnNlTmFtZSgpLGFyZ3VtZW50czp0aGlzLnBhcnNlQXJndW1lbnRzKHQpfSl9cGFyc2VUeXBlUmVmZXJlbmNlKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjtsZXQgbjtpZih0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4obC5CUkFDS0VUX0wpKXtjb25zdCBpPXRoaXMucGFyc2VUeXBlUmVmZXJlbmNlKCk7dGhpcy5leHBlY3RUb2tlbihsLkJSQUNLRVRfUiksbj10aGlzLm5vZGUodCx7a2luZDpULkxJU1RfVFlQRSx0eXBlOml9KX1lbHNlIG49dGhpcy5wYXJzZU5hbWVkVHlwZSgpO3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4obC5CQU5HKT90aGlzLm5vZGUodCx7a2luZDpULk5PTl9OVUxMX1RZUEUsdHlwZTpufSk6bn1wYXJzZU5hbWVkVHlwZSgpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6VC5OQU1FRF9UWVBFLG5hbWU6dGhpcy5wYXJzZU5hbWUoKX0pfXBlZWtEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZWsobC5TVFJJTkcpfHx0aGlzLnBlZWsobC5CTE9DS19TVFJJTkcpfXBhcnNlRGVzY3JpcHRpb24oKXtpZih0aGlzLnBlZWtEZXNjcmlwdGlvbigpKXJldHVybiB0aGlzLnBhcnNlU3RyaW5nTGl0ZXJhbCgpfXBhcnNlU2NoZW1hRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoInNjaGVtYSIpO2NvbnN0IGk9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHI9dGhpcy5tYW55KGwuQlJBQ0VfTCx0aGlzLnBhcnNlT3BlcmF0aW9uVHlwZURlZmluaXRpb24sbC5CUkFDRV9SKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5TQ0hFTUFfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLGRpcmVjdGl2ZXM6aSxvcGVyYXRpb25UeXBlczpyfSl9cGFyc2VPcGVyYXRpb25UeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlT3BlcmF0aW9uVHlwZSgpO3RoaXMuZXhwZWN0VG9rZW4obC5DT0xPTik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZWRUeXBlKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuT1BFUkFUSU9OX1RZUEVfREVGSU5JVElPTixvcGVyYXRpb246bix0eXBlOml9KX1wYXJzZVNjYWxhclR5cGVEZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VEZXNjcmlwdGlvbigpO3RoaXMuZXhwZWN0S2V5d29yZCgic2NhbGFyIik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlNDQUxBUl9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksZGlyZWN0aXZlczpyfSl9cGFyc2VPYmplY3RUeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoInR5cGUiKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKSxzPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxvPXRoaXMucGFyc2VGaWVsZHNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuT0JKRUNUX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxpbnRlcmZhY2VzOnIsZGlyZWN0aXZlczpzLGZpZWxkczpvfSl9cGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpe3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsS2V5d29yZCgiaW1wbGVtZW50cyIpP3RoaXMuZGVsaW1pdGVkTWFueShsLkFNUCx0aGlzLnBhcnNlTmFtZWRUeXBlKTpbXX1wYXJzZUZpZWxkc0RlZmluaXRpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25hbE1hbnkobC5CUkFDRV9MLHRoaXMucGFyc2VGaWVsZERlZmluaXRpb24sbC5CUkFDRV9SKX1wYXJzZUZpZWxkRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKSxpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlQXJndW1lbnREZWZzKCk7dGhpcy5leHBlY3RUb2tlbihsLkNPTE9OKTtjb25zdCBzPXRoaXMucGFyc2VUeXBlUmVmZXJlbmNlKCksbz10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuRklFTERfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxhcmd1bWVudHM6cix0eXBlOnMsZGlyZWN0aXZlczpvfSl9cGFyc2VBcmd1bWVudERlZnMoKXtyZXR1cm4gdGhpcy5vcHRpb25hbE1hbnkobC5QQVJFTl9MLHRoaXMucGFyc2VJbnB1dFZhbHVlRGVmLGwuUEFSRU5fUil9cGFyc2VJbnB1dFZhbHVlRGVmKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VEZXNjcmlwdGlvbigpLGk9dGhpcy5wYXJzZU5hbWUoKTt0aGlzLmV4cGVjdFRva2VuKGwuQ09MT04pO2NvbnN0IHI9dGhpcy5wYXJzZVR5cGVSZWZlcmVuY2UoKTtsZXQgczt0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4obC5FUVVBTFMpJiYocz10aGlzLnBhcnNlQ29uc3RWYWx1ZUxpdGVyYWwoKSk7Y29uc3Qgbz10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuSU5QVVRfVkFMVUVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSx0eXBlOnIsZGVmYXVsdFZhbHVlOnMsZGlyZWN0aXZlczpvfSl9cGFyc2VJbnRlcmZhY2VUeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoImludGVyZmFjZSIpO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHM9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLG89dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5JTlRFUkZBQ0VfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGludGVyZmFjZXM6cixkaXJlY3RpdmVzOnMsZmllbGRzOm99KX1wYXJzZVVuaW9uVHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJ1bmlvbiIpO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxzPXRoaXMucGFyc2VVbmlvbk1lbWJlclR5cGVzKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuVU5JT05fVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGRpcmVjdGl2ZXM6cix0eXBlczpzfSl9cGFyc2VVbmlvbk1lbWJlclR5cGVzKCl7cmV0dXJuIHRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihsLkVRVUFMUyk/dGhpcy5kZWxpbWl0ZWRNYW55KGwuUElQRSx0aGlzLnBhcnNlTmFtZWRUeXBlKTpbXX1wYXJzZUVudW1UeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoImVudW0iKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscz10aGlzLnBhcnNlRW51bVZhbHVlc0RlZmluaXRpb24oKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5FTlVNX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxkaXJlY3RpdmVzOnIsdmFsdWVzOnN9KX1wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGwuQlJBQ0VfTCx0aGlzLnBhcnNlRW51bVZhbHVlRGVmaW5pdGlvbixsLkJSQUNFX1IpfXBhcnNlRW51bVZhbHVlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKSxpPXRoaXMucGFyc2VFbnVtVmFsdWVOYW1lKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuRU5VTV9WQUxVRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGRpcmVjdGl2ZXM6cn0pfXBhcnNlRW51bVZhbHVlTmFtZSgpe2lmKHRoaXMuX2xleGVyLnRva2VuLnZhbHVlPT09InRydWUifHx0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJmYWxzZSJ8fHRoaXMuX2xleGVyLnRva2VuLnZhbHVlPT09Im51bGwiKXRocm93IEcodGhpcy5fbGV4ZXIuc291cmNlLHRoaXMuX2xleGVyLnRva2VuLnN0YXJ0LGAke3dlKHRoaXMuX2xleGVyLnRva2VuKX0gaXMgcmVzZXJ2ZWQgYW5kIGNhbm5vdCBiZSB1c2VkIGZvciBhbiBlbnVtIHZhbHVlLmApO3JldHVybiB0aGlzLnBhcnNlTmFtZSgpfXBhcnNlSW5wdXRPYmplY3RUeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoImlucHV0Iik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHM9dGhpcy5wYXJzZUlucHV0RmllbGRzRGVmaW5pdGlvbigpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULklOUFVUX09CSkVDVF9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksZGlyZWN0aXZlczpyLGZpZWxkczpzfSl9cGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25hbE1hbnkobC5CUkFDRV9MLHRoaXMucGFyc2VJbnB1dFZhbHVlRGVmLGwuQlJBQ0VfUil9cGFyc2VUeXBlU3lzdGVtRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci5sb29rYWhlYWQoKTtpZih0LmtpbmQ9PT1sLk5BTUUpc3dpdGNoKHQudmFsdWUpe2Nhc2Uic2NoZW1hIjpyZXR1cm4gdGhpcy5wYXJzZVNjaGVtYUV4dGVuc2lvbigpO2Nhc2Uic2NhbGFyIjpyZXR1cm4gdGhpcy5wYXJzZVNjYWxhclR5cGVFeHRlbnNpb24oKTtjYXNlInR5cGUiOnJldHVybiB0aGlzLnBhcnNlT2JqZWN0VHlwZUV4dGVuc2lvbigpO2Nhc2UiaW50ZXJmYWNlIjpyZXR1cm4gdGhpcy5wYXJzZUludGVyZmFjZVR5cGVFeHRlbnNpb24oKTtjYXNlInVuaW9uIjpyZXR1cm4gdGhpcy5wYXJzZVVuaW9uVHlwZUV4dGVuc2lvbigpO2Nhc2UiZW51bSI6cmV0dXJuIHRoaXMucGFyc2VFbnVtVHlwZUV4dGVuc2lvbigpO2Nhc2UiaW5wdXQiOnJldHVybiB0aGlzLnBhcnNlSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uKCl9dGhyb3cgdGhpcy51bmV4cGVjdGVkKHQpfXBhcnNlU2NoZW1hRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgic2NoZW1hIik7Y29uc3Qgbj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCksaT10aGlzLm9wdGlvbmFsTWFueShsLkJSQUNFX0wsdGhpcy5wYXJzZU9wZXJhdGlvblR5cGVEZWZpbml0aW9uLGwuQlJBQ0VfUik7aWYobi5sZW5ndGg9PT0wJiZpLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuU0NIRU1BX0VYVEVOU0lPTixkaXJlY3RpdmVzOm4sb3BlcmF0aW9uVHlwZXM6aX0pfXBhcnNlU2NhbGFyVHlwZUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoInNjYWxhciIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKTtpZihpLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuU0NBTEFSX1RZUEVfRVhURU5TSU9OLG5hbWU6bixkaXJlY3RpdmVzOml9KX1wYXJzZU9iamVjdFR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJ0eXBlIik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLGk9dGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscz10aGlzLnBhcnNlRmllbGRzRGVmaW5pdGlvbigpO2lmKGkubGVuZ3RoPT09MCYmci5sZW5ndGg9PT0wJiZzLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuT0JKRUNUX1RZUEVfRVhURU5TSU9OLG5hbWU6bixpbnRlcmZhY2VzOmksZGlyZWN0aXZlczpyLGZpZWxkczpzfSl9cGFyc2VJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgiaW50ZXJmYWNlIik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLGk9dGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscz10aGlzLnBhcnNlRmllbGRzRGVmaW5pdGlvbigpO2lmKGkubGVuZ3RoPT09MCYmci5sZW5ndGg9PT0wJiZzLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuSU5URVJGQUNFX1RZUEVfRVhURU5TSU9OLG5hbWU6bixpbnRlcmZhY2VzOmksZGlyZWN0aXZlczpyLGZpZWxkczpzfSl9cGFyc2VVbmlvblR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJ1bmlvbiIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMucGFyc2VVbmlvbk1lbWJlclR5cGVzKCk7aWYoaS5sZW5ndGg9PT0wJiZyLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuVU5JT05fVFlQRV9FWFRFTlNJT04sbmFtZTpuLGRpcmVjdGl2ZXM6aSx0eXBlczpyfSl9cGFyc2VFbnVtVHlwZUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoImVudW0iKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCksaT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscj10aGlzLnBhcnNlRW51bVZhbHVlc0RlZmluaXRpb24oKTtpZihpLmxlbmd0aD09PTAmJnIubGVuZ3RoPT09MCl0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5FTlVNX1RZUEVfRVhURU5TSU9OLG5hbWU6bixkaXJlY3RpdmVzOmksdmFsdWVzOnJ9KX1wYXJzZUlucHV0T2JqZWN0VHlwZUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoImlucHV0Iik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLGk9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHI9dGhpcy5wYXJzZUlucHV0RmllbGRzRGVmaW5pdGlvbigpO2lmKGkubGVuZ3RoPT09MCYmci5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULklOUFVUX09CSkVDVF9UWVBFX0VYVEVOU0lPTixuYW1lOm4sZGlyZWN0aXZlczppLGZpZWxkczpyfSl9cGFyc2VEaXJlY3RpdmVEZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VEZXNjcmlwdGlvbigpO3RoaXMuZXhwZWN0S2V5d29yZCgiZGlyZWN0aXZlIiksdGhpcy5leHBlY3RUb2tlbihsLkFUKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlQXJndW1lbnREZWZzKCkscz10aGlzLmV4cGVjdE9wdGlvbmFsS2V5d29yZCgicmVwZWF0YWJsZSIpO3RoaXMuZXhwZWN0S2V5d29yZCgib24iKTtjb25zdCBvPXRoaXMucGFyc2VEaXJlY3RpdmVMb2NhdGlvbnMoKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5ESVJFQ1RJVkVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxhcmd1bWVudHM6cixyZXBlYXRhYmxlOnMsbG9jYXRpb25zOm99KX1wYXJzZURpcmVjdGl2ZUxvY2F0aW9ucygpe3JldHVybiB0aGlzLmRlbGltaXRlZE1hbnkobC5QSVBFLHRoaXMucGFyc2VEaXJlY3RpdmVMb2NhdGlvbil9cGFyc2VEaXJlY3RpdmVMb2NhdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlTmFtZSgpO2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChHZSxuLnZhbHVlKSlyZXR1cm4gbjt0aHJvdyB0aGlzLnVuZXhwZWN0ZWQodCl9bm9kZSh0LG4pe3JldHVybiB0aGlzLl9vcHRpb25zLm5vTG9jYXRpb24hPT0hMCYmKG4ubG9jPW5ldyBhbih0LHRoaXMuX2xleGVyLmxhc3RUb2tlbix0aGlzLl9sZXhlci5zb3VyY2UpKSxufXBlZWsodCl7cmV0dXJuIHRoaXMuX2xleGVyLnRva2VuLmtpbmQ9PT10fWV4cGVjdFRva2VuKHQpe2NvbnN0IG49dGhpcy5fbGV4ZXIudG9rZW47aWYobi5raW5kPT09dClyZXR1cm4gdGhpcy5hZHZhbmNlTGV4ZXIoKSxuO3Rocm93IEcodGhpcy5fbGV4ZXIuc291cmNlLG4uc3RhcnQsYEV4cGVjdGVkICR7U3QodCl9LCBmb3VuZCAke3dlKG4pfS5gKX1leHBlY3RPcHRpb25hbFRva2VuKHQpe3JldHVybiB0aGlzLl9sZXhlci50b2tlbi5raW5kPT09dD8odGhpcy5hZHZhbmNlTGV4ZXIoKSwhMCk6ITF9ZXhwZWN0S2V5d29yZCh0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO2lmKG4ua2luZD09PWwuTkFNRSYmbi52YWx1ZT09PXQpdGhpcy5hZHZhbmNlTGV4ZXIoKTtlbHNlIHRocm93IEcodGhpcy5fbGV4ZXIuc291cmNlLG4uc3RhcnQsYEV4cGVjdGVkICIke3R9IiwgZm91bmQgJHt3ZShuKX0uYCl9ZXhwZWN0T3B0aW9uYWxLZXl3b3JkKHQpe2NvbnN0IG49dGhpcy5fbGV4ZXIudG9rZW47cmV0dXJuIG4ua2luZD09PWwuTkFNRSYmbi52YWx1ZT09PXQ/KHRoaXMuYWR2YW5jZUxleGVyKCksITApOiExfXVuZXhwZWN0ZWQodCl7Y29uc3Qgbj10IT1udWxsP3Q6dGhpcy5fbGV4ZXIudG9rZW47cmV0dXJuIEcodGhpcy5fbGV4ZXIuc291cmNlLG4uc3RhcnQsYFVuZXhwZWN0ZWQgJHt3ZShuKX0uYCl9YW55KHQsbixpKXt0aGlzLmV4cGVjdFRva2VuKHQpO2NvbnN0IHI9W107Zm9yKDshdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGkpOylyLnB1c2gobi5jYWxsKHRoaXMpKTtyZXR1cm4gcn1vcHRpb25hbE1hbnkodCxuLGkpe2lmKHRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbih0KSl7Y29uc3Qgcj1bXTtkbyByLnB1c2gobi5jYWxsKHRoaXMpKTt3aGlsZSghdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGkpKTtyZXR1cm4gcn1yZXR1cm5bXX1tYW55KHQsbixpKXt0aGlzLmV4cGVjdFRva2VuKHQpO2NvbnN0IHI9W107ZG8gci5wdXNoKG4uY2FsbCh0aGlzKSk7d2hpbGUoIXRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihpKSk7cmV0dXJuIHJ9ZGVsaW1pdGVkTWFueSh0LG4pe3RoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbih0KTtjb25zdCBpPVtdO2RvIGkucHVzaChuLmNhbGwodGhpcykpO3doaWxlKHRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbih0KSk7cmV0dXJuIGl9YWR2YW5jZUxleGVyKCl7Y29uc3R7bWF4VG9rZW5zOnR9PXRoaXMuX29wdGlvbnMsbj10aGlzLl9sZXhlci5hZHZhbmNlKCk7aWYobi5raW5kIT09bC5FT0YmJigrK3RoaXMuX3Rva2VuQ291bnRlcix0IT09dm9pZCAwJiZ0aGlzLl90b2tlbkNvdW50ZXI+dCkpdGhyb3cgRyh0aGlzLl9sZXhlci5zb3VyY2Usbi5zdGFydCxgRG9jdW1lbnQgY29udGFpbnMgbW9yZSB0aGF0ICR7dH0gdG9rZW5zLiBQYXJzaW5nIGFib3J0ZWQuYCl9fWZ1bmN0aW9uIHdlKGUpe2NvbnN0IHQ9ZS52YWx1ZTtyZXR1cm4gU3QoZS5raW5kKSsodCE9bnVsbD9gICIke3R9ImA6IiIpfWZ1bmN0aW9uIFN0KGUpe3JldHVybiBwbihlKT9gIiR7ZX0iYDplfWZ1bmN0aW9uIFJuKGUpe3JldHVybmAiJHtlLnJlcGxhY2UoUG4sTG4pfSJgfWNvbnN0IFBuPS9bXHgwMC1ceDFmXHgyMlx4NWNceDdmLVx4OWZdL2c7ZnVuY3Rpb24gTG4oZSl7cmV0dXJuIEZuW2UuY2hhckNvZGVBdCgwKV19Y29uc3QgRm49WyJcXHUwMDAwIiwiXFx1MDAwMSIsIlxcdTAwMDIiLCJcXHUwMDAzIiwiXFx1MDAwNCIsIlxcdTAwMDUiLCJcXHUwMDA2IiwiXFx1MDAwNyIsIlxcYiIsIlxcdCIsIlxcbiIsIlxcdTAwMEIiLCJcXGYiLCJcXHIiLCJcXHUwMDBFIiwiXFx1MDAwRiIsIlxcdTAwMTAiLCJcXHUwMDExIiwiXFx1MDAxMiIsIlxcdTAwMTMiLCJcXHUwMDE0IiwiXFx1MDAxNSIsIlxcdTAwMTYiLCJcXHUwMDE3IiwiXFx1MDAxOCIsIlxcdTAwMTkiLCJcXHUwMDFBIiwiXFx1MDAxQiIsIlxcdTAwMUMiLCJcXHUwMDFEIiwiXFx1MDAxRSIsIlxcdTAwMUYiLCIiLCIiLCdcXCInLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCJcXFxcIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiXFx1MDA3RiIsIlxcdTAwODAiLCJcXHUwMDgxIiwiXFx1MDA4MiIsIlxcdTAwODMiLCJcXHUwMDg0IiwiXFx1MDA4NSIsIlxcdTAwODYiLCJcXHUwMDg3IiwiXFx1MDA4OCIsIlxcdTAwODkiLCJcXHUwMDhBIiwiXFx1MDA4QiIsIlxcdTAwOEMiLCJcXHUwMDhEIiwiXFx1MDA4RSIsIlxcdTAwOEYiLCJcXHUwMDkwIiwiXFx1MDA5MSIsIlxcdTAwOTIiLCJcXHUwMDkzIiwiXFx1MDA5NCIsIlxcdTAwOTUiLCJcXHUwMDk2IiwiXFx1MDA5NyIsIlxcdTAwOTgiLCJcXHUwMDk5IiwiXFx1MDA5QSIsIlxcdTAwOUIiLCJcXHUwMDlDIiwiXFx1MDA5RCIsIlxcdTAwOUUiLCJcXHUwMDlGIl0sTW49T2JqZWN0LmZyZWV6ZSh7fSk7ZnVuY3Rpb24gJG4oZSx0LG49Z3Qpe2NvbnN0IGk9bmV3IE1hcDtmb3IoY29uc3QgRSBvZiBPYmplY3QudmFsdWVzKFQpKWkuc2V0KEUsQm4odCxFKSk7bGV0IHIscz1BcnJheS5pc0FycmF5KGUpLG89W2VdLGM9LTEsZj1bXSxkPWUsdSx5O2NvbnN0IHY9W10sYj1bXTtkb3tjKys7Y29uc3QgRT1jPT09by5sZW5ndGgsQz1FJiZmLmxlbmd0aCE9PTA7aWYoRSl7aWYodT1iLmxlbmd0aD09PTA/dm9pZCAwOnZbdi5sZW5ndGgtMV0sZD15LHk9Yi5wb3AoKSxDKWlmKHMpe2Q9ZC5zbGljZSgpO2xldCBSPTA7Zm9yKGNvbnN0WyQscV1vZiBmKXtjb25zdCBCPSQtUjtxPT09bnVsbD8oZC5zcGxpY2UoQiwxKSxSKyspOmRbQl09cX19ZWxzZXtkPUQoe30sZCk7Zm9yKGNvbnN0W1IsJF1vZiBmKWRbUl09JH1jPXIuaW5kZXgsbz1yLmtleXMsZj1yLmVkaXRzLHM9ci5pbkFycmF5LHI9ci5wcmV2fWVsc2UgaWYoeSl7aWYodT1zP2M6b1tjXSxkPXlbdV0sZD09bnVsbCljb250aW51ZTt2LnB1c2godSl9bGV0IHc7aWYoIUFycmF5LmlzQXJyYXkoZCkpe3ZhciBtLE47dnQoZCl8fG9lKCExLGBJbnZhbGlkIEFTVCBOb2RlOiAke1llKGQpfS5gKTtjb25zdCBSPUU/KG09aS5nZXQoZC5raW5kKSk9PT1udWxsfHxtPT09dm9pZCAwP3ZvaWQgMDptLmxlYXZlOihOPWkuZ2V0KGQua2luZCkpPT09bnVsbHx8Tj09PXZvaWQgMD92b2lkIDA6Ti5lbnRlcjtpZih3PVI9PW51bGw/dm9pZCAwOlIuY2FsbCh0LGQsdSx5LHYsYiksdz09PU1uKWJyZWFrO2lmKHc9PT0hMSl7aWYoIUUpe3YucG9wKCk7Y29udGludWV9fWVsc2UgaWYodyE9PXZvaWQgMCYmKGYucHVzaChbdSx3XSksIUUpKWlmKHZ0KHcpKWQ9dztlbHNle3YucG9wKCk7Y29udGludWV9fWlmKHc9PT12b2lkIDAmJkMmJmYucHVzaChbdSxkXSksRSl2LnBvcCgpO2Vsc2V7dmFyIGc7cj17aW5BcnJheTpzLGluZGV4OmMsa2V5czpvLGVkaXRzOmYscHJldjpyfSxzPUFycmF5LmlzQXJyYXkoZCksbz1zP2Q6KGc9bltkLmtpbmRdKSE9PW51bGwmJmchPT12b2lkIDA/ZzpbXSxjPS0xLGY9W10seSYmYi5wdXNoKHkpLHk9ZH19d2hpbGUociE9PXZvaWQgMCk7cmV0dXJuIGYubGVuZ3RoIT09MD9mW2YubGVuZ3RoLTFdWzFdOmV9ZnVuY3Rpb24gQm4oZSx0KXtjb25zdCBuPWVbdF07cmV0dXJuIHR5cGVvZiBuPT0ib2JqZWN0Ij9uOnR5cGVvZiBuPT0iZnVuY3Rpb24iP3tlbnRlcjpuLGxlYXZlOnZvaWQgMH06e2VudGVyOmUuZW50ZXIsbGVhdmU6ZS5sZWF2ZX19ZnVuY3Rpb24gVW4oZSl7cmV0dXJuICRuKGUsam4pfWNvbnN0IFZuPTgwLGpuPXtOYW1lOntsZWF2ZTplPT5lLnZhbHVlfSxWYXJpYWJsZTp7bGVhdmU6ZT0+IiQiK2UubmFtZX0sRG9jdW1lbnQ6e2xlYXZlOmU9PnAoZS5kZWZpbml0aW9ucyxgCgpgKX0sT3BlcmF0aW9uRGVmaW5pdGlvbjp7bGVhdmUoZSl7Y29uc3QgdD1PKCIoIixwKGUudmFyaWFibGVEZWZpbml0aW9ucywiLCAiKSwiKSIpLG49cChbZS5vcGVyYXRpb24scChbZS5uYW1lLHRdKSxwKGUuZGlyZWN0aXZlcywiICIpXSwiICIpO3JldHVybihuPT09InF1ZXJ5Ij8iIjpuKyIgIikrZS5zZWxlY3Rpb25TZXR9fSxWYXJpYWJsZURlZmluaXRpb246e2xlYXZlOih7dmFyaWFibGU6ZSx0eXBlOnQsZGVmYXVsdFZhbHVlOm4sZGlyZWN0aXZlczppfSk9PmUrIjogIit0K08oIiA9ICIsbikrTygiICIscChpLCIgIikpfSxTZWxlY3Rpb25TZXQ6e2xlYXZlOih7c2VsZWN0aW9uczplfSk9PmVlKGUpfSxGaWVsZDp7bGVhdmUoe2FsaWFzOmUsbmFtZTp0LGFyZ3VtZW50czpuLGRpcmVjdGl2ZXM6aSxzZWxlY3Rpb25TZXQ6cn0pe2NvbnN0IHM9TygiIixlLCI6ICIpK3Q7bGV0IG89cytPKCIoIixwKG4sIiwgIiksIikiKTtyZXR1cm4gby5sZW5ndGg+Vm4mJihvPXMrTyhgKApgLERlKHAobixgCmApKSxgCilgKSkscChbbyxwKGksIiAiKSxyXSwiICIpfX0sQXJndW1lbnQ6e2xlYXZlOih7bmFtZTplLHZhbHVlOnR9KT0+ZSsiOiAiK3R9LEZyYWdtZW50U3ByZWFkOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnR9KT0+Ii4uLiIrZStPKCIgIixwKHQsIiAiKSl9LElubGluZUZyYWdtZW50OntsZWF2ZTooe3R5cGVDb25kaXRpb246ZSxkaXJlY3RpdmVzOnQsc2VsZWN0aW9uU2V0Om59KT0+cChbIi4uLiIsTygib24gIixlKSxwKHQsIiAiKSxuXSwiICIpfSxGcmFnbWVudERlZmluaXRpb246e2xlYXZlOih7bmFtZTplLHR5cGVDb25kaXRpb246dCx2YXJpYWJsZURlZmluaXRpb25zOm4sZGlyZWN0aXZlczppLHNlbGVjdGlvblNldDpyfSk9PmBmcmFnbWVudCAke2V9JHtPKCIoIixwKG4sIiwgIiksIikiKX0gb24gJHt0fSAke08oIiIscChpLCIgIiksIiAiKX1gK3J9LEludFZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sRmxvYXRWYWx1ZTp7bGVhdmU6KHt2YWx1ZTplfSk9PmV9LFN0cmluZ1ZhbHVlOntsZWF2ZTooe3ZhbHVlOmUsYmxvY2s6dH0pPT50P2huKGUpOlJuKGUpfSxCb29sZWFuVmFsdWU6e2xlYXZlOih7dmFsdWU6ZX0pPT5lPyJ0cnVlIjoiZmFsc2UifSxOdWxsVmFsdWU6e2xlYXZlOigpPT4ibnVsbCJ9LEVudW1WYWx1ZTp7bGVhdmU6KHt2YWx1ZTplfSk9PmV9LExpc3RWYWx1ZTp7bGVhdmU6KHt2YWx1ZXM6ZX0pPT4iWyIrcChlLCIsICIpKyJdIn0sT2JqZWN0VmFsdWU6e2xlYXZlOih7ZmllbGRzOmV9KT0+InsiK3AoZSwiLCAiKSsifSJ9LE9iamVjdEZpZWxkOntsZWF2ZTooe25hbWU6ZSx2YWx1ZTp0fSk9PmUrIjogIit0fSxEaXJlY3RpdmU6e2xlYXZlOih7bmFtZTplLGFyZ3VtZW50czp0fSk9PiJAIitlK08oIigiLHAodCwiLCAiKSwiKSIpfSxOYW1lZFR5cGU6e2xlYXZlOih7bmFtZTplfSk9PmV9LExpc3RUeXBlOntsZWF2ZTooe3R5cGU6ZX0pPT4iWyIrZSsiXSJ9LE5vbk51bGxUeXBlOntsZWF2ZTooe3R5cGU6ZX0pPT5lKyIhIn0sU2NoZW1hRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLGRpcmVjdGl2ZXM6dCxvcGVyYXRpb25UeXBlczpufSk9Pk8oIiIsZSxgCmApK3AoWyJzY2hlbWEiLHAodCwiICIpLGVlKG4pXSwiICIpfSxPcGVyYXRpb25UeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtvcGVyYXRpb246ZSx0eXBlOnR9KT0+ZSsiOiAiK3R9LFNjYWxhclR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGRpcmVjdGl2ZXM6bn0pPT5PKCIiLGUsYApgKStwKFsic2NhbGFyIix0LHAobiwiICIpXSwiICIpfSxPYmplY3RUeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxpbnRlcmZhY2VzOm4sZGlyZWN0aXZlczppLGZpZWxkczpyfSk9Pk8oIiIsZSxgCmApK3AoWyJ0eXBlIix0LE8oImltcGxlbWVudHMgIixwKG4sIiAmICIpKSxwKGksIiAiKSxlZShyKV0sIiAiKX0sRmllbGREZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHR5cGU6aSxkaXJlY3RpdmVzOnJ9KT0+TygiIixlLGAKYCkrdCsoT3Qobik/TyhgKApgLERlKHAobixgCmApKSxgCilgKTpPKCIoIixwKG4sIiwgIiksIikiKSkrIjogIitpK08oIiAiLHAociwiICIpKX0sSW5wdXRWYWx1ZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsdHlwZTpuLGRlZmF1bHRWYWx1ZTppLGRpcmVjdGl2ZXM6cn0pPT5PKCIiLGUsYApgKStwKFt0KyI6ICIrbixPKCI9ICIsaSkscChyLCIgIildLCIgIil9LEludGVyZmFjZVR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGludGVyZmFjZXM6bixkaXJlY3RpdmVzOmksZmllbGRzOnJ9KT0+TygiIixlLGAKYCkrcChbImludGVyZmFjZSIsdCxPKCJpbXBsZW1lbnRzICIscChuLCIgJiAiKSkscChpLCIgIiksZWUocildLCIgIil9LFVuaW9uVHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpuLHR5cGVzOml9KT0+TygiIixlLGAKYCkrcChbInVuaW9uIix0LHAobiwiICIpLE8oIj0gIixwKGksIiB8ICIpKV0sIiAiKX0sRW51bVR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGRpcmVjdGl2ZXM6bix2YWx1ZXM6aX0pPT5PKCIiLGUsYApgKStwKFsiZW51bSIsdCxwKG4sIiAiKSxlZShpKV0sIiAiKX0sRW51bVZhbHVlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm59KT0+TygiIixlLGAKYCkrcChbdCxwKG4sIiAiKV0sIiAiKX0sSW5wdXRPYmplY3RUeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm4sZmllbGRzOml9KT0+TygiIixlLGAKYCkrcChbImlucHV0Iix0LHAobiwiICIpLGVlKGkpXSwiICIpfSxEaXJlY3RpdmVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHJlcGVhdGFibGU6aSxsb2NhdGlvbnM6cn0pPT5PKCIiLGUsYApgKSsiZGlyZWN0aXZlIEAiK3QrKE90KG4pP08oYCgKYCxEZShwKG4sYApgKSksYAopYCk6TygiKCIscChuLCIsICIpLCIpIikpKyhpPyIgcmVwZWF0YWJsZSI6IiIpKyIgb24gIitwKHIsIiB8ICIpfSxTY2hlbWFFeHRlbnNpb246e2xlYXZlOih7ZGlyZWN0aXZlczplLG9wZXJhdGlvblR5cGVzOnR9KT0+cChbImV4dGVuZCBzY2hlbWEiLHAoZSwiICIpLGVlKHQpXSwiICIpfSxTY2FsYXJUeXBlRXh0ZW5zaW9uOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnR9KT0+cChbImV4dGVuZCBzY2FsYXIiLGUscCh0LCIgIildLCIgIil9LE9iamVjdFR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGludGVyZmFjZXM6dCxkaXJlY3RpdmVzOm4sZmllbGRzOml9KT0+cChbImV4dGVuZCB0eXBlIixlLE8oImltcGxlbWVudHMgIixwKHQsIiAmICIpKSxwKG4sIiAiKSxlZShpKV0sIiAiKX0sSW50ZXJmYWNlVHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsaW50ZXJmYWNlczp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6aX0pPT5wKFsiZXh0ZW5kIGludGVyZmFjZSIsZSxPKCJpbXBsZW1lbnRzICIscCh0LCIgJiAiKSkscChuLCIgIiksZWUoaSldLCIgIil9LFVuaW9uVHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsZGlyZWN0aXZlczp0LHR5cGVzOm59KT0+cChbImV4dGVuZCB1bmlvbiIsZSxwKHQsIiAiKSxPKCI9ICIscChuLCIgfCAiKSldLCIgIil9LEVudW1UeXBlRXh0ZW5zaW9uOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnQsdmFsdWVzOm59KT0+cChbImV4dGVuZCBlbnVtIixlLHAodCwiICIpLGVlKG4pXSwiICIpfSxJbnB1dE9iamVjdFR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dCxmaWVsZHM6bn0pPT5wKFsiZXh0ZW5kIGlucHV0IixlLHAodCwiICIpLGVlKG4pXSwiICIpfX07ZnVuY3Rpb24gcChlLHQ9IiIpe3ZhciBuO3JldHVybihuPWU9PW51bGw/dm9pZCAwOmUuZmlsdGVyKGk9PmkpLmpvaW4odCkpIT09bnVsbCYmbiE9PXZvaWQgMD9uOiIifWZ1bmN0aW9uIGVlKGUpe3JldHVybiBPKGB7CmAsRGUocChlLGAKYCkpLGAKfWApfWZ1bmN0aW9uIE8oZSx0LG49IiIpe3JldHVybiB0IT1udWxsJiZ0IT09IiI/ZSt0K246IiJ9ZnVuY3Rpb24gRGUoZSl7cmV0dXJuIE8oIiAgIixlLnJlcGxhY2UoL1xuL2csYAogIGApKX1mdW5jdGlvbiBPdChlKXt2YXIgdDtyZXR1cm4odD1lPT1udWxsP3ZvaWQgMDplLnNvbWUobj0+bi5pbmNsdWRlcyhgCmApKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITF9Y29uc3Qgd3Q9ZT0+e3ZhciBpLHI7bGV0IHQ7Y29uc3Qgbj1lLmRlZmluaXRpb25zLmZpbHRlcihzPT5zLmtpbmQ9PT0iT3BlcmF0aW9uRGVmaW5pdGlvbiIpO3JldHVybiBuLmxlbmd0aD09PTEmJih0PShyPShpPW5bMF0pPT1udWxsP3ZvaWQgMDppLm5hbWUpPT1udWxsP3ZvaWQgMDpyLnZhbHVlKSx0fSxKZT1lPT57aWYodHlwZW9mIGU9PSJzdHJpbmciKXtsZXQgbjt0cnl7Y29uc3QgaT1JdChlKTtuPXd0KGkpfWNhdGNoKGkpe31yZXR1cm57cXVlcnk6ZSxvcGVyYXRpb25OYW1lOm59fWNvbnN0IHQ9d3QoZSk7cmV0dXJue3F1ZXJ5OlVuKGUpLG9wZXJhdGlvbk5hbWU6dH19O2NsYXNzIGRlIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxuKXtjb25zdCBpPWAke2RlLmV4dHJhY3RNZXNzYWdlKHQpfTogJHtKU09OLnN0cmluZ2lmeSh7cmVzcG9uc2U6dCxyZXF1ZXN0Om59KX1gO3N1cGVyKGkpLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLGRlLnByb3RvdHlwZSksdGhpcy5yZXNwb25zZT10LHRoaXMucmVxdWVzdD1uLHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT09ImZ1bmN0aW9uIiYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxkZSl9c3RhdGljIGV4dHJhY3RNZXNzYWdlKHQpe3ZhciBuLGkscjtyZXR1cm4ocj0oaT0obj10LmVycm9ycyk9PW51bGw/dm9pZCAwOm5bMF0pPT1udWxsP3ZvaWQgMDppLm1lc3NhZ2UpIT1udWxsP3I6YEdyYXBoUUwgRXJyb3IgKENvZGU6ICR7dC5zdGF0dXN9KWB9fXZhciBxbj10eXBlb2YgZ2xvYmFsVGhpcyE9InVuZGVmaW5lZCI/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93IT0idW5kZWZpbmVkIj93aW5kb3c6dHlwZW9mIGdsb2JhbCE9InVuZGVmaW5lZCI/Z2xvYmFsOnR5cGVvZiBzZWxmIT0idW5kZWZpbmVkIj9zZWxmOnt9O2Z1bmN0aW9uIER0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCJkZWZhdWx0Iik/ZS5kZWZhdWx0OmV9dmFyIFFlPXtleHBvcnRzOnt9fTsoZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2Ygc2VsZiE9InVuZGVmaW5lZCI/c2VsZjpxbixpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcygpe3RoaXMuZmV0Y2g9ITEsdGhpcy5ET01FeGNlcHRpb249bi5ET01FeGNlcHRpb259cmV0dXJuIHMucHJvdG90eXBlPW4sbmV3IHN9KCk7KGZ1bmN0aW9uKHMpeyhmdW5jdGlvbihvKXt2YXIgYz17c2VhcmNoUGFyYW1zOiJVUkxTZWFyY2hQYXJhbXMiaW4gcyxpdGVyYWJsZToiU3ltYm9sImluIHMmJiJpdGVyYXRvciJpbiBTeW1ib2wsYmxvYjoiRmlsZVJlYWRlciJpbiBzJiYiQmxvYiJpbiBzJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEJsb2IsITB9Y2F0Y2goYSl7cmV0dXJuITF9fSgpLGZvcm1EYXRhOiJGb3JtRGF0YSJpbiBzLGFycmF5QnVmZmVyOiJBcnJheUJ1ZmZlciJpbiBzfTtmdW5jdGlvbiBmKGEpe3JldHVybiBhJiZEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKX1pZihjLmFycmF5QnVmZmVyKXZhciBkPVsiW29iamVjdCBJbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OEFycmF5XSIsIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIiwiW29iamVjdCBJbnQxNkFycmF5XSIsIltvYmplY3QgVWludDE2QXJyYXldIiwiW29iamVjdCBJbnQzMkFycmF5XSIsIltvYmplY3QgVWludDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDY0QXJyYXldIl0sdT1BcnJheUJ1ZmZlci5pc1ZpZXd8fGZ1bmN0aW9uKGEpe3JldHVybiBhJiZkLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpKT4tMX07ZnVuY3Rpb24geShhKXtpZih0eXBlb2YgYSE9InN0cmluZyImJihhPVN0cmluZyhhKSksL1teYS16MC05XC0jJCUmJyorLl5fYHx+XS9pLnRlc3QoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUiKTtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIHR5cGVvZiBhIT0ic3RyaW5nIiYmKGE9U3RyaW5nKGEpKSxhfWZ1bmN0aW9uIGIoYSl7dmFyIGg9e25leHQ6ZnVuY3Rpb24oKXt2YXIgXz1hLnNoaWZ0KCk7cmV0dXJue2RvbmU6Xz09PXZvaWQgMCx2YWx1ZTpffX19O3JldHVybiBjLml0ZXJhYmxlJiYoaFtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIGh9KSxofWZ1bmN0aW9uIG0oYSl7dGhpcy5tYXA9e30sYSBpbnN0YW5jZW9mIG0/YS5mb3JFYWNoKGZ1bmN0aW9uKGgsXyl7dGhpcy5hcHBlbmQoXyxoKX0sdGhpcyk6QXJyYXkuaXNBcnJheShhKT9hLmZvckVhY2goZnVuY3Rpb24oaCl7dGhpcy5hcHBlbmQoaFswXSxoWzFdKX0sdGhpcyk6YSYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYSkuZm9yRWFjaChmdW5jdGlvbihoKXt0aGlzLmFwcGVuZChoLGFbaF0pfSx0aGlzKX1tLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oYSxoKXthPXkoYSksaD12KGgpO3ZhciBfPXRoaXMubWFwW2FdO3RoaXMubWFwW2FdPV8/XysiLCAiK2g6aH0sbS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLm1hcFt5KGEpXX0sbS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBhPXkoYSksdGhpcy5oYXMoYSk/dGhpcy5tYXBbYV06bnVsbH0sbS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eSh5KGEpKX0sbS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsaCl7dGhpcy5tYXBbeShhKV09dihoKX0sbS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihhLGgpe2Zvcih2YXIgXyBpbiB0aGlzLm1hcCl0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShfKSYmYS5jYWxsKGgsdGhpcy5tYXBbX10sXyx0aGlzKX0sbS5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oaCxfKXthLnB1c2goXyl9KSxiKGEpfSxtLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGgpe2EucHVzaChoKX0pLGIoYSl9LG0ucHJvdG90eXBlLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGgsXyl7YS5wdXNoKFtfLGhdKX0pLGIoYSl9LGMuaXRlcmFibGUmJihtLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPW0ucHJvdG90eXBlLmVudHJpZXMpO2Z1bmN0aW9uIE4oYSl7aWYoYS5ib2R5VXNlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcigiQWxyZWFkeSByZWFkIikpO2EuYm9keVVzZWQ9ITB9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaCxfKXthLm9ubG9hZD1mdW5jdGlvbigpe2goYS5yZXN1bHQpfSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXtfKGEuZXJyb3IpfX0pfWZ1bmN0aW9uIEUoYSl7dmFyIGg9bmV3IEZpbGVSZWFkZXIsXz1nKGgpO3JldHVybiBoLnJlYWRBc0FycmF5QnVmZmVyKGEpLF99ZnVuY3Rpb24gQyhhKXt2YXIgaD1uZXcgRmlsZVJlYWRlcixfPWcoaCk7cmV0dXJuIGgucmVhZEFzVGV4dChhKSxffWZ1bmN0aW9uIHcoYSl7Zm9yKHZhciBoPW5ldyBVaW50OEFycmF5KGEpLF89bmV3IEFycmF5KGgubGVuZ3RoKSxBPTA7QTxoLmxlbmd0aDtBKyspX1tBXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGhbQV0pO3JldHVybiBfLmpvaW4oIiIpfWZ1bmN0aW9uIFIoYSl7aWYoYS5zbGljZSlyZXR1cm4gYS5zbGljZSgwKTt2YXIgaD1uZXcgVWludDhBcnJheShhLmJ5dGVMZW5ndGgpO3JldHVybiBoLnNldChuZXcgVWludDhBcnJheShhKSksaC5idWZmZXJ9ZnVuY3Rpb24gJCgpe3JldHVybiB0aGlzLmJvZHlVc2VkPSExLHRoaXMuX2luaXRCb2R5PWZ1bmN0aW9uKGEpe3RoaXMuX2JvZHlJbml0PWEsYT90eXBlb2YgYT09InN0cmluZyI/dGhpcy5fYm9keVRleHQ9YTpjLmJsb2ImJkJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYSk/dGhpcy5fYm9keUJsb2I9YTpjLmZvcm1EYXRhJiZGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKT90aGlzLl9ib2R5Rm9ybURhdGE9YTpjLnNlYXJjaFBhcmFtcyYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGEpP3RoaXMuX2JvZHlUZXh0PWEudG9TdHJpbmcoKTpjLmFycmF5QnVmZmVyJiZjLmJsb2ImJmYoYSk/KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcj1SKGEuYnVmZmVyKSx0aGlzLl9ib2R5SW5pdD1uZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpOmMuYXJyYXlCdWZmZXImJihBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKXx8dShhKSk/dGhpcy5fYm9keUFycmF5QnVmZmVyPVIoYSk6dGhpcy5fYm9keVRleHQ9YT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk6dGhpcy5fYm9keVRleHQ9IiIsdGhpcy5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIil8fCh0eXBlb2YgYT09InN0cmluZyI/dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC10eXBlIiwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Iik6dGhpcy5fYm9keUJsb2ImJnRoaXMuX2JvZHlCbG9iLnR5cGU/dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC10eXBlIix0aGlzLl9ib2R5QmxvYi50eXBlKTpjLnNlYXJjaFBhcmFtcyYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGEpJiZ0aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCIpKX0sYy5ibG9iJiYodGhpcy5ibG9iPWZ1bmN0aW9uKCl7dmFyIGE9Tih0aGlzKTtpZihhKXJldHVybiBhO2lmKHRoaXMuX2JvZHlCbG9iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSl9LHRoaXMuYXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9keUFycmF5QnVmZmVyP04odGhpcyl8fFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpOnRoaXMuYmxvYigpLnRoZW4oRSl9KSx0aGlzLnRleHQ9ZnVuY3Rpb24oKXt2YXIgYT1OKHRoaXMpO2lmKGEpcmV0dXJuIGE7aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIEModGhpcy5fYm9keUJsb2IpO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHcodGhpcy5fYm9keUFycmF5QnVmZmVyKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0Iik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dCl9LGMuZm9ybURhdGEmJih0aGlzLmZvcm1EYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oUyl9KSx0aGlzLmpzb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKX0sdGhpc312YXIgcT1bIkRFTEVURSIsIkdFVCIsIkhFQUQiLCJPUFRJT05TIiwiUE9TVCIsIlBVVCJdO2Z1bmN0aW9uIEIoYSl7dmFyIGg9YS50b1VwcGVyQ2FzZSgpO3JldHVybiBxLmluZGV4T2YoaCk+LTE/aDphfWZ1bmN0aW9uIEkoYSxoKXtoPWh8fHt9O3ZhciBfPWguYm9keTtpZihhIGluc3RhbmNlb2YgSSl7aWYoYS5ib2R5VXNlZCl0aHJvdyBuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKTt0aGlzLnVybD1hLnVybCx0aGlzLmNyZWRlbnRpYWxzPWEuY3JlZGVudGlhbHMsaC5oZWFkZXJzfHwodGhpcy5oZWFkZXJzPW5ldyBtKGEuaGVhZGVycykpLHRoaXMubWV0aG9kPWEubWV0aG9kLHRoaXMubW9kZT1hLm1vZGUsdGhpcy5zaWduYWw9YS5zaWduYWwsIV8mJmEuX2JvZHlJbml0IT1udWxsJiYoXz1hLl9ib2R5SW5pdCxhLmJvZHlVc2VkPSEwKX1lbHNlIHRoaXMudXJsPVN0cmluZyhhKTtpZih0aGlzLmNyZWRlbnRpYWxzPWguY3JlZGVudGlhbHN8fHRoaXMuY3JlZGVudGlhbHN8fCJzYW1lLW9yaWdpbiIsKGguaGVhZGVyc3x8IXRoaXMuaGVhZGVycykmJih0aGlzLmhlYWRlcnM9bmV3IG0oaC5oZWFkZXJzKSksdGhpcy5tZXRob2Q9QihoLm1ldGhvZHx8dGhpcy5tZXRob2R8fCJHRVQiKSx0aGlzLm1vZGU9aC5tb2RlfHx0aGlzLm1vZGV8fG51bGwsdGhpcy5zaWduYWw9aC5zaWduYWx8fHRoaXMuc2lnbmFsLHRoaXMucmVmZXJyZXI9bnVsbCwodGhpcy5tZXRob2Q9PT0iR0VUInx8dGhpcy5tZXRob2Q9PT0iSEVBRCIpJiZfKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzIik7dGhpcy5faW5pdEJvZHkoXyl9SS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEkodGhpcyx7Ym9keTp0aGlzLl9ib2R5SW5pdH0pfTtmdW5jdGlvbiBTKGEpe3ZhciBoPW5ldyBGb3JtRGF0YTtyZXR1cm4gYS50cmltKCkuc3BsaXQoIiYiKS5mb3JFYWNoKGZ1bmN0aW9uKF8pe2lmKF8pe3ZhciBBPV8uc3BsaXQoIj0iKSxrPUEuc2hpZnQoKS5yZXBsYWNlKC9cKy9nLCIgIikseD1BLmpvaW4oIj0iKS5yZXBsYWNlKC9cKy9nLCIgIik7aC5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KGspLGRlY29kZVVSSUNvbXBvbmVudCh4KSl9fSksaH1mdW5jdGlvbiBqKGEpe3ZhciBoPW5ldyBtLF89YS5yZXBsYWNlKC9ccj9cbltcdCBdKy9nLCIgIik7cmV0dXJuIF8uc3BsaXQoL1xyP1xuLykuZm9yRWFjaChmdW5jdGlvbihBKXt2YXIgaz1BLnNwbGl0KCI6IikseD1rLnNoaWZ0KCkudHJpbSgpO2lmKHgpe3ZhciBjZT1rLmpvaW4oIjoiKS50cmltKCk7aC5hcHBlbmQoeCxjZSl9fSksaH0kLmNhbGwoSS5wcm90b3R5cGUpO2Z1bmN0aW9uIFUoYSxoKXtofHwoaD17fSksdGhpcy50eXBlPSJkZWZhdWx0Iix0aGlzLnN0YXR1cz1oLnN0YXR1cz09PXZvaWQgMD8yMDA6aC5zdGF0dXMsdGhpcy5vaz10aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czwzMDAsdGhpcy5zdGF0dXNUZXh0PSJzdGF0dXNUZXh0ImluIGg/aC5zdGF0dXNUZXh0OiJPSyIsdGhpcy5oZWFkZXJzPW5ldyBtKGguaGVhZGVycyksdGhpcy51cmw9aC51cmx8fCIiLHRoaXMuX2luaXRCb2R5KGEpfSQuY2FsbChVLnByb3RvdHlwZSksVS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFUodGhpcy5fYm9keUluaXQse3N0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OnRoaXMuc3RhdHVzVGV4dCxoZWFkZXJzOm5ldyBtKHRoaXMuaGVhZGVycyksdXJsOnRoaXMudXJsfSl9LFUuZXJyb3I9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVShudWxsLHtzdGF0dXM6MCxzdGF0dXNUZXh0OiIifSk7cmV0dXJuIGEudHlwZT0iZXJyb3IiLGF9O3ZhciB6PVszMDEsMzAyLDMwMywzMDcsMzA4XTtVLnJlZGlyZWN0PWZ1bmN0aW9uKGEsaCl7aWYoei5pbmRleE9mKGgpPT09LTEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgc3RhdHVzIGNvZGUiKTtyZXR1cm4gbmV3IFUobnVsbCx7c3RhdHVzOmgsaGVhZGVyczp7bG9jYXRpb246YX19KX0sby5ET01FeGNlcHRpb249cy5ET01FeGNlcHRpb247dHJ5e25ldyBvLkRPTUV4Y2VwdGlvbn1jYXRjaChhKXtvLkRPTUV4Y2VwdGlvbj1mdW5jdGlvbihoLF8pe3RoaXMubWVzc2FnZT1oLHRoaXMubmFtZT1fO3ZhciBBPUVycm9yKGgpO3RoaXMuc3RhY2s9QS5zdGFja30sby5ET01FeGNlcHRpb24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxvLkRPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9by5ET01FeGNlcHRpb259ZnVuY3Rpb24gSyhhLGgpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihfLEEpe3ZhciBrPW5ldyBJKGEsaCk7aWYoay5zaWduYWwmJmsuc2lnbmFsLmFib3J0ZWQpcmV0dXJuIEEobmV3IG8uRE9NRXhjZXB0aW9uKCJBYm9ydGVkIiwiQWJvcnRFcnJvciIpKTt2YXIgeD1uZXcgWE1MSHR0cFJlcXVlc3Q7ZnVuY3Rpb24gY2UoKXt4LmFib3J0KCl9eC5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgSD17c3RhdHVzOnguc3RhdHVzLHN0YXR1c1RleHQ6eC5zdGF0dXNUZXh0LGhlYWRlcnM6aih4LmdldEFsbFJlc3BvbnNlSGVhZGVycygpfHwiIil9O0gudXJsPSJyZXNwb25zZVVSTCJpbiB4P3gucmVzcG9uc2VVUkw6SC5oZWFkZXJzLmdldCgiWC1SZXF1ZXN0LVVSTCIpO3ZhciBzZT0icmVzcG9uc2UiaW4geD94LnJlc3BvbnNlOngucmVzcG9uc2VUZXh0O18obmV3IFUoc2UsSCkpfSx4Lm9uZXJyb3I9ZnVuY3Rpb24oKXtBKG5ldyBUeXBlRXJyb3IoIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQiKSl9LHgub250aW1lb3V0PWZ1bmN0aW9uKCl7QShuZXcgVHlwZUVycm9yKCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkIikpfSx4Lm9uYWJvcnQ9ZnVuY3Rpb24oKXtBKG5ldyBvLkRPTUV4Y2VwdGlvbigiQWJvcnRlZCIsIkFib3J0RXJyb3IiKSl9LHgub3BlbihrLm1ldGhvZCxrLnVybCwhMCksay5jcmVkZW50aWFscz09PSJpbmNsdWRlIj94LndpdGhDcmVkZW50aWFscz0hMDprLmNyZWRlbnRpYWxzPT09Im9taXQiJiYoeC53aXRoQ3JlZGVudGlhbHM9ITEpLCJyZXNwb25zZVR5cGUiaW4geCYmYy5ibG9iJiYoeC5yZXNwb25zZVR5cGU9ImJsb2IiKSxrLmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihILHNlKXt4LnNldFJlcXVlc3RIZWFkZXIoc2UsSCl9KSxrLnNpZ25hbCYmKGsuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixjZSkseC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt4LnJlYWR5U3RhdGU9PT00JiZrLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsY2UpfSkseC5zZW5kKHR5cGVvZiBrLl9ib2R5SW5pdD09InVuZGVmaW5lZCI/bnVsbDprLl9ib2R5SW5pdCl9KX1yZXR1cm4gSy5wb2x5ZmlsbD0hMCxzLmZldGNofHwocy5mZXRjaD1LLHMuSGVhZGVycz1tLHMuUmVxdWVzdD1JLHMuUmVzcG9uc2U9VSksby5IZWFkZXJzPW0sby5SZXF1ZXN0PUksby5SZXNwb25zZT1VLG8uZmV0Y2g9SyxPYmplY3QuZGVmaW5lUHJvcGVydHkobywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksb30pKHt9KX0pKGkpLGkuZmV0Y2gucG9ueWZpbGw9ITAsZGVsZXRlIGkuZmV0Y2gucG9seWZpbGw7dmFyIHI9aTt0PXIuZmV0Y2gsdC5kZWZhdWx0PXIuZmV0Y2gsdC5mZXRjaD1yLmZldGNoLHQuSGVhZGVycz1yLkhlYWRlcnMsdC5SZXF1ZXN0PXIuUmVxdWVzdCx0LlJlc3BvbnNlPXIuUmVzcG9uc2UsZS5leHBvcnRzPXR9KShRZSxRZS5leHBvcnRzKTt2YXIgQ2U9UWUuZXhwb3J0cyxrZT1EdChDZSksR249Rih7X19wcm90b19fOm51bGwsZGVmYXVsdDprZX0sW0NlXSk7Y29uc3QgcGU9ZT0+e2xldCB0PXt9O3JldHVybiBlJiYodHlwZW9mIEhlYWRlcnMhPSJ1bmRlZmluZWQiJiZlIGluc3RhbmNlb2YgSGVhZGVyc3x8R24mJkNlLkhlYWRlcnMmJmUgaW5zdGFuY2VvZiBDZS5IZWFkZXJzP3Q9WChlKTpBcnJheS5pc0FycmF5KGUpP2UuZm9yRWFjaCgoW24saV0pPT57biYmaSE9PXZvaWQgMCYmKHRbbl09aSl9KTp0PWUpLHR9LEN0PWU9PmUucmVwbGFjZSgvKFtccyxdfCNbXlxuXHJdKykrL2csIiAiKS50cmltKCksem49ZT0+e2lmKCFBcnJheS5pc0FycmF5KGUucXVlcnkpKXtjb25zdCBpPWUscj1bYHF1ZXJ5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KEN0KGkucXVlcnkpKX1gXTtyZXR1cm4gZS52YXJpYWJsZXMmJnIucHVzaChgdmFyaWFibGVzPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGkuanNvblNlcmlhbGl6ZXIuc3RyaW5naWZ5KGkudmFyaWFibGVzKSl9YCksaS5vcGVyYXRpb25OYW1lJiZyLnB1c2goYG9wZXJhdGlvbk5hbWU9JHtlbmNvZGVVUklDb21wb25lbnQoaS5vcGVyYXRpb25OYW1lKX1gKSxyLmpvaW4oIiYiKX1pZih0eXBlb2YgZS52YXJpYWJsZXMhPSJ1bmRlZmluZWQiJiYhQXJyYXkuaXNBcnJheShlLnZhcmlhYmxlcykpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgY3JlYXRlIHF1ZXJ5IHdpdGggZ2l2ZW4gdmFyaWFibGUgdHlwZSwgYXJyYXkgZXhwZWN0ZWQiKTtjb25zdCB0PWUsbj1lLnF1ZXJ5LnJlZHVjZSgoaSxyLHMpPT4oaS5wdXNoKHtxdWVyeTpDdChyKSx2YXJpYWJsZXM6dC52YXJpYWJsZXM/dC5qc29uU2VyaWFsaXplci5zdHJpbmdpZnkodC52YXJpYWJsZXNbc10pOnZvaWQgMH0pLGkpLFtdKTtyZXR1cm5gcXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQodC5qc29uU2VyaWFsaXplci5zdHJpbmdpZnkobikpfWB9LEhuPWU9PnQ9PlEodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBOO2NvbnN0e3VybDpuLHF1ZXJ5OmksdmFyaWFibGVzOnIsb3BlcmF0aW9uTmFtZTpzLGZldGNoOm8sZmV0Y2hPcHRpb25zOmMsbWlkZGxld2FyZTpmfT10LGQ9RCh7fSx0LmhlYWRlcnMpO2xldCB1PSIiLHk7ZT09PSJQT1NUIj8oeT1KbihpLHIscyxjLmpzb25TZXJpYWxpemVyKSx0eXBlb2YgeT09InN0cmluZyImJihkWyJDb250ZW50LVR5cGUiXT0iYXBwbGljYXRpb24vanNvbiIpKTp1PXpuKHtxdWVyeTppLHZhcmlhYmxlczpyLG9wZXJhdGlvbk5hbWU6cyxqc29uU2VyaWFsaXplcjooTj1jLmpzb25TZXJpYWxpemVyKSE9bnVsbD9OOlB9KTtjb25zdCB2PUQoe21ldGhvZDplLGhlYWRlcnM6ZCxib2R5Onl9LGMpO2xldCBiPW4sbT12O2lmKGYpe2NvbnN0IGc9eWllbGQgUHJvbWlzZS5yZXNvbHZlKGYoQmUoRCh7fSx2KSx7dXJsOm4sb3BlcmF0aW9uTmFtZTpzLHZhcmlhYmxlczpyfSkpKSx7dXJsOkN9PWcsdz12ZShnLFsidXJsIl0pO2I9QyxtPXd9cmV0dXJuIHUmJihiPWAke2J9PyR7dX1gKSx5aWVsZCBvKGIsbSl9KTtjbGFzcyBZbntjb25zdHJ1Y3Rvcih0LG49e30pe3RoaXMudXJsPXQsdGhpcy5yZXF1ZXN0Q29uZmlnPW4sdGhpcy5yYXdSZXF1ZXN0PSguLi5pKT0+USh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3RbcixzLG9dPWksYz1VZShyLHMsbyksZz10aGlzLnJlcXVlc3RDb25maWcse2hlYWRlcnM6ZixmZXRjaDpkPWtlLG1ldGhvZDp1PSJQT1NUIixyZXF1ZXN0TWlkZGxld2FyZTp5LHJlc3BvbnNlTWlkZGxld2FyZTp2fT1nLGI9dmUoZyxbImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsInJlcXVlc3RNaWRkbGV3YXJlIiwicmVzcG9uc2VNaWRkbGV3YXJlIl0pLHt1cmw6bX09dGhpcztjLnNpZ25hbCE9PXZvaWQgMCYmKGIuc2lnbmFsPWMuc2lnbmFsKTtjb25zdHtvcGVyYXRpb25OYW1lOk59PUplKGMucXVlcnkpO3JldHVybiBYZSh7dXJsOm0scXVlcnk6Yy5xdWVyeSx2YXJpYWJsZXM6Yy52YXJpYWJsZXMsaGVhZGVyczpEKEQoe30scGUoV2UoZikpKSxwZShjLnJlcXVlc3RIZWFkZXJzKSksb3BlcmF0aW9uTmFtZTpOLGZldGNoOmQsbWV0aG9kOnUsZmV0Y2hPcHRpb25zOmIsbWlkZGxld2FyZTp5fSkudGhlbihFPT4odiYmdihFKSxFKSkuY2F0Y2goRT0+e3Rocm93IHYmJnYoRSksRX0pfSl9cmVxdWVzdCh0LC4uLm4pe3JldHVybiBRKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdFtpLHJdPW4scz1JZSh0LGksciksTj10aGlzLnJlcXVlc3RDb25maWcse2hlYWRlcnM6byxmZXRjaDpjPWtlLG1ldGhvZDpmPSJQT1NUIixyZXF1ZXN0TWlkZGxld2FyZTpkLHJlc3BvbnNlTWlkZGxld2FyZTp1fT1OLHk9dmUoTixbImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsInJlcXVlc3RNaWRkbGV3YXJlIiwicmVzcG9uc2VNaWRkbGV3YXJlIl0pLHt1cmw6dn09dGhpcztzLnNpZ25hbCE9PXZvaWQgMCYmKHkuc2lnbmFsPXMuc2lnbmFsKTtjb25zdHtxdWVyeTpiLG9wZXJhdGlvbk5hbWU6bX09SmUocy5kb2N1bWVudCk7cmV0dXJuIFhlKHt1cmw6dixxdWVyeTpiLHZhcmlhYmxlczpzLnZhcmlhYmxlcyxoZWFkZXJzOkQoRCh7fSxwZShXZShvKSkpLHBlKHMucmVxdWVzdEhlYWRlcnMpKSxvcGVyYXRpb25OYW1lOm0sZmV0Y2g6YyxtZXRob2Q6ZixmZXRjaE9wdGlvbnM6eSxtaWRkbGV3YXJlOmR9KS50aGVuKGc9Pih1JiZ1KGcpLGcuZGF0YSkpLmNhdGNoKGc9Pnt0aHJvdyB1JiZ1KGcpLGd9KX0pfWJhdGNoUmVxdWVzdHModCxuKXt2YXIgZDtjb25zdCBpPVZlKHQsbiksZj10aGlzLnJlcXVlc3RDb25maWcse2hlYWRlcnM6cn09ZixzPXZlKGYsWyJoZWFkZXJzIl0pO2kuc2lnbmFsIT09dm9pZCAwJiYocy5zaWduYWw9aS5zaWduYWwpO2NvbnN0IG89aS5kb2N1bWVudHMubWFwKCh7ZG9jdW1lbnQ6dX0pPT5KZSh1KS5xdWVyeSksYz1pLmRvY3VtZW50cy5tYXAoKHt2YXJpYWJsZXM6dX0pPT51KTtyZXR1cm4gWGUoe3VybDp0aGlzLnVybCxxdWVyeTpvLHZhcmlhYmxlczpjLGhlYWRlcnM6RChEKHt9LHBlKFdlKHIpKSkscGUoaS5yZXF1ZXN0SGVhZGVycykpLG9wZXJhdGlvbk5hbWU6dm9pZCAwLGZldGNoOihkPXRoaXMucmVxdWVzdENvbmZpZy5mZXRjaCkhPW51bGw/ZDprZSxtZXRob2Q6dGhpcy5yZXF1ZXN0Q29uZmlnLm1ldGhvZHx8IlBPU1QiLGZldGNoT3B0aW9uczpzLG1pZGRsZXdhcmU6dGhpcy5yZXF1ZXN0Q29uZmlnLnJlcXVlc3RNaWRkbGV3YXJlfSkudGhlbih1PT4odGhpcy5yZXF1ZXN0Q29uZmlnLnJlc3BvbnNlTWlkZGxld2FyZSYmdGhpcy5yZXF1ZXN0Q29uZmlnLnJlc3BvbnNlTWlkZGxld2FyZSh1KSx1LmRhdGEpKS5jYXRjaCh1PT57dGhyb3cgdGhpcy5yZXF1ZXN0Q29uZmlnLnJlc3BvbnNlTWlkZGxld2FyZSYmdGhpcy5yZXF1ZXN0Q29uZmlnLnJlc3BvbnNlTWlkZGxld2FyZSh1KSx1fSl9c2V0SGVhZGVycyh0KXtyZXR1cm4gdGhpcy5yZXF1ZXN0Q29uZmlnLmhlYWRlcnM9dCx0aGlzfXNldEhlYWRlcih0LG4pe2NvbnN0e2hlYWRlcnM6aX09dGhpcy5yZXF1ZXN0Q29uZmlnO3JldHVybiBpP2lbdF09bjp0aGlzLnJlcXVlc3RDb25maWcuaGVhZGVycz17W3RdOm59LHRoaXN9c2V0RW5kcG9pbnQodCl7cmV0dXJuIHRoaXMudXJsPXQsdGhpc319Y29uc3QgWGU9ZT0+USh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHUseTtjb25zdHtxdWVyeTp0LHZhcmlhYmxlczpuLGZldGNoT3B0aW9uczppfT1lLHI9SG4oTSgodT1lLm1ldGhvZCkhPW51bGw/dToicG9zdCIpKSxzPUFycmF5LmlzQXJyYXkoZS5xdWVyeSksbz15aWVsZCByKGUpLGM9eWllbGQgUW4obywoeT1pLmpzb25TZXJpYWxpemVyKSE9bnVsbD95OlApLGY9QXJyYXkuaXNBcnJheShjKT8hYy5zb21lKCh7ZGF0YTpifSk9PiFiKTohIWMuZGF0YSxkPUFycmF5LmlzQXJyYXkoYyl8fCFjLmVycm9yc3x8QXJyYXkuaXNBcnJheShjLmVycm9ycykmJiFjLmVycm9ycy5sZW5ndGh8fGkuZXJyb3JQb2xpY3k9PT0iYWxsInx8aS5lcnJvclBvbGljeT09PSJpZ25vcmUiO2lmKG8ub2smJmQmJmYpe2NvbnN0IHY9KEFycmF5LmlzQXJyYXkoYyksYykse2Vycm9yczpifT12LG09dmUodixbImVycm9ycyJdKSxOPWkuZXJyb3JQb2xpY3k9PT0iaWdub3JlIj9tOmM7cmV0dXJuIEJlKEQoe30scz97ZGF0YTpOfTpOKSx7aGVhZGVyczpvLmhlYWRlcnMsc3RhdHVzOm8uc3RhdHVzfSl9ZWxzZXtjb25zdCBiPXR5cGVvZiBjPT0ic3RyaW5nIj97ZXJyb3I6Y306Yzt0aHJvdyBuZXcgZGUoQmUoRCh7fSxiKSx7c3RhdHVzOm8uc3RhdHVzLGhlYWRlcnM6by5oZWFkZXJzfSkse3F1ZXJ5OnQsdmFyaWFibGVzOm59KX19KSxKbj0oZSx0LG4saSk9Pntjb25zdCByPWkhPW51bGw/aTpQO2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiByLnN0cmluZ2lmeSh7cXVlcnk6ZSx2YXJpYWJsZXM6dCxvcGVyYXRpb25OYW1lOm59KTtpZih0eXBlb2YgdCE9InVuZGVmaW5lZCImJiFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGNyZWF0ZSByZXF1ZXN0IGJvZHkgd2l0aCBnaXZlbiB2YXJpYWJsZSB0eXBlLCBhcnJheSBleHBlY3RlZCIpO2NvbnN0IHM9ZS5yZWR1Y2UoKG8sYyxmKT0+KG8ucHVzaCh7cXVlcnk6Yyx2YXJpYWJsZXM6dD90W2ZdOnZvaWQgMH0pLG8pLFtdKTtyZXR1cm4gci5zdHJpbmdpZnkocyl9LFFuPShlLHQpPT5RKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgbjtyZXR1cm4gZS5oZWFkZXJzLmZvckVhY2goKGkscik9PntyLnRvTG93ZXJDYXNlKCk9PT0iY29udGVudC10eXBlIiYmKG49aSl9KSxuJiYobi50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoImFwcGxpY2F0aW9uL2pzb24iKXx8bi50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoImFwcGxpY2F0aW9uL2dyYXBocWwranNvbiIpfHxuLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgiYXBwbGljYXRpb24vZ3JhcGhxbC1yZXNwb25zZStqc29uIikpP3QucGFyc2UoeWllbGQgZS50ZXh0KCkpOmUudGV4dCgpfSksV2U9ZT0+dHlwZW9mIGU9PSJmdW5jdGlvbiI/ZSgpOmU7dmFyIFplPXtleHBvcnRzOnt9fTsoZnVuY3Rpb24oZSx0KXt0PWUuZXhwb3J0cz1uLHQuZ2V0U2VyaWFsaXplPWk7ZnVuY3Rpb24gbihyLHMsbyxjKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkocixpKHMsYyksbyl9ZnVuY3Rpb24gaShyLHMpe3ZhciBvPVtdLGM9W107cmV0dXJuIHM9PW51bGwmJihzPWZ1bmN0aW9uKGYsZCl7cmV0dXJuIG9bMF09PT1kPyJbQ2lyY3VsYXIgfl0iOiJbQ2lyY3VsYXIgfi4iK2Muc2xpY2UoMCxvLmluZGV4T2YoZCkpLmpvaW4oIi4iKSsiXSJ9KSxmdW5jdGlvbihmLGQpe2lmKG8ubGVuZ3RoPjApe3ZhciB1PW8uaW5kZXhPZih0aGlzKTt+dT9vLnNwbGljZSh1KzEpOm8ucHVzaCh0aGlzKSx+dT9jLnNwbGljZSh1LDEvMCxmKTpjLnB1c2goZiksfm8uaW5kZXhPZihkKSYmKGQ9cy5jYWxsKHRoaXMsZixkKSl9ZWxzZSBvLnB1c2goZCk7cmV0dXJuIHI9PW51bGw/ZDpyLmNhbGwodGhpcyxmLGQpfX19KShaZSxaZS5leHBvcnRzKTt2YXIgWG49WmUuZXhwb3J0cyxtZT1EdChYbik7Y29uc3Qga3Q9MWUzKjE1O3ZhciBSZT1mdW5jdGlvbigpe3JldHVybiBSZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIG4saT0xLHI9YXJndW1lbnRzLmxlbmd0aDtpPHI7aSsrKXtuPWFyZ3VtZW50c1tpXTtmb3IodmFyIHMgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixzKSYmKHRbc109bltzXSl9cmV0dXJuIHR9LFJlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dHlwZW9mIFN1cHByZXNzZWRFcnJvcj09ImZ1bmN0aW9uIiYmU3VwcHJlc3NlZEVycm9yO3ZhciBQZT1uZXcgTWFwLEtlPW5ldyBNYXAsUnQ9ITAsTGU9ITE7ZnVuY3Rpb24gUHQoZSl7cmV0dXJuIGUucmVwbGFjZSgvW1xzLF0rL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gV24oZSl7cmV0dXJuIFB0KGUuc291cmNlLmJvZHkuc3Vic3RyaW5nKGUuc3RhcnQsZS5lbmQpKX1mdW5jdGlvbiBabihlKXt2YXIgdD1uZXcgU2V0LG49W107cmV0dXJuIGUuZGVmaW5pdGlvbnMuZm9yRWFjaChmdW5jdGlvbihpKXtpZihpLmtpbmQ9PT0iRnJhZ21lbnREZWZpbml0aW9uIil7dmFyIHI9aS5uYW1lLnZhbHVlLHM9V24oaS5sb2MpLG89S2UuZ2V0KHIpO28mJiFvLmhhcyhzKT9SdCYmY29uc29sZS53YXJuKCJXYXJuaW5nOiBmcmFnbWVudCB3aXRoIG5hbWUgIityK2AgYWxyZWFkeSBleGlzdHMuCmdyYXBocWwtdGFnIGVuZm9yY2VzIGFsbCBmcmFnbWVudCBuYW1lcyBhY3Jvc3MgeW91ciBhcHBsaWNhdGlvbiB0byBiZSB1bmlxdWU7IHJlYWQgbW9yZSBhYm91dAp0aGlzIGluIHRoZSBkb2NzOiBodHRwOi8vZGV2LmFwb2xsb2RhdGEuY29tL2NvcmUvZnJhZ21lbnRzLmh0bWwjdW5pcXVlLW5hbWVzYCk6b3x8S2Uuc2V0KHIsbz1uZXcgU2V0KSxvLmFkZChzKSx0LmhhcyhzKXx8KHQuYWRkKHMpLG4ucHVzaChpKSl9ZWxzZSBuLnB1c2goaSl9KSxSZShSZSh7fSxlKSx7ZGVmaW5pdGlvbnM6bn0pfWZ1bmN0aW9uIEtuKGUpe3ZhciB0PW5ldyBTZXQoZS5kZWZpbml0aW9ucyk7dC5mb3JFYWNoKGZ1bmN0aW9uKGkpe2kubG9jJiZkZWxldGUgaS5sb2MsT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgcz1pW3JdO3MmJnR5cGVvZiBzPT0ib2JqZWN0IiYmdC5hZGQocyl9KX0pO3ZhciBuPWUubG9jO3JldHVybiBuJiYoZGVsZXRlIG4uc3RhcnRUb2tlbixkZWxldGUgbi5lbmRUb2tlbiksZX1mdW5jdGlvbiBlcihlKXt2YXIgdD1QdChlKTtpZighUGUuaGFzKHQpKXt2YXIgbj1JdChlLHtleHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlczpMZSxhbGxvd0xlZ2FjeUZyYWdtZW50VmFyaWFibGVzOkxlfSk7aWYoIW58fG4ua2luZCE9PSJEb2N1bWVudCIpdGhyb3cgbmV3IEVycm9yKCJOb3QgYSB2YWxpZCBHcmFwaFFMIGRvY3VtZW50LiIpO1BlLnNldCh0LEtuKFpuKG4pKSl9cmV0dXJuIFBlLmdldCh0KX1mdW5jdGlvbiBKKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3R5cGVvZiBlPT0ic3RyaW5nIiYmKGU9W2VdKTt2YXIgaT1lWzBdO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24ocixzKXtyJiZyLmtpbmQ9PT0iRG9jdW1lbnQiP2krPXIubG9jLnNvdXJjZS5ib2R5OmkrPXIsaSs9ZVtzKzFdfSksZXIoaSl9ZnVuY3Rpb24gdHIoKXtQZS5jbGVhcigpLEtlLmNsZWFyKCl9ZnVuY3Rpb24gbnIoKXtSdD0hMX1mdW5jdGlvbiBycigpe0xlPSEwfWZ1bmN0aW9uIGlyKCl7TGU9ITF9dmFyIGJlPXtncWw6SixyZXNldENhY2hlczp0cixkaXNhYmxlRnJhZ21lbnRXYXJuaW5nczpucixlbmFibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlczpycixkaXNhYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXM6aXJ9OyhmdW5jdGlvbihlKXtlLmdxbD1iZS5ncWwsZS5yZXNldENhY2hlcz1iZS5yZXNldENhY2hlcyxlLmRpc2FibGVGcmFnbWVudFdhcm5pbmdzPWJlLmRpc2FibGVGcmFnbWVudFdhcm5pbmdzLGUuZW5hYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXM9YmUuZW5hYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXMsZS5kaXNhYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXM9YmUuZGlzYWJsZUV4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzfSkoSnx8KEo9e30pKSxKLmRlZmF1bHQ9Sjtjb25zdCBMdD1KYAoJZnJhZ21lbnQgTWF0Y2hQYXJ0cyBvbiBNYXRjaENvbmZpZyB7CgkJcmVnZXhWYWx1ZQoJCW1hdGNoVmFsdWUKCX0KYCxzcj1KYAoJbXV0YXRpb24gUHVzaFBheWxvYWQoCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHBheWxvYWRfaWQ6IElEIQoJCSRldmVudHM6IFJlcGxheUV2ZW50c0lucHV0IQoJCSRtZXNzYWdlczogU3RyaW5nIQoJCSRyZXNvdXJjZXM6IFN0cmluZyEKCQkkd2ViX3NvY2tldF9ldmVudHM6IFN0cmluZyEKCQkkZXJyb3JzOiBbRXJyb3JPYmplY3RJbnB1dF0hCgkJJGlzX2JlYWNvbjogQm9vbGVhbgoJCSRoYXNfc2Vzc2lvbl91bmxvYWRlZDogQm9vbGVhbgoJCSRoaWdobGlnaHRfbG9nczogU3RyaW5nCgkpIHsKCQlwdXNoUGF5bG9hZCgKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQlwYXlsb2FkX2lkOiAkcGF5bG9hZF9pZAoJCQlldmVudHM6ICRldmVudHMKCQkJbWVzc2FnZXM6ICRtZXNzYWdlcwoJCQlyZXNvdXJjZXM6ICRyZXNvdXJjZXMKCQkJd2ViX3NvY2tldF9ldmVudHM6ICR3ZWJfc29ja2V0X2V2ZW50cwoJCQllcnJvcnM6ICRlcnJvcnMKCQkJaXNfYmVhY29uOiAkaXNfYmVhY29uCgkJCWhhc19zZXNzaW9uX3VubG9hZGVkOiAkaGFzX3Nlc3Npb25fdW5sb2FkZWQKCQkJaGlnaGxpZ2h0X2xvZ3M6ICRoaWdobGlnaHRfbG9ncwoJCSkKCX0KYCxvcj1KYAoJbXV0YXRpb24gUHVzaFNlc3Npb25FdmVudHMoCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHBheWxvYWRfaWQ6IEludDY0SUQhCgkJJGRhdGE6IFN0cmluZyEKCSkgewoJCXB1c2hTZXNzaW9uRXZlbnRzKAoJCQlzZXNzaW9uX3NlY3VyZV9pZDogJHNlc3Npb25fc2VjdXJlX2lkCgkJCXBheWxvYWRfaWQ6ICRwYXlsb2FkX2lkCgkJCWRhdGE6ICRkYXRhCgkJKQoJfQpgLGFyPUpgCgltdXRhdGlvbiBpZGVudGlmeVNlc3Npb24oCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHVzZXJfaWRlbnRpZmllcjogU3RyaW5nIQoJCSR1c2VyX29iamVjdDogQW55CgkpIHsKCQlpZGVudGlmeVNlc3Npb24oCgkJCXNlc3Npb25fc2VjdXJlX2lkOiAkc2Vzc2lvbl9zZWN1cmVfaWQKCQkJdXNlcl9pZGVudGlmaWVyOiAkdXNlcl9pZGVudGlmaWVyCgkJCXVzZXJfb2JqZWN0OiAkdXNlcl9vYmplY3QKCQkpCgl9CmAsY3I9SmAKCW11dGF0aW9uIGFkZFNlc3Npb25Qcm9wZXJ0aWVzKAoJCSRzZXNzaW9uX3NlY3VyZV9pZDogU3RyaW5nIQoJCSRwcm9wZXJ0aWVzX29iamVjdDogQW55CgkpIHsKCQlhZGRTZXNzaW9uUHJvcGVydGllcygKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQlwcm9wZXJ0aWVzX29iamVjdDogJHByb3BlcnRpZXNfb2JqZWN0CgkJKQoJfQpgLHVyPUpgCgltdXRhdGlvbiBwdXNoTWV0cmljcygkbWV0cmljczogW01ldHJpY0lucHV0XSEpIHsKCQlwdXNoTWV0cmljcyhtZXRyaWNzOiAkbWV0cmljcykKCX0KYCxscj1KYAoJbXV0YXRpb24gYWRkU2Vzc2lvbkZlZWRiYWNrKAoJCSRzZXNzaW9uX3NlY3VyZV9pZDogU3RyaW5nIQoJCSR1c2VyX25hbWU6IFN0cmluZwoJCSR1c2VyX2VtYWlsOiBTdHJpbmcKCQkkdmVyYmF0aW06IFN0cmluZyEKCQkkdGltZXN0YW1wOiBUaW1lc3RhbXAhCgkpIHsKCQlhZGRTZXNzaW9uRmVlZGJhY2soCgkJCXNlc3Npb25fc2VjdXJlX2lkOiAkc2Vzc2lvbl9zZWN1cmVfaWQKCQkJdXNlcl9uYW1lOiAkdXNlcl9uYW1lCgkJCXVzZXJfZW1haWw6ICR1c2VyX2VtYWlsCgkJCXZlcmJhdGltOiAkdmVyYmF0aW0KCQkJdGltZXN0YW1wOiAkdGltZXN0YW1wCgkJKQoJfQpgLGZyPUpgCgltdXRhdGlvbiBpbml0aWFsaXplU2Vzc2lvbigKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkc2Vzc2lvbl9rZXk6IFN0cmluZwoJCSRvcmdhbml6YXRpb25fdmVyYm9zZV9pZDogU3RyaW5nIQoJCSRlbmFibGVfc3RyaWN0X3ByaXZhY3k6IEJvb2xlYW4hCgkJJHByaXZhY3lfc2V0dGluZzogU3RyaW5nIQoJCSRlbmFibGVfcmVjb3JkaW5nX25ldHdvcmtfY29udGVudHM6IEJvb2xlYW4hCgkJJGNsaWVudFZlcnNpb246IFN0cmluZyEKCQkkZmlyc3Rsb2FkVmVyc2lvbjogU3RyaW5nIQoJCSRjbGllbnRDb25maWc6IFN0cmluZyEKCQkkZW52aXJvbm1lbnQ6IFN0cmluZyEKCQkkaWQ6IFN0cmluZyEKCQkkYXBwVmVyc2lvbjogU3RyaW5nCgkJJHNlcnZpY2VOYW1lOiBTdHJpbmchCgkJJGNsaWVudF9pZDogU3RyaW5nIQoJCSRuZXR3b3JrX3JlY29yZGluZ19kb21haW5zOiBbU3RyaW5nIV0KCQkkZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzogQm9vbGVhbgoJKSB7CgkJaW5pdGlhbGl6ZVNlc3Npb24oCgkJCXNlc3Npb25fc2VjdXJlX2lkOiAkc2Vzc2lvbl9zZWN1cmVfaWQKCQkJc2Vzc2lvbl9rZXk6ICRzZXNzaW9uX2tleQoJCQlvcmdhbml6YXRpb25fdmVyYm9zZV9pZDogJG9yZ2FuaXphdGlvbl92ZXJib3NlX2lkCgkJCWVuYWJsZV9zdHJpY3RfcHJpdmFjeTogJGVuYWJsZV9zdHJpY3RfcHJpdmFjeQoJCQllbmFibGVfcmVjb3JkaW5nX25ldHdvcmtfY29udGVudHM6ICRlbmFibGVfcmVjb3JkaW5nX25ldHdvcmtfY29udGVudHMKCQkJY2xpZW50VmVyc2lvbjogJGNsaWVudFZlcnNpb24KCQkJZmlyc3Rsb2FkVmVyc2lvbjogJGZpcnN0bG9hZFZlcnNpb24KCQkJY2xpZW50Q29uZmlnOiAkY2xpZW50Q29uZmlnCgkJCWVudmlyb25tZW50OiAkZW52aXJvbm1lbnQKCQkJYXBwVmVyc2lvbjogJGFwcFZlcnNpb24KCQkJc2VydmljZU5hbWU6ICRzZXJ2aWNlTmFtZQoJCQlmaW5nZXJwcmludDogJGlkCgkJCWNsaWVudF9pZDogJGNsaWVudF9pZAoJCQluZXR3b3JrX3JlY29yZGluZ19kb21haW5zOiAkbmV0d29ya19yZWNvcmRpbmdfZG9tYWlucwoJCQlkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nOiAkZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZwoJCQlwcml2YWN5X3NldHRpbmc6ICRwcml2YWN5X3NldHRpbmcKCQkpIHsKCQkJc2VjdXJlX2lkCgkJCXByb2plY3RfaWQKCQkJc2FtcGxpbmcgewoJCQkJc3BhbnMgewoJCQkJCW5hbWUgewoJCQkJCQkuLi5NYXRjaFBhcnRzCgkJCQkJfQoJCQkJCWF0dHJpYnV0ZXMgewoJCQkJCQlrZXkgewoJCQkJCQkJLi4uTWF0Y2hQYXJ0cwoJCQkJCQl9CgkJCQkJCWF0dHJpYnV0ZSB7CgkJCQkJCQkuLi5NYXRjaFBhcnRzCgkJCQkJCX0KCQkJCQl9CgkJCQkJZXZlbnRzIHsKCQkJCQkJbmFtZSB7CgkJCQkJCQkuLi5NYXRjaFBhcnRzCgkJCQkJCX0KCQkJCQkJYXR0cmlidXRlcyB7CgkJCQkJCQlrZXkgewoJCQkJCQkJCS4uLk1hdGNoUGFydHMKCQkJCQkJCX0KCQkJCQkJCWF0dHJpYnV0ZSB7CgkJCQkJCQkJLi4uTWF0Y2hQYXJ0cwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJCXNhbXBsaW5nUmF0aW8KCQkJCX0KCQkJCWxvZ3MgewoJCQkJCW1lc3NhZ2UgewoJCQkJCQkuLi5NYXRjaFBhcnRzCgkJCQkJfQoJCQkJCXNldmVyaXR5VGV4dCB7CgkJCQkJCS4uLk1hdGNoUGFydHMKCQkJCQl9CgkJCQkJYXR0cmlidXRlcyB7CgkJCQkJCWtleSB7CgkJCQkJCQkuLi5NYXRjaFBhcnRzCgkJCQkJCX0KCQkJCQkJYXR0cmlidXRlIHsKCQkJCQkJCS4uLk1hdGNoUGFydHMKCQkJCQkJfQoJCQkJCX0KCQkJCQlzYW1wbGluZ1JhdGlvCgkJCQl9CgkJCX0KCQl9Cgl9Cgkke0x0fQpgLGhyPUpgCglxdWVyeSBJZ25vcmUoJGlkOiBJRCEpIHsKCQlpZ25vcmUoaWQ6ICRpZCkKCX0KYCxkcj1KYAoJcXVlcnkgR2V0U2FtcGxpbmdDb25maWcoJG9yZ2FuaXphdGlvbl92ZXJib3NlX2lkOiBTdHJpbmchKSB7CgkJc2FtcGxpbmcob3JnYW5pemF0aW9uX3ZlcmJvc2VfaWQ6ICRvcmdhbml6YXRpb25fdmVyYm9zZV9pZCkgewoJCQlzcGFucyB7CgkJCQluYW1lIHsKCQkJCQkuLi5NYXRjaFBhcnRzCgkJCQl9CgkJCQlhdHRyaWJ1dGVzIHsKCQkJCQlrZXkgewoJCQkJCQkuLi5NYXRjaFBhcnRzCgkJCQkJfQoJCQkJCWF0dHJpYnV0ZSB7CgkJCQkJCS4uLk1hdGNoUGFydHMKCQkJCQl9CgkJCQl9CgkJCQlldmVudHMgewoJCQkJCW5hbWUgewoJCQkJCQkuLi5NYXRjaFBhcnRzCgkJCQkJfQoJCQkJCWF0dHJpYnV0ZXMgewoJCQkJCQlrZXkgewoJCQkJCQkJLi4uTWF0Y2hQYXJ0cwoJCQkJCQl9CgkJCQkJCWF0dHJpYnV0ZSB7CgkJCQkJCQkuLi5NYXRjaFBhcnRzCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCQlzYW1wbGluZ1JhdGlvCgkJCX0KCQkJbG9ncyB7CgkJCQltZXNzYWdlIHsKCQkJCQkuLi5NYXRjaFBhcnRzCgkJCQl9CgkJCQlzZXZlcml0eVRleHQgewoJCQkJCS4uLk1hdGNoUGFydHMKCQkJCX0KCQkJCWF0dHJpYnV0ZXMgewoJCQkJCWtleSB7CgkJCQkJCS4uLk1hdGNoUGFydHMKCQkJCQl9CgkJCQkJYXR0cmlidXRlIHsKCQkJCQkJLi4uTWF0Y2hQYXJ0cwoJCQkJCX0KCQkJCX0KCQkJCXNhbXBsaW5nUmF0aW8KCQkJfQoJCX0KCX0KCSR7THR9CmAscHI9KGUsdCxuLGkpPT5lKCk7ZnVuY3Rpb24gbXIoZSx0PXByKXtyZXR1cm57UHVzaFBheWxvYWQobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3Qoc3IsbixEKEQoe30saSkscikpLCJQdXNoUGF5bG9hZCIsIm11dGF0aW9uIixuKX0sUHVzaFNlc3Npb25FdmVudHMobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3Qob3IsbixEKEQoe30saSkscikpLCJQdXNoU2Vzc2lvbkV2ZW50cyIsIm11dGF0aW9uIixuKX0saWRlbnRpZnlTZXNzaW9uKG4saSl7cmV0dXJuIHQocj0+ZS5yZXF1ZXN0KGFyLG4sRChEKHt9LGkpLHIpKSwiaWRlbnRpZnlTZXNzaW9uIiwibXV0YXRpb24iLG4pfSxhZGRTZXNzaW9uUHJvcGVydGllcyhuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChjcixuLEQoRCh7fSxpKSxyKSksImFkZFNlc3Npb25Qcm9wZXJ0aWVzIiwibXV0YXRpb24iLG4pfSxwdXNoTWV0cmljcyhuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdCh1cixuLEQoRCh7fSxpKSxyKSksInB1c2hNZXRyaWNzIiwibXV0YXRpb24iLG4pfSxhZGRTZXNzaW9uRmVlZGJhY2sobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QobHIsbixEKEQoe30saSkscikpLCJhZGRTZXNzaW9uRmVlZGJhY2siLCJtdXRhdGlvbiIsbil9LGluaXRpYWxpemVTZXNzaW9uKG4saSl7cmV0dXJuIHQocj0+ZS5yZXF1ZXN0KGZyLG4sRChEKHt9LGkpLHIpKSwiaW5pdGlhbGl6ZVNlc3Npb24iLCJtdXRhdGlvbiIsbil9LElnbm9yZShuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChocixuLEQoRCh7fSxpKSxyKSksIklnbm9yZSIsInF1ZXJ5IixuKX0sR2V0U2FtcGxpbmdDb25maWcobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoZHIsbixEKEQoe30saSkscikpLCJHZXRTYW1wbGluZ0NvbmZpZyIsInF1ZXJ5IixuKX19fXZhciBXPVVpbnQ4QXJyYXksWj1VaW50MTZBcnJheSxldD1JbnQzMkFycmF5LHR0PW5ldyBXKFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDAsMCwwLDBdKSxudD1uZXcgVyhbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSxGdD1uZXcgVyhbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pLE10PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPW5ldyBaKDMxKSxpPTA7aTwzMTsrK2kpbltpXT10Kz0xPDxlW2ktMV07Zm9yKHZhciByPW5ldyBldChuWzMwXSksaT0xO2k8MzA7KytpKWZvcih2YXIgcz1uW2ldO3M8bltpKzFdOysrcylyW3NdPXMtbltpXTw8NXxpO3JldHVybntiOm4scn19LCR0PU10KHR0LDIpLHlyPSR0LmIscnQ9JHQucjt5clsyOF09MjU4LHJ0WzI1OF09Mjg7Zm9yKHZhciBncj1NdChudCwwKSxCdD1nci5yLGl0PW5ldyBaKDMyNzY4KSxMPTA7TDwzMjc2ODsrK0wpe3ZhciBhZT0oTCY0MzY5MCk+PjF8KEwmMjE4NDUpPDwxO2FlPShhZSY1MjQyOCk+PjJ8KGFlJjEzMTA3KTw8MixhZT0oYWUmNjE2ODApPj40fChhZSYzODU1KTw8NCxpdFtMXT0oKGFlJjY1MjgwKT4+OHwoYWUmMjU1KTw8OCk+PjF9Zm9yKHZhciBOZT1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpPWUubGVuZ3RoLHI9MCxzPW5ldyBaKHQpO3I8aTsrK3IpZVtyXSYmKytzW2Vbcl0tMV07dmFyIG89bmV3IFoodCk7Zm9yKHI9MTtyPHQ7KytyKW9bcl09b1tyLTFdK3Nbci0xXTw8MTt2YXIgYztpZihuKXtjPW5ldyBaKDE8PHQpO3ZhciBmPTE1LXQ7Zm9yKHI9MDtyPGk7KytyKWlmKGVbcl0pZm9yKHZhciBkPXI8PDR8ZVtyXSx1PXQtZVtyXSx5PW9bZVtyXS0xXSsrPDx1LHY9eXwoMTw8dSktMTt5PD12OysreSljW2l0W3ldPj5mXT1kfWVsc2UgZm9yKGM9bmV3IFooaSkscj0wO3I8aTsrK3IpZVtyXSYmKGNbcl09aXRbb1tlW3JdLTFdKytdPj4xNS1lW3JdKTtyZXR1cm4gY30sbGU9bmV3IFcoMjg4KSxMPTA7TDwxNDQ7KytMKWxlW0xdPTg7Zm9yKHZhciBMPTE0NDtMPDI1NjsrK0wpbGVbTF09OTtmb3IodmFyIEw9MjU2O0w8MjgwOysrTClsZVtMXT03O2Zvcih2YXIgTD0yODA7TDwyODg7KytMKWxlW0xdPTg7Zm9yKHZhciBGZT1uZXcgVygzMiksTD0wO0w8MzI7KytMKUZlW0xdPTU7dmFyIHZyPU5lKGxlLDksMCksRXI9TmUoRmUsNSwwKSxVdD1mdW5jdGlvbihlKXtyZXR1cm4oZSs3KS84fDB9LFZ0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4obj09bnVsbHx8bj5lLmxlbmd0aCkmJihuPWUubGVuZ3RoKSxuZXcgVyhlLnN1YmFycmF5KHQsbikpfSxpZT1mdW5jdGlvbihlLHQsbil7bjw8PXQmNzt2YXIgaT10Lzh8MDtlW2ldfD1uLGVbaSsxXXw9bj4+OH0seGU9ZnVuY3Rpb24oZSx0LG4pe248PD10Jjc7dmFyIGk9dC84fDA7ZVtpXXw9bixlW2krMV18PW4+PjgsZVtpKzJdfD1uPj4xNn0sc3Q9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10saT0wO2k8ZS5sZW5ndGg7KytpKWVbaV0mJm4ucHVzaCh7czppLGY6ZVtpXX0pO3ZhciByPW4ubGVuZ3RoLHM9bi5zbGljZSgpO2lmKCFyKXJldHVybnt0Onp0LGw6MH07aWYocj09MSl7dmFyIG89bmV3IFcoblswXS5zKzEpO3JldHVybiBvW25bMF0uc109MSx7dDpvLGw6MX19bi5zb3J0KGZ1bmN0aW9uKCQscSl7cmV0dXJuICQuZi1xLmZ9KSxuLnB1c2goe3M6LTEsZjoyNTAwMX0pO3ZhciBjPW5bMF0sZj1uWzFdLGQ9MCx1PTEseT0yO2ZvcihuWzBdPXtzOi0xLGY6Yy5mK2YuZixsOmMscjpmfTt1IT1yLTE7KWM9bltuW2RdLmY8blt5XS5mP2QrKzp5KytdLGY9bltkIT11JiZuW2RdLmY8blt5XS5mP2QrKzp5KytdLG5bdSsrXT17czotMSxmOmMuZitmLmYsbDpjLHI6Zn07Zm9yKHZhciB2PXNbMF0ucyxpPTE7aTxyOysraSlzW2ldLnM+diYmKHY9c1tpXS5zKTt2YXIgYj1uZXcgWih2KzEpLG09b3Qoblt1LTFdLGIsMCk7aWYobT50KXt2YXIgaT0wLE49MCxnPW0tdCxFPTE8PGc7Zm9yKHMuc29ydChmdW5jdGlvbihxLEIpe3JldHVybiBiW0Iuc10tYltxLnNdfHxxLmYtQi5mfSk7aTxyOysraSl7dmFyIEM9c1tpXS5zO2lmKGJbQ10+dClOKz1FLSgxPDxtLWJbQ10pLGJbQ109dDtlbHNlIGJyZWFrfWZvcihOPj49ZztOPjA7KXt2YXIgdz1zW2ldLnM7Ylt3XTx0P04tPTE8PHQtYlt3XSsrLTE6KytpfWZvcig7aT49MCYmTjstLWkpe3ZhciBSPXNbaV0ucztiW1JdPT10JiYoLS1iW1JdLCsrTil9bT10fXJldHVybnt0Om5ldyBXKGIpLGw6bX19LG90PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5zPT0tMT9NYXRoLm1heChvdChlLmwsdCxuKzEpLG90KGUucix0LG4rMSkpOnRbZS5zXT1ufSxqdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dCYmIWVbLS10XTspO2Zvcih2YXIgbj1uZXcgWigrK3QpLGk9MCxyPWVbMF0scz0xLG89ZnVuY3Rpb24oZil7bltpKytdPWZ9LGM9MTtjPD10OysrYylpZihlW2NdPT1yJiZjIT10KSsrcztlbHNle2lmKCFyJiZzPjIpe2Zvcig7cz4xMzg7cy09MTM4KW8oMzI3NTQpO3M+MiYmKG8ocz4xMD9zLTExPDw1fDI4NjkwOnMtMzw8NXwxMjMwNSkscz0wKX1lbHNlIGlmKHM+Myl7Zm9yKG8ociksLS1zO3M+NjtzLT02KW8oODMwNCk7cz4yJiYobyhzLTM8PDV8ODIwOCkscz0wKX1mb3IoO3MtLTspbyhyKTtzPTEscj1lW2NdfXJldHVybntjOm4uc3ViYXJyYXkoMCxpKSxuOnR9fSxBZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLGk9MDtpPHQubGVuZ3RoOysraSluKz1lW2ldKnRbaV07cmV0dXJuIG59LHF0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uLmxlbmd0aCxyPVV0KHQrMik7ZVtyXT1pJjI1NSxlW3IrMV09aT4+OCxlW3IrMl09ZVtyXV4yNTUsZVtyKzNdPWVbcisxXV4yNTU7Zm9yKHZhciBzPTA7czxpOysrcyllW3Ircys0XT1uW3NdO3JldHVybihyKzQraSkqOH0sR3Q9ZnVuY3Rpb24oZSx0LG4saSxyLHMsbyxjLGYsZCx1KXtpZSh0LHUrKyxuKSwrK3JbMjU2XTtmb3IodmFyIHk9c3QociwxNSksdj15LnQsYj15LmwsbT1zdChzLDE1KSxOPW0udCxnPW0ubCxFPWp0KHYpLEM9RS5jLHc9RS5uLFI9anQoTiksJD1SLmMscT1SLm4sQj1uZXcgWigxOSksST0wO0k8Qy5sZW5ndGg7KytJKSsrQltDW0ldJjMxXTtmb3IodmFyIEk9MDtJPCQubGVuZ3RoOysrSSkrK0JbJFtJXSYzMV07Zm9yKHZhciBTPXN0KEIsNyksaj1TLnQsVT1TLmwsej0xOTt6PjQmJiFqW0Z0W3otMV1dOy0teik7dmFyIEs9ZCs1PDwzLGE9QWUocixsZSkrQWUocyxGZSkrbyxoPUFlKHIsdikrQWUocyxOKStvKzE0KzMqeitBZShCLGopKzIqQlsxNl0rMypCWzE3XSs3KkJbMThdO2lmKGY+PTAmJks8PWEmJks8PWgpcmV0dXJuIHF0KHQsdSxlLnN1YmFycmF5KGYsZitkKSk7dmFyIF8sQSxrLHg7aWYoaWUodCx1LDErKGg8YSkpLHUrPTIsaDxhKXtfPU5lKHYsYiwwKSxBPXYsaz1OZShOLGcsMCkseD1OO3ZhciBjZT1OZShqLFUsMCk7aWUodCx1LHctMjU3KSxpZSh0LHUrNSxxLTEpLGllKHQsdSsxMCx6LTQpLHUrPTE0O2Zvcih2YXIgST0wO0k8ejsrK0kpaWUodCx1KzMqSSxqW0Z0W0ldXSk7dSs9Myp6O2Zvcih2YXIgSD1bQywkXSxzZT0wO3NlPDI7KytzZSlmb3IodmFyIHllPUhbc2VdLEk9MDtJPHllLmxlbmd0aDsrK0kpe3ZhciBuZT15ZVtJXSYzMTtpZSh0LHUsY2VbbmVdKSx1Kz1qW25lXSxuZT4xNSYmKGllKHQsdSx5ZVtJXT4+NSYxMjcpLHUrPXllW0ldPj4xMil9fWVsc2UgXz12cixBPWxlLGs9RXIseD1GZTtmb3IodmFyIEk9MDtJPGM7KytJKXt2YXIgWT1pW0ldO2lmKFk+MjU1KXt2YXIgbmU9WT4+MTgmMzE7eGUodCx1LF9bbmUrMjU3XSksdSs9QVtuZSsyNTddLG5lPjcmJihpZSh0LHUsWT4+MjMmMzEpLHUrPXR0W25lXSk7dmFyIGdlPVkmMzE7eGUodCx1LGtbZ2VdKSx1Kz14W2dlXSxnZT4zJiYoeGUodCx1LFk+PjUmODE5MSksdSs9bnRbZ2VdKX1lbHNlIHhlKHQsdSxfW1ldKSx1Kz1BW1ldfXJldHVybiB4ZSh0LHUsX1syNTZdKSx1K0FbMjU2XX0sX3I9bmV3IGV0KFs2NTU0MCwxMzEwODAsMTMxMDg4LDEzMTEwNCwyNjIxNzYsMTA0ODcwNCwxMDQ4ODMyLDIxMTQ1NjAsMjExNzYzMl0pLHp0PW5ldyBXKDApLFRyPWZ1bmN0aW9uKGUsdCxuLGkscixzKXt2YXIgbz1zLnp8fGUubGVuZ3RoLGM9bmV3IFcoaStvKzUqKDErTWF0aC5jZWlsKG8vN2UzKSkrciksZj1jLnN1YmFycmF5KGksYy5sZW5ndGgtciksZD1zLmwsdT0ocy5yfHwwKSY3O2lmKHQpe3UmJihmWzBdPXMucj4+Myk7Zm9yKHZhciB5PV9yW3QtMV0sdj15Pj4xMyxiPXkmODE5MSxtPSgxPDxuKS0xLE49cy5wfHxuZXcgWigzMjc2OCksZz1zLmh8fG5ldyBaKG0rMSksRT1NYXRoLmNlaWwobi8zKSxDPTIqRSx3PWZ1bmN0aW9uKGx0KXtyZXR1cm4oZVtsdF1eZVtsdCsxXTw8RV5lW2x0KzJdPDxDKSZtfSxSPW5ldyBldCgyNWUzKSwkPW5ldyBaKDI4OCkscT1uZXcgWigzMiksQj0wLEk9MCxTPXMuaXx8MCxqPTAsVT1zLnd8fDAsej0wO1MrMjxvOysrUyl7dmFyIEs9dyhTKSxhPVMmMzI3NjcsaD1nW0tdO2lmKE5bYV09aCxnW0tdPWEsVTw9Uyl7dmFyIF89by1TO2lmKChCPjdlM3x8aj4yNDU3NikmJihfPjQyM3x8IWQpKXt1PUd0KGUsZiwwLFIsJCxxLEksaix6LFMteix1KSxqPUI9ST0wLHo9Uztmb3IodmFyIEE9MDtBPDI4NjsrK0EpJFtBXT0wO2Zvcih2YXIgQT0wO0E8MzA7KytBKXFbQV09MH12YXIgaz0yLHg9MCxjZT1iLEg9YS1oJjMyNzY3O2lmKF8+MiYmSz09dyhTLUgpKWZvcih2YXIgc2U9TWF0aC5taW4odixfKS0xLHllPU1hdGgubWluKDMyNzY3LFMpLG5lPU1hdGgubWluKDI1OCxfKTtIPD15ZSYmLS1jZSYmYSE9aDspe2lmKGVbUytrXT09ZVtTK2stSF0pe2Zvcih2YXIgWT0wO1k8bmUmJmVbUytZXT09ZVtTK1ktSF07KytZKTtpZihZPmspe2lmKGs9WSx4PUgsWT5zZSlicmVhaztmb3IodmFyIGdlPU1hdGgubWluKEgsWS0yKSxXdD0wLEE9MDtBPGdlOysrQSl7dmFyIGN0PVMtSCtBJjMyNzY3LFVyPU5bY3RdLFp0PWN0LVVyJjMyNzY3O1p0Pld0JiYoV3Q9WnQsaD1jdCl9fX1hPWgsaD1OW2FdLEgrPWEtaCYzMjc2N31pZih4KXtSW2orK109MjY4NDM1NDU2fHJ0W2tdPDwxOHxCdFt4XTt2YXIgS3Q9cnRba10mMzEsZW49QnRbeF0mMzE7SSs9dHRbS3RdK250W2VuXSwrKyRbMjU3K0t0XSwrK3FbZW5dLFU9UytrLCsrQn1lbHNlIFJbaisrXT1lW1NdLCsrJFtlW1NdXX19Zm9yKFM9TWF0aC5tYXgoUyxVKTtTPG87KytTKVJbaisrXT1lW1NdLCsrJFtlW1NdXTt1PUd0KGUsZixkLFIsJCxxLEksaix6LFMteix1KSxkfHwocy5yPXUmN3xmW3UvOHwwXTw8Myx1LT03LHMuaD1nLHMucD1OLHMuaT1TLHMudz1VKX1lbHNle2Zvcih2YXIgUz1zLnd8fDA7UzxvK2Q7Uys9NjU1MzUpe3ZhciB1dD1TKzY1NTM1O3V0Pj1vJiYoZlt1Lzh8MF09ZCx1dD1vKSx1PXF0KGYsdSsxLGUuc3ViYXJyYXkoUyx1dCkpfXMuaT1vfXJldHVybiBWdChjLDAsaStVdCh1KStyKX0sYnI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IEludDMyQXJyYXkoMjU2KSx0PTA7dDwyNTY7Kyt0KXtmb3IodmFyIG49dCxpPTk7LS1pOyluPShuJjEmJi0zMDY2NzQ5MTIpXm4+Pj4xO2VbdF09bn1yZXR1cm4gZX0oKSxOcj1mdW5jdGlvbigpe3ZhciBlPS0xO3JldHVybntwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1lLGk9MDtpPHQubGVuZ3RoOysraSluPWJyW24mMjU1XnRbaV1dXm4+Pj44O2U9bn0sZDpmdW5jdGlvbigpe3JldHVybn5lfX19LHhyPWZ1bmN0aW9uKGUsdCxuLGkscil7aWYoIXImJihyPXtsOjF9LHQuZGljdGlvbmFyeSkpe3ZhciBzPXQuZGljdGlvbmFyeS5zdWJhcnJheSgtMzI3NjgpLG89bmV3IFcocy5sZW5ndGgrZS5sZW5ndGgpO28uc2V0KHMpLG8uc2V0KGUscy5sZW5ndGgpLGU9byxyLnc9cy5sZW5ndGh9cmV0dXJuIFRyKGUsdC5sZXZlbD09bnVsbD82OnQubGV2ZWwsdC5tZW09PW51bGw/ci5sP01hdGguY2VpbChNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKGUubGVuZ3RoKSkpKjEuNSk6MjA6MTIrdC5tZW0sbixpLHIpfSxhdD1mdW5jdGlvbihlLHQsbil7Zm9yKDtuOysrdCllW3RdPW4sbj4+Pj04fSxBcj1mdW5jdGlvbihlLHQpe3ZhciBuPXQuZmlsZW5hbWU7aWYoZVswXT0zMSxlWzFdPTEzOSxlWzJdPTgsZVs4XT10LmxldmVsPDI/NDp0LmxldmVsPT05PzI6MCxlWzldPTMsdC5tdGltZSE9MCYmYXQoZSw0LE1hdGguZmxvb3IobmV3IERhdGUodC5tdGltZXx8RGF0ZS5ub3coKSkvMWUzKSksbil7ZVszXT04O2Zvcih2YXIgaT0wO2k8PW4ubGVuZ3RoOysraSllW2krMTBdPW4uY2hhckNvZGVBdChpKX19LElyPWZ1bmN0aW9uKGUpe3JldHVybiAxMCsoZS5maWxlbmFtZT9lLmZpbGVuYW1lLmxlbmd0aCsxOjApfTtmdW5jdGlvbiBTcihlLHQpe3R8fCh0PXt9KTt2YXIgbj1OcigpLGk9ZS5sZW5ndGg7bi5wKGUpO3ZhciByPXhyKGUsdCxJcih0KSw4KSxzPXIubGVuZ3RoO3JldHVybiBBcihyLHQpLGF0KHIscy04LG4uZCgpKSxhdChyLHMtNCxpKSxyfXZhciBIdD10eXBlb2YgVGV4dEVuY29kZXIhPSJ1bmRlZmluZWQiJiZuZXcgVGV4dEVuY29kZXIsT3I9dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIiYmbmV3IFRleHREZWNvZGVyLHdyPTA7dHJ5e09yLmRlY29kZSh6dCx7c3RyZWFtOiEwfSksd3I9MX1jYXRjaChlKXt9ZnVuY3Rpb24gRHIoZSx0KXt2YXIgbjtpZihIdClyZXR1cm4gSHQuZW5jb2RlKGUpO2Zvcih2YXIgaT1lLmxlbmd0aCxyPW5ldyBXKGUubGVuZ3RoKyhlLmxlbmd0aD4+MSkpLHM9MCxvPWZ1bmN0aW9uKGQpe3JbcysrXT1kfSxuPTA7bjxpOysrbil7aWYocys1PnIubGVuZ3RoKXt2YXIgYz1uZXcgVyhzKzgrKGktbjw8MSkpO2Muc2V0KHIpLHI9Y312YXIgZj1lLmNoYXJDb2RlQXQobik7ZjwxMjh8fHQ/byhmKTpmPDIwNDg/KG8oMTkyfGY+PjYpLG8oMTI4fGYmNjMpKTpmPjU1Mjk1JiZmPDU3MzQ0PyhmPTY1NTM2KyhmJjEwNDc1NTIpfGUuY2hhckNvZGVBdCgrK24pJjEwMjMsbygyNDB8Zj4+MTgpLG8oMTI4fGY+PjEyJjYzKSxvKDEyOHxmPj42JjYzKSxvKDEyOHxmJjYzKSk6KG8oMjI0fGY+PjEyKSxvKDEyOHxmPj42JjYzKSxvKDEyOHxmJjYzKSl9cmV0dXJuIFZ0KHIsMCxzKX1mdW5jdGlvbiBDcihlKXtyZXR1cm4gUSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3QgdD1EcihKU09OLnN0cmluZ2lmeShlKSksbj1Tcih0KSxpPXlpZWxkIG5ldyBQcm9taXNlKHI9Pntjb25zdCBzPW5ldyBGaWxlUmVhZGVyO3Mub25sb2FkPSgpPT5yKHMucmVzdWx0KSxzLnJlYWRBc0RhdGFVUkwobmV3IEJsb2IoW25ldyBVaW50OEFycmF5KG4pXSkpfSk7cmV0dXJue2NvbXByZXNzZWRCYXNlNjQ6aS5zbGljZShpLmluZGV4T2YoIiwiKSsxKSxjb21wcmVzc2VkU2l6ZTpuLmxlbmd0aCxidWZmZXJMZW5ndGg6dC5sZW5ndGh9fSl9Y2xhc3Mga3J7Y29uc3RydWN0b3IodCxuKXtodCh0aGlzLCJkZWJ1ZyIpO2h0KHRoaXMsIm5hbWUiKTt0aGlzLmRlYnVnPXQsdGhpcy5uYW1lPW59bG9nKC4uLnQpe2lmKHRoaXMuZGVidWcpe2xldCBuPWBbJHtEYXRlLm5vdygpfV1gO3RoaXMubmFtZSYmKG4rPWAgLSAke3RoaXMubmFtZX1gKSxjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLFtuLC4uLnRdKX19d2FybiguLi50KXtsZXQgbj1gWyR7RGF0ZS5ub3coKX1dYDt0aGlzLm5hbWUmJihuKz1gIC0gJHt0aGlzLm5hbWV9YCksY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsW24sLi4udF0pfX12YXIgWXQ9KGU9PihlLkJpbGxpbmdRdW90YUV4Y2VlZGVkPSJCaWxsaW5nUXVvdGFFeGNlZWRlZCIsZSkpKFl0fHx7fSk7Y29uc3QgUnI9MTAsUHI9MWUzLExyPTUwMCxGcj1bWXQuQmlsbGluZ1F1b3RhRXhjZWVkZWQudG9TdHJpbmcoKV0sTXI9ZT0+e3ZhciBuO3JldHVybigobj1lLnJlc3BvbnNlLmVycm9ycyk9PW51bGw/dm9pZCAwOm4uZmluZChpPT5Gci5pbmNsdWRlcyhpLm1lc3NhZ2UpKSk9PT12b2lkIDB9LCRyPSgpPT57Y29uc3QgZT0odCxuLGkscixzPTApPT5RKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0cnl7cmV0dXJuIHlpZWxkIHQoKX1jYXRjaChvKXtpZihvIGluc3RhbmNlb2YgZGUmJiFNcihvKSl0aHJvdyBvO2lmKHM8UnIpcmV0dXJuIHlpZWxkIG5ldyBQcm9taXNlKGM9PnNldFRpbWVvdXQoYyxQcitMcipNYXRoLnBvdygyLHMpKSkseWllbGQgZSh0LG4saSxyLHMrMSk7dGhyb3cgY29uc29sZS5lcnJvcihgaGlnaGxpZ2h0LmlvOiBkYXRhIHJlcXVlc3QgZmFpbGVkIGFmdGVyICR7c30gcmV0cmllc2ApLG99fSk7cmV0dXJuIGV9LEp0PTUsUXQ9MmUzLEJyPVsibnVtYmVyIiwic3RyaW5nIiwiYm9vbGVhbiJdO3ZhciB0ZT0oZT0+KGVbZS5Jbml0aWFsaXplPTBdPSJJbml0aWFsaXplIixlW2UuQXN5bmNFdmVudHM9MV09IkFzeW5jRXZlbnRzIixlW2UuSWRlbnRpZnk9Ml09IklkZW50aWZ5IixlW2UuUHJvcGVydGllcz0zXT0iUHJvcGVydGllcyIsZVtlLk1ldHJpY3M9NF09Ik1ldHJpY3MiLGVbZS5GZWVkYmFjaz01XT0iRmVlZGJhY2siLGVbZS5DdXN0b21FdmVudD02XT0iQ3VzdG9tRXZlbnQiLGVbZS5TdG9wPTddPSJTdG9wIixlKSkodGV8fHt9KTtjb25zdCBNZT1zZWxmO2Z1bmN0aW9uIFh0KGUsdCl7Y29uc3Qgbj17fSxpPVtdLHI9W107Zm9yKGNvbnN0W3Msb11vZiBPYmplY3QuZW50cmllcyhlKSl7aWYobz09bnVsbCljb250aW51ZTtCci5pbmNsdWRlcyh0eXBlb2Ygbyl8fGkucHVzaCh7W3NdOm99KTtsZXQgYzt0eXBlb2Ygbz09InN0cmluZyI/Yz1vOmM9bWUobyksYy5sZW5ndGg+UXQmJihyLnB1c2goe1tzXTpvfSksYz1jLnN1YnN0cmluZygwLFF0KSksbltzXT1jfXJldHVybiB0IT09InNlc3Npb24iJiYoaS5sZW5ndGg+MCYmY29uc29sZS53YXJuKGBIaWdobGlnaHQgd2FzIHBhc3NlZCBvbmUgb3IgbW9yZSAke3R9IHByb3BlcnRpZXMgbm90IG9mIHR5cGUgc3RyaW5nLCBudW1iZXIsIG9yIGJvb2xlYW4uYCxpKSxyLmxlbmd0aD4wJiZjb25zb2xlLndhcm4oYEhpZ2hsaWdodCB3YXMgcGFzc2VkIG9uZSBvciBtb3JlICR7dH0gcHJvcGVydGllcyBleGNlZWRpbmcgMjAwMCBjaGFyYWN0ZXJzLCB3aGljaCB3aWxsIGJlIHRydW5jYXRlZC5gLHIpKSxufXtsZXQgZSx0LG4saT0wLHI9MCxzPSExLG89MCxjPW5ldyBrcighMSwiW3dvcmtlcl0iKTtjb25zdCBmPVtdLGQ9KCk9Pm8hPT0wJiZpPEp0JiYhIShuIT1udWxsJiZuLmxlbmd0aCksdT0oZyxFKT0+e01lLnBvc3RNZXNzYWdlKHtyZXNwb25zZTp7dHlwZTp0ZS5DdXN0b21FdmVudCx0YWc6ZyxwYXlsb2FkOkV9fSl9LHk9Zz0+USh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3R7aWQ6RSxldmVudHM6QyxtZXNzYWdlczp3LGVycm9yczpSLHJlc291cmNlc1N0cmluZzokLHdlYlNvY2tldEV2ZW50c1N0cmluZzpxLGhhc1Nlc3Npb25VbmxvYWRlZDpCLGhpZ2hsaWdodExvZ3M6SX09ZyxTPW1lKHttZXNzYWdlczp3fSk7bGV0IGo9e3Nlc3Npb25fc2VjdXJlX2lkOm4scGF5bG9hZF9pZDpFLnRvU3RyaW5nKCksZXZlbnRzOntldmVudHM6Q30sbWVzc2FnZXM6UyxyZXNvdXJjZXM6JCx3ZWJfc29ja2V0X2V2ZW50czpxLGVycm9yczpSLGlzX2JlYWNvbjohMSxoYXNfc2Vzc2lvbl91bmxvYWRlZDpCfTtJJiYoai5oaWdobGlnaHRfbG9ncz1JKTtjb25zdHtjb21wcmVzc2VkQmFzZTY0OlUsYnVmZmVyTGVuZ3RoOnosY29tcHJlc3NlZFNpemU6S309eWllbGQgQ3IoaiksYT17dHlwZTp0ZS5Bc3luY0V2ZW50cyxpZDpFLGV2ZW50c1NpemU6eixjb21wcmVzc2VkU2l6ZTpVLmxlbmd0aH07Yy5sb2coYFB1c2hpbmcgcGF5bG9hZDogJHtKU09OLnN0cmluZ2lmeSh7c2Vzc2lvblNlY3VyZUlEOm4saWQ6RSxmaXJzdFNJRDpNYXRoLm1pbiguLi5qLmV2ZW50cy5ldmVudHMubWFwKHg9Png9PW51bGw/dm9pZCAwOnguX3NpZCkuZmlsdGVyKHg9PiEheCkpLGV2ZW50c0xlbmd0aDpqLmV2ZW50cy5ldmVudHMubGVuZ3RoLG1lc3NhZ2VzTGVuZ3RoOncubGVuZ3RoLHJlc291cmNlc0xlbmd0aDokLmxlbmd0aCx3ZWJTb2NrZXRMZW5ndGg6cS5sZW5ndGgsZXJyb3JzTGVuZ3RoOlIubGVuZ3RoLGJ1Zkxlbmd0aDp6LGNvbXByZXNzZWRMZW5ndGg6Syxjb21wcmVzc2VkQmFzZTY0TGVuZ3RoOlUubGVuZ3RofSx2b2lkIDAsMil9YCk7Y29uc3QgaD1lLlB1c2hTZXNzaW9uRXZlbnRzKHtzZXNzaW9uX3NlY3VyZV9pZDpuLHBheWxvYWRfaWQ6RS50b1N0cmluZygpLGRhdGE6VX0pO2xldCBfPVByb21pc2UucmVzb2x2ZSgpO2YubGVuZ3RoJiYoXz1lLnB1c2hNZXRyaWNzKHttZXRyaWNzOmZ9KSxmLnNwbGljZSgwKSk7bGV0IEE9cGVyZm9ybWFuY2Uubm93KCk7Y29uc3Qgaz1zZXRJbnRlcnZhbCgoKT0+e0EmJnBlcmZvcm1hbmNlLm5vdygpLUE+a3QmJihjb25zb2xlLndhcm4oYFVwbG9hZGluZyBwdXNoUGF5bG9hZCB0b29rIHRvbyBsb25nLCBmYWlsdXJlIG51bWJlciAjJHtyfS5gKSxyKz0xLGNsZWFySW50ZXJ2YWwoaykscj49SnQmJihjb25zb2xlLndhcm4oIlVwbG9hZGluZyBwdXNoUGF5bG9hZCB0b29rIHRvbyBsb25nLCBzdG9wcGluZyByZWNvcmRpbmcgdG8gYXZvaWQgT09NLiIpLE1lLnBvc3RNZXNzYWdlKHtyZXNwb25zZTp7dHlwZTp0ZS5TdG9wLHJlcXVlc3RTdGFydDpBLGFzeW5jRXZlbnRzUmVzcG9uc2U6YX19KSxiKHt0eXBlOnRlLlByb3BlcnRpZXMscHJvcGVydGllc09iamVjdDp7c3RvcFJlYXNvbjoiUHVzaCBQYXlsb2FkIFRpbWVvdXQifSxwcm9wZXJ0eVR5cGU6e3R5cGU6InRyYWNrIn19KSkpfSwxMDApO3RyeXt5aWVsZCBQcm9taXNlLmFsbChbaCxfXSksciYmcGVyZm9ybWFuY2Uubm93KCktQTw9a3QmJihjb25zb2xlLndhcm4oYHB1c2hQYXlsb2FkIHN1Y2NlZWRlZCBhZnRlciAjJHtyfSBmYWlsdXJlcywgcmVzZXR0aW5nIHN0b3Agc3dpdGNoLmApLHI9MCl9ZmluYWxseXtBPTAsY2xlYXJJbnRlcnZhbChrKX1NZS5wb3N0TWVzc2FnZSh7cmVzcG9uc2U6YX0pfSksdj1nPT5RKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdHt1c2VyT2JqZWN0OkUsdXNlcklkZW50aWZpZXI6Qyxzb3VyY2U6d309Zzt3PT09InNlZ21lbnQiP3UoIlNlZ21lbnQgSWRlbnRpZnkiLG1lKEQoe3VzZXJJZGVudGlmaWVyOkN9LEUpKSk6dSgiSWRlbnRpZnkiLG1lKEQoe3VzZXJJZGVudGlmaWVyOkN9LEUpKSkseWllbGQgZS5pZGVudGlmeVNlc3Npb24oe3Nlc3Npb25fc2VjdXJlX2lkOm4sdXNlcl9pZGVudGlmaWVyOkMsdXNlcl9vYmplY3Q6WHQoRSwidXNlciIpfSk7Y29uc3QgUj13PT09InNlZ21lbnQiP3c6ImRlZmF1bHQiO2MubG9nKGBJZGVudGlmeSAoJHtDfSwgc291cmNlOiAke1J9KSB3LyBvYmo6ICR7bWUoRSl9IEAgJHt0fWApfSksYj1nPT5RKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdHtwcm9wZXJ0aWVzT2JqZWN0OkUscHJvcGVydHlUeXBlOkN9PWc7bGV0IHc7KEM9PW51bGw/dm9pZCAwOkMudHlwZSk9PT0ic2Vzc2lvbiI/KHc9IlNlc3Npb24iLHlpZWxkIGUuYWRkU2Vzc2lvblByb3BlcnRpZXMoe3Nlc3Npb25fc2VjdXJlX2lkOm4scHJvcGVydGllc19vYmplY3Q6WHQoRSwic2Vzc2lvbiIpfSkpOihDPT1udWxsP3ZvaWQgMDpDLnNvdXJjZSk9PT0ic2VnbWVudCI/dz0iU2VnbWVudCI6dz0iVHJhY2siLHchPT0iU2Vzc2lvbiImJnUodyxtZShFKSksYy5sb2coYEFkZGluZyAke3d9IFByb3BlcnRpZXMgdG8gc2Vzc2lvbiAoJHtufSkgdy8gb2JqOiAke0pTT04uc3RyaW5naWZ5KEUpfSBAICR7dH1gKX0pLG09Zz0+USh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Zi5wdXNoKC4uLmcubWV0cmljcy5tYXAoRT0+KHtuYW1lOkUubmFtZSx2YWx1ZTpFLnZhbHVlLHNlc3Npb25fc2VjdXJlX2lkOm4sY2F0ZWdvcnk6RS5jYXRlZ29yeSxncm91cDpFLmdyb3VwLHRpbWVzdGFtcDpFLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLHRhZ3M6RS50YWdzfSkpKX0pLE49Zz0+USh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3R7dGltZXN0YW1wOkUsdmVyYmF0aW06Qyx1c2VyRW1haWw6dyx1c2VyTmFtZTpSfT1nO3lpZWxkIGUuYWRkU2Vzc2lvbkZlZWRiYWNrKHtzZXNzaW9uX3NlY3VyZV9pZDpuLHRpbWVzdGFtcDpFLHZlcmJhdGltOkMsdXNlcl9lbWFpbDp3LHVzZXJfbmFtZTpSfSl9KTtNZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZyl7cmV0dXJuIFEodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKGcuZGF0YS5tZXNzYWdlLnR5cGU9PT10ZS5Jbml0aWFsaXplKXt0PWcuZGF0YS5tZXNzYWdlLmJhY2tlbmQsbj1nLmRhdGEubWVzc2FnZS5zZXNzaW9uU2VjdXJlSUQscz1nLmRhdGEubWVzc2FnZS5kZWJ1ZyxvPWcuZGF0YS5tZXNzYWdlLnJlY29yZGluZ1N0YXJ0VGltZSxjLmRlYnVnPXMsZT1tcihuZXcgWW4odCx7aGVhZGVyczp7fX0pLCRyKCkpO3JldHVybn1pZihkKCkpdHJ5e2cuZGF0YS5tZXNzYWdlLnR5cGU9PT10ZS5Bc3luY0V2ZW50cz95aWVsZCB5KGcuZGF0YS5tZXNzYWdlKTpnLmRhdGEubWVzc2FnZS50eXBlPT09dGUuSWRlbnRpZnk/eWllbGQgdihnLmRhdGEubWVzc2FnZSk6Zy5kYXRhLm1lc3NhZ2UudHlwZT09PXRlLlByb3BlcnRpZXM/eWllbGQgYihnLmRhdGEubWVzc2FnZSk6Zy5kYXRhLm1lc3NhZ2UudHlwZT09PXRlLk1ldHJpY3M/eWllbGQgbShnLmRhdGEubWVzc2FnZSk6Zy5kYXRhLm1lc3NhZ2UudHlwZT09PXRlLkZlZWRiYWNrJiYoeWllbGQgTihnLmRhdGEubWVzc2FnZSkpLGk9MH1jYXRjaChFKXtzJiZjb25zb2xlLmVycm9yKEUpLGkrPTF9fSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWhpZ2hsaWdodC1jbGllbnQtd29ya2VyLThaZ0xJRTFCLmpzLm1hcAo=",Gee=t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0)),MI=typeof self<"u"&&self.Blob&&new Blob([Gee(L9)],{type:"text/javascript;charset=utf-8"});function Aee(t){let e;try{if(e=MI&&(self.URL||self.webkitURL).createObjectURL(MI),!e)throw"";const n=new Worker(e,{name:t==null?void 0:t.name});return n.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),n}catch{return new Worker("data:text/javascript;base64,"+L9,{name:t==null?void 0:t.name})}finally{e&&(self.URL||self.webkitURL).revokeObjectURL(e)}}var na=(t=>(t[t.Initialize=0]="Initialize",t[t.AsyncEvents=1]="AsyncEvents",t[t.Identify=2]="Identify",t[t.Properties=3]="Properties",t[t.Metrics=4]="Metrics",t[t.Feedback=5]="Feedback",t[t.CustomEvent=6]="CustomEvent",t[t.Stop=7]="Stop",t))(na||{});const Mee=({apiKey:t})=>{(function(e,n){var r=e.amplitude||{_q:[],_iq:{}},i=n.createElement("script");i.type="text/javascript",i.integrity="sha384-+EO59vL/X7v6VE2s6/F4HxfHlK0nDUVWKVg8K9oUlvffAeeaShVBmbORTC2D3UF+",i.crossOrigin="anonymous",i.async=!0,i.src="https://cdn.amplitude.com/libs/amplitude-8.17.0-min.gz.js",i.onload=function(){e.amplitude.runQueuedFunctions||console.log("[Amplitude] Error: could not load SDK"),amplitude.getInstance().init(t)};var a=n.getElementsByTagName("script")[0];a.parentNode.insertBefore(i,a);function s(m,S){m.prototype[S]=function(){return this._q.push([S].concat(Array.prototype.slice.call(arguments,0))),this}}for(var o=function(){return this._q=[],this},l=["add","append","clearAll","prepend","set","setOnce","unset","preInsert","postInsert","remove"],u=0;u<l.length;u++)s(o,l[u]);r.Identify=o;for(var c=function(){return this._q=[],this},d=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],f=0;f<d.length;f++)s(c,d[f]);r.Revenue=c;var p=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","enableTracking","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"];function v(m){function S(g){m[g]=function(){m._q.push([g].concat(Array.prototype.slice.call(arguments,0)))}}for(var y=0;y<p.length;y++)S(p[y])}v(r),r.getInstance=function(m){return m=(!m||m.length===0?"$default_instance":m).toLowerCase(),Object.prototype.hasOwnProperty.call(r._iq,m)||(r._iq[m]={_q:[]},v(r._iq[m])),r._iq[m]},e.amplitude=r})(window,document)},Xee=({projectToken:t})=>{if(window.mixpanel)return;(function(n,r){if(!r.__SV){var i,a;window.mixpanel=r,r._i=[],r.init=function(s,o,l){function u(f,p){var v=p.split(".");v.length==2&&(f=f[v[0]],p=v[1]),f[p]=function(){f.push([p].concat(Array.prototype.slice.call(arguments,0)))}}var c=r;for(typeof l<"u"?c=r[l]=[]:l="mixpanel",c.people=c.people||[],c.toString=function(f){var p="mixpanel";return l!=="mixpanel"&&(p+="."+l),f||(p+=" (stub)"),p},c.people.toString=function(){return c.toString(1)+".people (stub)"},i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),a=0;a<i.length;a++)u(c,i[a]);var d="set set_once union unset remove delete".split(" ");c.get_group=function(){function f(S){p[S]=function(){call2_args=arguments,call2=[S].concat(Array.prototype.slice.call(call2_args,0)),c.push([v,call2])}}for(var p={},v=["get_group"].concat(Array.prototype.slice.call(arguments,0)),m=0;m<d.length;m++)f(d[m]);return p},r._i.push([s,o,l])},r.__SV=1.2}})(document,window.mixpanel||[]);const e=document.createElement("script");e.src=Uee,document.head.appendChild(e),e.addEventListener("load",()=>{var n;(n=window.mixpanel)==null||n.init(t)})},Uee="https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";let XI=class extends WC{start(){return this._sdk.start()}stop(){return this._sdk.stop()}recordGauge(e){return this._bufferCall("recordGauge",[e])}recordCount(e){return this._bufferCall("recordCount",[e])}recordIncr(e){return this._bufferCall("recordIncr",[e])}recordHistogram(e){return this._bufferCall("recordHistogram",[e])}recordUpDownCounter(e){return this._bufferCall("recordUpDownCounter",[e])}startSpan(e,n,r,i){return this._bufferCall("startSpan",[e,n,r,i])}startManualSpan(e,n,r,i){return this._bufferCall("startManualSpan",[e,n,r,i])}register(e,n){return this._bufferCall("register",[e,n])}recordLog(e,n,r){return this._bufferCall("recordLog",[e,n,r])}recordError(e,n,r,i,a){return this._bufferCall("recordError",[e,n,r,i,a])}},ch;typeof globalThis<"u"?globalThis.LDObserve?ch=globalThis.LDObserve:(ch=new XI,globalThis.LDObserve=ch):ch=new XI;const Wee=Object.freeze(Object.defineProperty({__proto__:null,get LDObserve(){return ch}},Symbol.toStringTag,{value:"Module"}));var Pee=Object.defineProperty,zee=Object.defineProperties,Dee=Object.getOwnPropertyDescriptors,jy=Object.getOwnPropertySymbols,Z9=Object.prototype.hasOwnProperty,V9=Object.prototype.propertyIsEnumerable,t_=(t,e,n)=>e in t?Pee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fi=(t,e)=>{for(var n in e||(e={}))Z9.call(e,n)&&t_(t,n,e[n]);if(jy)for(var n of jy(e))V9.call(e,n)&&t_(t,n,e[n]);return t},sl=(t,e)=>zee(t,Dee(e)),jee=(t,e)=>{var n={};for(var r in t)Z9.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&jy)for(var r of jy(t))e.indexOf(r)<0&&V9.call(t,r)&&(n[r]=t[r]);return n},Hn=(t,e,n)=>t_(t,typeof e!="symbol"?e+"":e,n),El=(t,e,n)=>new Promise((r,i)=>{var a=l=>{try{o(n.next(l))}catch(u){i(u)}},s=l=>{try{o(n.throw(l))}catch(u){i(u)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,s);o((n=n.apply(t,e)).next())}),G9={exports:{}},UI={exports:{}},WI;function Bee(){return WI||(WI=1,function(t,e){(function(n,r){t.exports=r()})(jC,function(){function n(m){return!isNaN(parseFloat(m))&&isFinite(m)}function r(m){return m.charAt(0).toUpperCase()+m.substring(1)}function i(m){return function(){return this[m]}}var a=["isConstructor","isEval","isNative","isToplevel"],s=["columnNumber","lineNumber"],o=["fileName","functionName","source"],l=["args"],u=["evalOrigin"],c=a.concat(s,o,l,u);function d(m){if(m)for(var S=0;S<c.length;S++)m[c[S]]!==void 0&&this["set"+r(c[S])](m[c[S]])}d.prototype={getArgs:function(){return this.args},setArgs:function(m){if(Object.prototype.toString.call(m)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=m},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(m){if(m instanceof d)this.evalOrigin=m;else if(m instanceof Object)this.evalOrigin=new d(m);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var m=this.getFileName()||"",S=this.getLineNumber()||"",y=this.getColumnNumber()||"",g=this.getFunctionName()||"";return this.getIsEval()?m?"[eval] ("+m+":"+S+":"+y+")":"[eval]:"+S+":"+y:g?g+" ("+m+":"+S+":"+y+")":m+":"+S+":"+y}},d.fromString=function(m){var S=m.indexOf("("),y=m.lastIndexOf(")"),g=m.substring(0,S),b=m.substring(S+1,y).split(","),w=m.substring(y+1);if(w.indexOf("@")===0)var E=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(w,""),_=E[1],C=E[2],k=E[3];return new d({functionName:g,args:b||void 0,fileName:_,lineNumber:C||void 0,columnNumber:k||void 0})};for(var f=0;f<a.length;f++)d.prototype["get"+r(a[f])]=i(a[f]),d.prototype["set"+r(a[f])]=function(m){return function(S){this[m]=!!S}}(a[f]);for(var p=0;p<s.length;p++)d.prototype["get"+r(s[p])]=i(s[p]),d.prototype["set"+r(s[p])]=function(m){return function(S){if(!n(S))throw new TypeError(m+" must be a Number");this[m]=Number(S)}}(s[p]);for(var v=0;v<o.length;v++)d.prototype["get"+r(o[v])]=i(o[v]),d.prototype["set"+r(o[v])]=function(m){return function(S){this[m]=String(S)}}(o[v]);return d})}(UI)),UI.exports}(function(t,e){(function(n,r){t.exports=r(Bee())})(jC,function(n){var r=/(^|@)\S+:\d+/,i=/^\s*at .*(\S+:\d+|\(native\))/m,a=/^(eval@)?(\[native code])?$/;return{parse:function(s){if(typeof s.stacktrace<"u"||typeof s["opera#sourceloc"]<"u")return this.parseOpera(s);if(s.stack&&s.stack.match(i))return this.parseV8OrIE(s);if(s.stack)return this.parseFFOrSafari(s);throw new Error("Cannot parse given Error object")},extractLocation:function(s){if(s.indexOf(":")===-1)return[s];var o=/(.+?)(?::(\d+))?(?::(\d+))?$/,l=o.exec(s.replace(/[()]/g,""));return[l[1],l[2]||void 0,l[3]||void 0]},parseV8OrIE:function(s){var o=s.stack.split(`
`).filter(function(l){return!!l.match(i)},this);return o.map(function(l){l.indexOf("(eval ")>-1&&(l=l.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var u=l.replace(/^\s+/,"").replace(/\(eval code/g,"("),c=u.match(/ (\((.+):(\d+):(\d+)\)$)/);u=c?u.replace(c[0],""):u;var d=u.split(/\s+/).slice(1),f=this.extractLocation(c?c[1]:d.pop()),p=d.join(" ")||void 0,v=["eval","<anonymous>"].indexOf(f[0])>-1?void 0:f[0];return new n({functionName:p,fileName:v,lineNumber:f[1],columnNumber:f[2],source:l})},this)},parseFFOrSafari:function(s){var o=s.stack.split(`
`).filter(function(l){return!l.match(a)},this);return o.map(function(l){if(l.indexOf(" > eval")>-1&&(l=l.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),l.indexOf("@")===-1&&l.indexOf(":")===-1)return new n({functionName:l});var u=/((.*".+"[^@]*)?[^@]*)(?:@)/,c=l.match(u),d=c&&c[1]?c[1]:void 0,f=this.extractLocation(l.replace(u,""));return new n({functionName:d,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:l})},this)},parseOpera:function(s){return!s.stacktrace||s.message.indexOf(`
`)>-1&&s.message.split(`
`).length>s.stacktrace.split(`
`).length?this.parseOpera9(s):s.stack?this.parseOpera11(s):this.parseOpera10(s)},parseOpera9:function(s){for(var o=/Line (\d+).*script (?:in )?(\S+)/i,l=s.message.split(`
`),u=[],c=2,d=l.length;c<d;c+=2){var f=o.exec(l[c]);f&&u.push(new n({fileName:f[2],lineNumber:f[1],source:l[c]}))}return u},parseOpera10:function(s){for(var o=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,l=s.stacktrace.split(`
`),u=[],c=0,d=l.length;c<d;c+=2){var f=o.exec(l[c]);f&&u.push(new n({functionName:f[3]||void 0,fileName:f[2],lineNumber:f[1],source:l[c]}))}return u},parseOpera11:function(s){var o=s.stack.split(`
`).filter(function(l){return!!l.match(r)&&!l.match(/^Error created at/)},this);return o.map(function(l){var u=l.split("@"),c=this.extractLocation(u.pop()),d=u.shift()||"",f=d.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,p;d.match(/\(([^)]*)\)/)&&(p=d.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var v=p===void 0||p==="[arguments not available]"?void 0:p.split(",");return new n({functionName:f,args:v,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:l})},this)}}})})(G9);var Fee=G9.exports;const PI=Hv(Fee);function sb(t){try{return PI.parse(t)}catch(e){try{return PI.parse(new Error)}catch(n){return console.warn("Highlight Warning: failed to parse error",{originalError:e,secondaryError:n}),[]}}}const A9={level:[...fU],logger:"console",stringifyOptions:{depthOfLimit:10,numOfKeysLimit:100,stringLengthLimit:1e3}};function Hee(t,e){const n=e.logger;if(!n)return()=>{};let r;typeof n=="string"?r=window[n]:r=n;const i=[];if(e.level.includes("error")&&window){const s=o=>{const{message:l,error:u}=o;let c=[];u&&(c=sb(u));const d=[dx(l,e.stringifyOptions)];t({type:"Error",trace:c,time:Date.now(),value:d})};window.addEventListener("error",s),i.push(()=>{window&&window.removeEventListener("error",s)})}for(const s of e.level)i.push(a(r,s));return()=>{i.forEach(s=>s())};function a(s,o){return s[o]?V$(s,o,l=>(...u)=>{l.apply(this,u);try{t(M9(o,e,...u))}catch(c){l("highlight logger error:",c,...u)}}):()=>{}}}function M9(t,e,...n){const r=sb(new Error),i=e.serializeConsoleAttributes?n.map(a=>typeof a=="object"?dx(a,e.stringifyOptions):a):n.filter(a=>typeof a!="object").map(a=>`${a}`);return{type:t,trace:r,value:i,attributes:dx(n.filter(a=>typeof a=="object").reduce((a,s)=>fi(fi({},a),s),{}),e.stringifyOptions),time:Date.now()}}const Yee={start:0,end:3},Jee={start:4,end:5},q1={start:6,end:7},ew={start:8,end:8},$ee={start:9,end:9},Kee={start:10,end:15};function Qee(){if(crypto&&crypto.getRandomValues){const e=new Uint8Array(16);return crypto.getRandomValues(e),[...e.values()]}const t=[];for(let e=0;e<16;e+=1)t.push(Math.floor(Math.random()*256));return t}function eu(t,e){let n="";for(let r=e.start;r<=e.end;r+=1)n+=t[r].toString(16).padStart(2,"0");return n}function qee(t){return t[ew.start]=(t[ew.start]|128)&191,t[q1.start]=t[q1.start]&15|64,`${eu(t,Yee)}-${eu(t,Jee)}-${eu(t,q1)}-${eu(t,ew)}${eu(t,$ee)}-${eu(t,Kee)}`}function ete(){const t=Qee();return qee(t)}function Ek(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():ete()}function tw(t,e,n,r){var i,a,s,o;let l=r??e,u=sb(l),c={};e instanceof Error&&(e=e.message,e.cause&&(c={"exception.cause":e.cause}));const d=nte(u);t({error:l,event:il(e),type:"window.onerror",url:window.location.href,source:n??"",lineNumber:(i=d[0])!=null&&i.lineNumber?(a=d[0])==null?void 0:a.lineNumber:0,columnNumber:(s=d[0])!=null&&s.columnNumber?(o=d[0])==null?void 0:o.columnNumber:0,stackTrace:d,timestamp:new Date().toISOString(),payload:c?il(c):void 0,id:Ek()})}const tte=(t,{enablePromisePatch:e})=>{if(typeof window>"u")return()=>{};const n=window.onerror=(s,o,l,u,c)=>{tw(t,s,o,c)},r=window.onunhandledrejection=s=>{if(s.reason){const o=s.promise;o.getStack?tw(t,s.reason,s.type,o.getStack()):tw(t,s.reason,s.type)}},i=window.Promise,a=class extends i{constructor(s){super(s),Hn(this,"promiseCreationError"),this.promiseCreationError=new Error}getStack(){return this.promiseCreationError}static shouldPatch(){const s=typeof window.Zone>"u";return e&&s}};return a.shouldPatch()&&(window.Promise=a),()=>{window.Promise=i,window.onunhandledrejection=r,window.onerror=n}},nte=t=>{var e,n;if(t.length===0)return t;const r=t[0];return(e=r.fileName)!=null&&e.includes("highlight.run")||(n=r.fileName)!=null&&n.includes("highlight.io")||r.functionName==="new highlightPromise"?t.slice(1):t},zI=['["\\"Script error.\\""]','"Script error."','["\\"Load failed.\\""]','"Load failed."','["\\"Network request failed.\\""]','"Network request failed."','["\\"Document is not focused.\\""]','"Document is not focused."','["\\"Failed to fetch\\""]','"Failed to fetch"','[{"isTrusted":true}]','{"isTrusted":true}','["{}"]','"{}"','[""]','""','["\\"\\""]','""'],DI=["websocket error",'\\"ResizeObserver loop'];var rte=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Xo="1.9.0",jI=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function ite(t){var e=new Set([t]),n=new Set,r=t.match(jI);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(o){return o===t};function a(o){return n.add(o),!1}function s(o){return e.add(o),!0}return function(o){if(e.has(o))return!0;if(n.has(o))return!1;var l=o.match(jI);if(!l)return a(o);var u={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return u.prerelease!=null||i.major!==u.major?a(o):i.major===0?i.minor===u.minor&&i.patch<=u.patch?s(o):a(o):i.minor<=u.minor?s(o):a(o)}}var ate=ite(Xo),ste=Xo.split(".")[0],Hf=Symbol.for("opentelemetry.js.api."+ste),Yf=rte;function Up(t,e,n,r){var i;r===void 0&&(r=!1);var a=Yf[Hf]=(i=Yf[Hf])!==null&&i!==void 0?i:{version:Xo};if(!r&&a[t]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return n.error(s.stack||s.message),!1}if(a.version!==Xo){var s=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+t+" does not match previously registered API v"+Xo);return n.error(s.stack||s.message),!1}return a[t]=e,n.debug("@opentelemetry/api: Registered a global for "+t+" v"+Xo+"."),!0}function xl(t){var e,n,r=(e=Yf[Hf])===null||e===void 0?void 0:e.version;if(!(!r||!ate(r)))return(n=Yf[Hf])===null||n===void 0?void 0:n[t]}function Wp(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+Xo+".");var n=Yf[Hf];n&&delete n[t]}var ote=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},lte=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},ute=function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Bd("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Bd("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Bd("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Bd("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Bd("verbose",this._namespace,e)},t}();function Bd(t,e,n){var r=xl("diag");if(r)return n.unshift(e),r[t].apply(r,lte([],ote(n),!1))}var xt;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(xt||(xt={}));function cte(t,e){t<xt.NONE?t=xt.NONE:t>xt.ALL&&(t=xt.ALL),e=e||{};function n(r,i){var a=e[r];return typeof a=="function"&&t>=i?a.bind(e):function(){}}return{error:n("error",xt.ERROR),warn:n("warn",xt.WARN),info:n("info",xt.INFO),debug:n("debug",xt.DEBUG),verbose:n("verbose",xt.VERBOSE)}}var dte=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},hte=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},fte="diag",zi=function(){function t(){function e(i){return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var o=xl("diag");if(o)return o[i].apply(o,hte([],dte(a),!1))}}var n=this,r=function(i,a){var s,o,l;if(a===void 0&&(a={logLevel:xt.INFO}),i===n){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((s=u.stack)!==null&&s!==void 0?s:u.message),!1}typeof a=="number"&&(a={logLevel:a});var c=xl("diag"),d=cte((o=a.logLevel)!==null&&o!==void 0?o:xt.INFO,i);if(c&&!a.suppressOverrideMessage){var f=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+f),d.warn("Current logger will overwrite one already registered from "+f)}return Up("diag",d,n,!0)};n.setLogger=r,n.disable=function(){Wp(fte,n)},n.createComponentLogger=function(i){return new ute(i)},n.verbose=e("verbose"),n.debug=e("debug"),n.info=e("info"),n.warn=e("warn"),n.error=e("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}(),pte=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},mte=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gte=function(){function t(e){this._entries=e?new Map(e):new Map}return t.prototype.getEntry=function(e){var n=this._entries.get(e);if(n)return Object.assign({},n)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var n=pte(e,2),r=n[0],i=n[1];return[r,i]})},t.prototype.setEntry=function(e,n){var r=new t(this._entries);return r._entries.set(e,n),r},t.prototype.removeEntry=function(e){var n=new t(this._entries);return n._entries.delete(e),n},t.prototype.removeEntries=function(){for(var e,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=new t(this._entries);try{for(var s=mte(r),o=s.next();!o.done;o=s.next()){var l=o.value;a._entries.delete(l)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t.prototype.clear=function(){return new t},t}(),yte=Symbol("BaggageEntryMetadata"),vte=zi.instance();function bte(t){return t===void 0&&(t={}),new gte(new Map(Object.entries(t)))}function wte(t){return typeof t!="string"&&(vte.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:yte,toString:function(){return t}}}function xk(t){return Symbol.for(t)}var Ste=function(){function t(e){var n=this;n._currentContext=e?new Map(e):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,i){var a=new t(n._currentContext);return a._currentContext.set(r,i),a},n.deleteValue=function(r){var i=new t(n._currentContext);return i._currentContext.delete(r),i}}return t}(),Ro=new Ste,Pl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ete=function(){function t(){}return t.prototype.createGauge=function(e,n){return Ite},t.prototype.createHistogram=function(e,n){return Lte},t.prototype.createCounter=function(e,n){return Ote},t.prototype.createUpDownCounter=function(e,n){return Zte},t.prototype.createObservableGauge=function(e,n){return Gte},t.prototype.createObservableCounter=function(e,n){return Vte},t.prototype.createObservableUpDownCounter=function(e,n){return Ate},t.prototype.addBatchObservableCallback=function(e,n){},t.prototype.removeBatchObservableCallback=function(e){},t}(),ob=function(){function t(){}return t}(),xte=function(t){Pl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(n,r){},e}(ob),_te=function(t){Pl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(n,r){},e}(ob),Cte=function(t){Pl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(n,r){},e}(ob),kte=function(t){Pl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(n,r){},e}(ob),_k=function(){function t(){}return t.prototype.addCallback=function(e){},t.prototype.removeCallback=function(e){},t}(),Tte=function(t){Pl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(_k),Rte=function(t){Pl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(_k),Nte=function(t){Pl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(_k),X9=new Ete,Ote=new xte,Ite=new Cte,Lte=new kte,Zte=new _te,Vte=new Tte,Gte=new Rte,Ate=new Nte;function Mte(){return X9}var ro;(function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE"})(ro||(ro={}));var Xte={get:function(t,e){if(t!=null)return t[e]},keys:function(t){return t==null?[]:Object.keys(t)}},Ute={set:function(t,e,n){t!=null&&(t[e]=n)}},Wte=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Pte=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},zte=function(){function t(){}return t.prototype.active=function(){return Ro},t.prototype.with=function(e,n,r){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return n.call.apply(n,Pte([r],Wte(i),!1))},t.prototype.bind=function(e,n){return n},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}(),Dte=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},jte=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},nw="context",Bte=new zte,lb=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return Up(nw,e,zi.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,n,r){for(var i,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,jte([e,n,r],Dte(a),!1))},t.prototype.bind=function(e,n){return this._getContextManager().bind(e,n)},t.prototype._getContextManager=function(){return xl(nw)||Bte},t.prototype.disable=function(){this._getContextManager().disable(),Wp(nw,zi.instance())},t}(),Ua;(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(Ua||(Ua={}));var U9="0000000000000000",W9="00000000000000000000000000000000",P9={traceId:W9,spanId:U9,traceFlags:Ua.NONE},Dh=function(){function t(e){e===void 0&&(e=P9),this._spanContext=e}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,n){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,n){return this},t.prototype.addLink=function(e){return this},t.prototype.addLinks=function(e){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(e,n){},t}(),Ck=xk("OpenTelemetry Context Key SPAN");function kk(t){return t.getValue(Ck)||void 0}function Fte(){return kk(lb.getInstance().active())}function Tk(t,e){return t.setValue(Ck,e)}function Hte(t){return t.deleteValue(Ck)}function Yte(t,e){return Tk(t,new Dh(e))}function z9(t){var e;return(e=kk(t))===null||e===void 0?void 0:e.spanContext()}var Jte=/^([0-9a-f]{32})$/i,$te=/^[0-9a-f]{16}$/i;function D9(t){return Jte.test(t)&&t!==W9}function Kte(t){return $te.test(t)&&t!==U9}function ub(t){return D9(t.traceId)&&Kte(t.spanId)}function Qte(t){return new Dh(t)}var rw=lb.getInstance(),j9=function(){function t(){}return t.prototype.startSpan=function(e,n,r){r===void 0&&(r=rw.active());var i=!!(n!=null&&n.root);if(i)return new Dh;var a=r&&z9(r);return qte(a)&&ub(a)?new Dh(a):new Dh},t.prototype.startActiveSpan=function(e,n,r,i){var a,s,o;if(!(arguments.length<2)){arguments.length===2?o=n:arguments.length===3?(a=n,o=r):(a=n,s=r,o=i);var l=s??rw.active(),u=this.startSpan(e,a,l),c=Tk(l,u);return rw.with(c,o,void 0,u)}},t}();function qte(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var ene=new j9,tne=function(){function t(e,n,r,i){this._provider=e,this.name=n,this.version=r,this.options=i}return t.prototype.startSpan=function(e,n,r){return this._getTracer().startSpan(e,n,r)},t.prototype.startActiveSpan=function(e,n,r,i){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):ene},t}(),nne=function(){function t(){}return t.prototype.getTracer=function(e,n,r){return new j9},t}(),rne=new nne,BI=function(){function t(){}return t.prototype.getTracer=function(e,n,r){var i;return(i=this.getDelegateTracer(e,n,r))!==null&&i!==void 0?i:new tne(this,e,n,r)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:rne},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateTracer=function(e,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(e,n,r)},t}(),By;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(By||(By={}));var Jf;(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(Jf||(Jf={}));var n_;(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(n_||(n_={}));var Ie=lb.getInstance(),q=zi.instance(),ine=function(){function t(){}return t.prototype.getMeter=function(e,n,r){return X9},t}(),ane=new ine,iw="metrics",sne=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(e){return Up(iw,e,zi.instance())},t.prototype.getMeterProvider=function(){return xl(iw)||ane},t.prototype.getMeter=function(e,n,r){return this.getMeterProvider().getMeter(e,n,r)},t.prototype.disable=function(){Wp(iw,zi.instance())},t}(),Mi=sne.getInstance(),one=function(){function t(){}return t.prototype.inject=function(e,n){},t.prototype.extract=function(e,n){return e},t.prototype.fields=function(){return[]},t}(),Rk=xk("OpenTelemetry Baggage Key");function B9(t){return t.getValue(Rk)||void 0}function lne(){return B9(lb.getInstance().active())}function une(t,e){return t.setValue(Rk,e)}function cne(t){return t.deleteValue(Rk)}var aw="propagation",dne=new one,hne=function(){function t(){this.createBaggage=bte,this.getBaggage=B9,this.getActiveBaggage=lne,this.setBaggage=une,this.deleteBaggage=cne}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(e){return Up(aw,e,zi.instance())},t.prototype.inject=function(e,n,r){return r===void 0&&(r=Ute),this._getGlobalPropagator().inject(e,n,r)},t.prototype.extract=function(e,n,r){return r===void 0&&(r=Xte),this._getGlobalPropagator().extract(e,n,r)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){Wp(aw,zi.instance())},t.prototype._getGlobalPropagator=function(){return xl(aw)||dne},t}(),Mr=hne.getInstance(),sw="trace",fne=function(){function t(){this._proxyTracerProvider=new BI,this.wrapSpanContext=Qte,this.isSpanContextValid=ub,this.deleteSpan=Hte,this.getSpan=kk,this.getActiveSpan=Fte,this.getSpanContext=z9,this.setSpan=Tk,this.setSpanContext=Yte}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var n=Up(sw,this._proxyTracerProvider,zi.instance());return n&&this._proxyTracerProvider.setDelegate(e),n},t.prototype.getTracerProvider=function(){return xl(sw)||this._proxyTracerProvider},t.prototype.getTracer=function(e,n){return this.getTracerProvider().getTracer(e,n)},t.prototype.disable=function(){Wp(sw,zi.instance()),this._proxyTracerProvider=new BI},t}(),We=fne.getInstance(),F9=xk("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function H9(t){return t.setValue(F9,!0)}function Nk(t){return t.getValue(F9)===!0}var pne="=",r_=";",i_=",",ow="baggage",mne=180,gne=4096,yne=8192,vne=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a};function bne(t){return t.reduce(function(e,n){var r=""+e+(e!==""?i_:"")+n;return r.length>yne?e:r},"")}function wne(t){return t.getAllEntries().map(function(e){var n=vne(e,2),r=n[0],i=n[1],a=encodeURIComponent(r)+"="+encodeURIComponent(i.value);return i.metadata!==void 0&&(a+=r_+i.metadata.toString()),a})}function Sne(t){var e=t.split(r_);if(!(e.length<=0)){var n=e.shift();if(n){var r=n.indexOf(pne);if(!(r<=0)){var i=decodeURIComponent(n.substring(0,r).trim()),a=decodeURIComponent(n.substring(r+1).trim()),s;return e.length>0&&(s=wte(e.join(r_))),{key:i,value:a,metadata:s}}}}}var Y9=function(){function t(){}return t.prototype.inject=function(e,n,r){var i=Mr.getBaggage(e);if(!(!i||Nk(e))){var a=wne(i).filter(function(o){return o.length<=gne}).slice(0,mne),s=bne(a);s.length>0&&r.set(n,ow,s)}},t.prototype.extract=function(e,n,r){var i=r.get(n,ow),a=Array.isArray(i)?i.join(i_):i;if(!a)return e;var s={};if(a.length===0)return e;var o=a.split(i_);return o.forEach(function(l){var u=Sne(l);if(u){var c={value:u.value};u.metadata&&(c.metadata=u.metadata),s[u.key]=c}}),Object.entries(s).length===0?e:Mr.setBaggage(e,Mr.createBaggage(s))},t.prototype.fields=function(){return[ow]},t}(),J9=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ene=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a};function u0(t){var e,n,r={};if(typeof t!="object"||t==null)return r;try{for(var i=J9(Object.entries(t)),a=i.next();!a.done;a=i.next()){var s=Ene(a.value,2),o=s[0],l=s[1];if(!xne(o)){q.warn("Invalid attribute key: "+o);continue}if(!$9(l)){q.warn("Invalid attribute value set for key: "+o);continue}Array.isArray(l)?r[o]=l.slice():r[o]=l}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function xne(t){return typeof t=="string"&&t.length>0}function $9(t){return t==null?!0:Array.isArray(t)?_ne(t):K9(t)}function _ne(t){var e,n,r;try{for(var i=J9(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(s!=null){if(!r){if(K9(s)){r=typeof s;continue}return!1}if(typeof s!==r)return!1}}}catch(o){e={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!0}function K9(t){switch(typeof t){case"number":case"boolean":case"string":return!0}return!1}function Cne(){return function(t){q.error(kne(t))}}function kne(t){return typeof t=="string"?t:JSON.stringify(Tne(t))}function Tne(t){for(var e={},n=t;n!==null;)Object.getOwnPropertyNames(n).forEach(function(r){if(!e[r]){var i=n[r];i&&(e[r]=String(i))}}),n=Object.getPrototypeOf(n);return e}var Rne=Cne();function io(t){try{Rne(t)}catch{}}var Ii;(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})(Ii||(Ii={}));var Nne=",",One=["OTEL_SDK_DISABLED"];function Ine(t){return One.indexOf(t)>-1}var Lne=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Zne(t){return Lne.indexOf(t)>-1}var Vne=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];function Gne(t){return Vne.indexOf(t)>-1}var c0=1/0,d0=128,Ane=128,Mne=128,Q9={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:xt.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:c0,OTEL_ATTRIBUTE_COUNT_LIMIT:d0,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:c0,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:d0,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:c0,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:d0,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:Ane,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Mne,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Ii.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};function Xne(t,e,n){if(typeof n[t]<"u"){var r=String(n[t]);e[t]=r.toLowerCase()==="true"}}function Une(t,e,n,r,i){if(r===void 0&&(r=-1/0),i===void 0&&(i=1/0),typeof n[t]<"u"){var a=Number(n[t]);isNaN(a)||(a<r?e[t]=r:a>i?e[t]=i:e[t]=a)}}function Wne(t,e,n,r){r===void 0&&(r=Nne);var i=n[t];typeof i=="string"&&(e[t]=i.split(r).map(function(a){return a.trim()}))}var Pne={ALL:xt.ALL,VERBOSE:xt.VERBOSE,DEBUG:xt.DEBUG,INFO:xt.INFO,WARN:xt.WARN,ERROR:xt.ERROR,NONE:xt.NONE};function zne(t,e,n){var r=n[t];if(typeof r=="string"){var i=Pne[r.toUpperCase()];i!=null&&(e[t]=i)}}function q9(t){var e={};for(var n in Q9){var r=n;switch(r){case"OTEL_LOG_LEVEL":zne(r,e,t);break;default:if(Ine(r))Xne(r,e,t);else if(Zne(r))Une(r,e,t);else if(Gne(r))Wne(r,e,t);else{var i=t[r];typeof i<"u"&&i!==null&&(e[r]=String(i))}}}return e}var jh=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};function $c(){var t=q9(jh);return Object.assign({},Q9,t)}function Dne(){return q9(jh)}function FI(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function Ok(t){for(var e=new Uint8Array(t.length/2),n=0,r=0;r<t.length;r+=2){var i=FI(t.charCodeAt(r)),a=FI(t.charCodeAt(r+1));e[n++]=i<<4|a}return e}var Dr=performance,jne="1.30.1",Bne="process.runtime.name",Fne="telemetry.sdk.name",Hne="telemetry.sdk.language",Yne="telemetry.sdk.version",Jne=Bne,$ne=Fne,Kne=Hne,Qne=Yne,qne="webjs",ere=qne,tu,lw=(tu={},tu[$ne]="opentelemetry",tu[Jne]="browser",tu[Kne]=ere,tu[Qne]=jne,tu),tre=9,nre=6,rre=Math.pow(10,nre),Fy=Math.pow(10,tre);function Ur(t){var e=t/1e3,n=Math.trunc(e),r=Math.round(t%1e3*rre);return[n,r]}function Ik(){var t=Dr.timeOrigin;if(typeof t!="number"){var e=Dr;t=e.timing&&e.timing.fetchStart}return t}function _l(t){var e=Ur(Ik()),n=Ur(typeof t=="number"?t:Dr.now());return eW(e,n)}function Bh(t){if(Lk(t))return t;if(typeof t=="number")return t<Ik()?_l(t):Ur(t);if(t instanceof Date)return Ur(t.getTime());throw TypeError("Invalid input type")}function ire(t,e){var n=e[0]-t[0],r=e[1]-t[1];return r<0&&(n-=1,r+=Fy),[n,r]}function Sa(t){return t[0]*Fy+t[1]}function qm(t){return t[0]*1e6+t[1]/1e3}function Lk(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}function HI(t){return Lk(t)||typeof t=="number"||t instanceof Date}function eW(t,e){var n=[t[0]+e[0],t[1]+e[1]];return n[1]>=Fy&&(n[1]-=Fy,n[0]+=1),n}var nn;(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})(nn||(nn={}));var are=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tW=function(){function t(e){e===void 0&&(e={});var n;this._propagators=(n=e.propagators)!==null&&n!==void 0?n:[],this._fields=Array.from(new Set(this._propagators.map(function(r){return typeof r.fields=="function"?r.fields():[]}).reduce(function(r,i){return r.concat(i)},[])))}return t.prototype.inject=function(e,n,r){var i,a;try{for(var s=are(this._propagators),o=s.next();!o.done;o=s.next()){var l=o.value;try{l.inject(e,n,r)}catch(u){q.warn("Failed to inject with "+l.constructor.name+". Err: "+u.message)}}}catch(u){i={error:u}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},t.prototype.extract=function(e,n,r){return this._propagators.reduce(function(i,a){try{return a.extract(i,n,r)}catch(s){q.warn("Failed to extract with "+a.constructor.name+". Err: "+s.message)}return i},e)},t.prototype.fields=function(){return this._fields.slice()},t}(),a_="[_0-9a-z-*/]",sre="[a-z]"+a_+"{0,255}",ore="[a-z0-9]"+a_+"{0,240}@[a-z]"+a_+"{0,13}",lre=new RegExp("^(?:"+sre+"|"+ore+")$"),ure=/^[ -~]{0,255}[!-~]$/,cre=/,|=/;function dre(t){return lre.test(t)}function hre(t){return ure.test(t)&&!cre.test(t)}var YI=32,fre=512,JI=",",$I="=",pre=function(){function t(e){this._internalState=new Map,e&&this._parse(e)}return t.prototype.set=function(e,n){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,n),r},t.prototype.unset=function(e){var n=this._clone();return n._internalState.delete(e),n},t.prototype.get=function(e){return this._internalState.get(e)},t.prototype.serialize=function(){var e=this;return this._keys().reduce(function(n,r){return n.push(r+$I+e.get(r)),n},[]).join(JI)},t.prototype._parse=function(e){e.length>fre||(this._internalState=e.split(JI).reverse().reduce(function(n,r){var i=r.trim(),a=i.indexOf($I);if(a!==-1){var s=i.slice(0,a),o=i.slice(a+1,r.length);dre(s)&&hre(o)&&n.set(s,o)}return n},new Map),this._internalState.size>YI&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,YI))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}(),h0="traceparent",uw="tracestate",mre="00",gre="(?!ff)[\\da-f]{2}",yre="(?![0]{32})[\\da-f]{32}",vre="(?![0]{16})[\\da-f]{16}",bre="[\\da-f]{2}",wre=new RegExp("^\\s?("+gre+")-("+yre+")-("+vre+")-("+bre+")(-.*)?\\s?$");function Sre(t){var e=wre.exec(t);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var nW=function(){function t(){}return t.prototype.inject=function(e,n,r){var i=We.getSpanContext(e);if(!(!i||Nk(e)||!ub(i))){var a=mre+"-"+i.traceId+"-"+i.spanId+"-0"+Number(i.traceFlags||Ua.NONE).toString(16);r.set(n,h0,a),i.traceState&&r.set(n,uw,i.traceState.serialize())}},t.prototype.extract=function(e,n,r){var i=r.get(n,h0);if(!i)return e;var a=Array.isArray(i)?i[0]:i;if(typeof a!="string")return e;var s=Sre(a);if(!s)return e;s.isRemote=!0;var o=r.get(n,uw);if(o){var l=Array.isArray(o)?o.join(","):o;s.traceState=new pre(typeof l=="string"?l:void 0)}return We.setSpanContext(e,s)},t.prototype.fields=function(){return[h0,uw]},t}(),Ere="[object Object]",xre="[object Null]",_re="[object Undefined]",Cre=Function.prototype,rW=Cre.toString,kre=rW.call(Object),Tre=Rre(Object.getPrototypeOf,Object),iW=Object.prototype,aW=iW.hasOwnProperty,No=Symbol?Symbol.toStringTag:void 0,sW=iW.toString;function Rre(t,e){return function(n){return t(e(n))}}function KI(t){if(!Nre(t)||Ore(t)!==Ere)return!1;var e=Tre(t);if(e===null)return!0;var n=aW.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&rW.call(n)===kre}function Nre(t){return t!=null&&typeof t=="object"}function Ore(t){return t==null?t===void 0?_re:xre:No&&No in Object(t)?Ire(t):Lre(t)}function Ire(t){var e=aW.call(t,No),n=t[No],r=!1;try{t[No]=void 0,r=!0}catch{}var i=sW.call(t);return r&&(e?t[No]=n:delete t[No]),i}function Lre(t){return sW.call(t)}var Zre=20;function oW(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.shift(),r=new WeakMap;t.length>0;)n=lW(n,t.shift(),0,r);return n}function cw(t){return Hy(t)?t.slice():t}function lW(t,e,n,r){n===void 0&&(n=0);var i;if(!(n>Zre)){if(n++,f0(t)||f0(e)||uW(e))i=cw(e);else if(Hy(t)){if(i=t.slice(),Hy(e))for(var a=0,s=e.length;a<s;a++)i.push(cw(e[a]));else if(Fd(e))for(var o=Object.keys(e),a=0,s=o.length;a<s;a++){var l=o[a];i[l]=cw(e[l])}}else if(Fd(t))if(Fd(e)){if(!Vre(t,e))return e;i=Object.assign({},t);for(var o=Object.keys(e),a=0,s=o.length;a<s;a++){var l=o[a],u=e[l];if(f0(u))typeof u>"u"?delete i[l]:i[l]=u;else{var c=i[l],d=u;if(QI(t,l,r)||QI(e,l,r))delete i[l];else{if(Fd(c)&&Fd(d)){var f=r.get(c)||[],p=r.get(d)||[];f.push({obj:t,key:l}),p.push({obj:e,key:l}),r.set(c,f),r.set(d,p)}i[l]=lW(i[l],u,n,r)}}}}else i=e;return i}}function QI(t,e,n){for(var r=n.get(t[e])||[],i=0,a=r.length;i<a;i++){var s=r[i];if(s.key===e&&s.obj===t)return!0}return!1}function Hy(t){return Array.isArray(t)}function uW(t){return typeof t=="function"}function Fd(t){return!f0(t)&&!Hy(t)&&!uW(t)&&typeof t=="object"}function f0(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t>"u"||t instanceof Date||t instanceof RegExp||t===null}function Vre(t,e){return!(!KI(t)||!KI(e))}var Gre=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function cW(t,e){return typeof e=="string"?t===e:!!t.match(e)}function dW(t,e){var n,r;if(!e)return!1;try{for(var i=Gre(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(cW(t,s))return!0}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}var Are=function(){function t(){var e=this;this._promise=new Promise(function(n,r){e._resolve=n,e._reject=r})}return Object.defineProperty(t.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),t.prototype.resolve=function(e){this._resolve(e)},t.prototype.reject=function(e){this._reject(e)},t}(),Mre=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Xre=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Ure=function(){function t(e,n){this._callback=e,this._that=n,this._isCalled=!1,this._deferred=new Are}return Object.defineProperty(t.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),t.prototype.call=function(){for(var e,n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,Xre([this._that],Mre(r),!1))).then(function(a){return n._deferred.resolve(a)},function(a){return n._deferred.reject(a)})}catch(a){this._deferred.reject(a)}}return this._deferred.promise},t}();function Wre(t,e){return new Promise(function(n){Ie.with(H9(Ie.active()),function(){t.export(e,function(r){n(r)})})})}var Pre={_export:Wre},hW=function(){function t(){}return t.prototype.emit=function(e){},t}(),zre=new hW,Dre=function(){function t(){}return t.prototype.getLogger=function(e,n,r){return new hW},t}(),fW=new Dre,jre=function(){function t(e,n,r,i){this._provider=e,this.name=n,this.version=r,this.options=i}return t.prototype.emit=function(e){this._getLogger().emit(e)},t.prototype._getLogger=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):zre},t}(),qI=function(){function t(){}return t.prototype.getLogger=function(e,n,r){var i;return(i=this.getDelegateLogger(e,n,r))!==null&&i!==void 0?i:new jre(this,e,n,r)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:fW},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateLogger=function(e,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getLogger(e,n,r)},t}(),Bre=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},eg=Symbol.for("io.opentelemetry.js.api.logs"),Hd=Bre;function Fre(t,e,n){return function(r){return r===t?e:n}}var eL=1,Hre=function(){function t(){this._proxyLoggerProvider=new qI}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalLoggerProvider=function(e){return Hd[eg]?this.getLoggerProvider():(Hd[eg]=Fre(eL,e,fW),this._proxyLoggerProvider.setDelegate(e),e)},t.prototype.getLoggerProvider=function(){var e,n;return(n=(e=Hd[eg])===null||e===void 0?void 0:e.call(Hd,eL))!==null&&n!==void 0?n:this._proxyLoggerProvider},t.prototype.getLogger=function(e,n,r){return this.getLoggerProvider().getLogger(e,n,r)},t.prototype.disable=function(){delete Hd[eg],this._proxyLoggerProvider=new qI},t}(),Pp=Hre.getInstance();function Yre(t,e,n,r){for(var i=0,a=t.length;i<a;i++){var s=t[i];e&&s.setTracerProvider(e),n&&s.setMeterProvider(n),r&&s.setLoggerProvider&&s.setLoggerProvider(r),s.getConfig().enabled||s.enable()}}function Jre(t){t.forEach(function(e){return e.disable()})}function $re(t){var e,n,r=t.tracerProvider||We.getTracerProvider(),i=t.meterProvider||Mi.getMeterProvider(),a=t.loggerProvider||Pp.getLoggerProvider(),s=(n=(e=t.instrumentations)===null||e===void 0?void 0:e.flat())!==null&&n!==void 0?n:[];return Yre(s,r,i,a),function(){Jre(s)}}function s_(t){return typeof t=="function"}var On=console.error.bind(console);function Yd(t,e,n){var r=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:r,writable:!0,value:n})}function zp(t){t&&t.logger&&(s_(t.logger)?On=t.logger:On("new logger isn't a function, not replacing"))}function pW(t,e,n){if(!t||!t[e]){On("no original function "+e+" to wrap");return}if(!n){On("no wrapper function"),On(new Error().stack);return}if(!s_(t[e])||!s_(n)){On("original object and wrapper must be functions");return}var r=t[e],i=n(r,e);return Yd(i,"__original",r),Yd(i,"__unwrap",function(){t[e]===i&&Yd(t,e,r)}),Yd(i,"__wrapped",!0),Yd(t,e,i),i}function Kre(t,e,n){if(t)Array.isArray(t)||(t=[t]);else{On("must provide one or more modules to patch"),On(new Error().stack);return}if(!(e&&Array.isArray(e))){On("must provide one or more functions to wrap on modules");return}t.forEach(function(r){e.forEach(function(i){pW(r,i,n)})})}function mW(t,e){if(!t||!t[e]){On("no function to unwrap."),On(new Error().stack);return}if(!t[e].__unwrap)On("no original to unwrap to -- has "+e+" already been unwrapped?");else return t[e].__unwrap()}function Qre(t,e){if(t)Array.isArray(t)||(t=[t]);else{On("must provide one or more modules to patch"),On(new Error().stack);return}if(!(e&&Array.isArray(e))){On("must provide one or more functions to unwrap on modules");return}t.forEach(function(n){e.forEach(function(r){mW(n,r)})})}zp.wrap=pW;zp.massWrap=Kre;zp.unwrap=mW;zp.massUnwrap=Qre;var mn=zp,o_=function(){return o_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},o_.apply(this,arguments)},qre=function(){function t(e,n,r){this.instrumentationName=e,this.instrumentationVersion=n,this._config={},this._wrap=mn.wrap,this._unwrap=mn.unwrap,this._massWrap=mn.massWrap,this._massUnwrap=mn.massUnwrap,this.setConfig(r),this._diag=q.createComponentLogger({namespace:e}),this._tracer=We.getTracer(e,n),this._meter=Mi.getMeter(e,n),this._logger=Pp.getLogger(e,n),this._updateMetricInstruments()}return Object.defineProperty(t.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),t.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(t.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),t.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},t.prototype.getModuleDefinitions=function(){var e,n=(e=this.init())!==null&&e!==void 0?e:[];return Array.isArray(n)?n:[n]},t.prototype._updateMetricInstruments=function(){},t.prototype.getConfig=function(){return this._config},t.prototype.setConfig=function(e){this._config=o_({enabled:!0},e)},t.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(t.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),t.prototype._runSpanCustomizationHook=function(e,n,r,i){if(e)try{e(r,i)}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:n},a)}},t}(),eie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tie=function(t){eie(e,t);function e(n,r,i){var a=t.call(this,n,r,i)||this;return a._config.enabled&&a.enable(),a}return e}(qre);function bn(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}var nie="exception.type",rie="exception.message",iie="exception.stacktrace",aie="http.response_content_length",sie="http.response_content_length_uncompressed",dw=nie,hw=rie,oie=iie,lie=aie,uie=sie,cie="exception",l_=function(){return l_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},l_.apply(this,arguments)},die=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tL=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},hie=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},fie=function(){function t(e,n,r,i,a,s,o,l,u,c){o===void 0&&(o=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:n_.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=i,this.parentSpanId=s,this.kind=a,this.links=o;var d=Date.now();this._performanceStartTime=Dr.now(),this._performanceOffset=d-(this._performanceStartTime+Ik()),this._startTimeProvided=l!=null,this.startTime=this._getTime(l??d),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,c!=null&&this.setAttributes(c),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n)}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,n){return n==null||this._isSpanEnded()?this:e.length===0?(q.warn("Invalid attribute key: "+e),this):$9(n)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(n),this):(q.warn("Invalid attribute value set for key: "+e),this)},t.prototype.setAttributes=function(e){var n,r;try{for(var i=die(Object.entries(e)),a=i.next();!a.done;a=i.next()){var s=tL(a.value,2),o=s[0],l=s[1];this.setAttribute(o,l)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.addEvent=function(e,n,r){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return q.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&q.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),HI(n)&&(HI(r)||(r=n),n=void 0);var i=u0(n);return this.events.push({name:e,attributes:i,time:this._getTime(r),droppedAttributesCount:0}),this},t.prototype.addLink=function(e){return this.links.push(e),this},t.prototype.addLinks=function(e){var n;return(n=this.links).push.apply(n,hie([],tL(e),!1)),this},t.prototype.setStatus=function(e){return this._isSpanEnded()?this:(this.status=l_({},e),this.status.message!=null&&typeof e.message!="string"&&(q.warn("Dropping invalid status.message of type '"+typeof e.message+"', expected 'string'"),delete this.status.message),this)},t.prototype.updateName=function(e){return this._isSpanEnded()?this:(this.name=e,this)},t.prototype.end=function(e){if(this._isSpanEnded()){q.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(e),this._duration=ire(this.startTime,this.endTime),this._duration[0]<0&&(q.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&q.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},t.prototype._getTime=function(e){if(typeof e=="number"&&e<=Dr.now())return _l(e+this._performanceOffset);if(typeof e=="number")return Ur(e);if(e instanceof Date)return Ur(e.getTime());if(Lk(e))return e;if(this._startTimeProvided)return Ur(Date.now());var n=Dr.now()-this._performanceStartTime;return eW(this.startTime,Ur(n))},t.prototype.isRecording=function(){return this._ended===!1},t.prototype.recordException=function(e,n){var r={};typeof e=="string"?r[hw]=e:e&&(e.code?r[dw]=e.code.toString():e.name&&(r[dw]=e.name),e.message&&(r[hw]=e.message),e.stack&&(r[oie]=e.stack)),r[dw]||r[hw]?this.addEvent(cie,r,n):q.warn("Failed to record an exception "+e)},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),t.prototype._isSpanEnded=function(){return this._ended&&q.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},t.prototype._truncateToLimitUtil=function(e,n){return e.length<=n?e:e.substring(0,n)},t.prototype._truncateToSize=function(e){var n=this,r=this._attributeValueLengthLimit;return r<=0?(q.warn("Attribute value limit must be positive, got "+r),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(function(i){return typeof i=="string"?n._truncateToLimitUtil(i,r):i}):e},t}(),Kc;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Kc||(Kc={}));var Yy=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:Kc.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}(),oc=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:Kc.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}(),fw=function(){function t(e){var n,r,i,a;this._root=e.root,this._root||(io(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new oc),this._remoteParentSampled=(n=e.remoteParentSampled)!==null&&n!==void 0?n:new oc,this._remoteParentNotSampled=(r=e.remoteParentNotSampled)!==null&&r!==void 0?r:new Yy,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new oc,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Yy}return t.prototype.shouldSample=function(e,n,r,i,a,s){var o=We.getSpanContext(e);return!o||!ub(o)?this._root.shouldSample(e,n,r,i,a,s):o.isRemote?o.traceFlags&Ua.SAMPLED?this._remoteParentSampled.shouldSample(e,n,r,i,a,s):this._remoteParentNotSampled.shouldSample(e,n,r,i,a,s):o.traceFlags&Ua.SAMPLED?this._localParentSampled.shouldSample(e,n,r,i,a,s):this._localParentNotSampled.shouldSample(e,n,r,i,a,s)},t.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},t}(),nL=function(){function t(e){e===void 0&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}return t.prototype.shouldSample=function(e,n){return{decision:D9(n)&&this._accumulate(n)<this._upperBound?Kc.RECORD_AND_SAMPLED:Kc.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e},t.prototype._accumulate=function(e){for(var n=0,r=0;r<e.length/8;r++){var i=r*8,a=parseInt(e.slice(i,i+8),16);n=(n^a)>>>0}return n},t}(),pie=Ii.AlwaysOn,nu=1;function gW(){var t=$c();return{sampler:yW(t),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:t.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:t.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:t.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:t.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:t.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:t.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:t.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:t.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function yW(t){switch(t===void 0&&(t=$c()),t.OTEL_TRACES_SAMPLER){case Ii.AlwaysOn:return new oc;case Ii.AlwaysOff:return new Yy;case Ii.ParentBasedAlwaysOn:return new fw({root:new oc});case Ii.ParentBasedAlwaysOff:return new fw({root:new Yy});case Ii.TraceIdRatio:return new nL(rL(t));case Ii.ParentBasedTraceIdRatio:return new fw({root:new nL(rL(t))});default:return q.error('OTEL_TRACES_SAMPLER value "'+t.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+pie+'".'),new oc}}function rL(t){if(t.OTEL_TRACES_SAMPLER_ARG===void 0||t.OTEL_TRACES_SAMPLER_ARG==="")return q.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+nu+"."),nu;var e=Number(t.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(q.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+nu+"."),nu):e<0||e>1?(q.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+nu+"."),nu):e}function mie(t){var e={sampler:yW()},n=gW(),r=Object.assign({},n,e,t);return r.generalLimits=Object.assign({},n.generalLimits,t.generalLimits||{}),r.spanLimits=Object.assign({},n.spanLimits,t.spanLimits||{}),r}function gie(t){var e,n,r,i,a,s,o,l,u,c,d,f,p=Object.assign({},t.spanLimits),v=Dne();return p.attributeCountLimit=(s=(a=(i=(n=(e=t.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&n!==void 0?n:(r=t.generalLimits)===null||r===void 0?void 0:r.attributeCountLimit)!==null&&i!==void 0?i:v.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:v.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:d0,p.attributeValueLengthLimit=(f=(d=(c=(l=(o=t.spanLimits)===null||o===void 0?void 0:o.attributeValueLengthLimit)!==null&&l!==void 0?l:(u=t.generalLimits)===null||u===void 0?void 0:u.attributeValueLengthLimit)!==null&&c!==void 0?c:v.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:v.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:c0,Object.assign({},t,{spanLimits:p})}var yie=function(){function t(e,n){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var r=$c();this._maxExportBatchSize=typeof(n==null?void 0:n.maxExportBatchSize)=="number"?n.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(n==null?void 0:n.maxQueueSize)=="number"?n.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(n==null?void 0:n.scheduledDelayMillis)=="number"?n.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(n==null?void 0:n.exportTimeoutMillis)=="number"?n.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Ure(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(q.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return t.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},t.prototype.onStart=function(e,n){},t.prototype.onEnd=function(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&Ua.SAMPLED&&this._addToBuffer(e)},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype._shutdown=function(){var e=this;return Promise.resolve().then(function(){return e.onShutdown()}).then(function(){return e._flushAll()}).then(function(){return e._exporter.shutdown()})},t.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&q.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(q.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},t.prototype._flushAll=function(){var e=this;return new Promise(function(n,r){for(var i=[],a=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize),s=0,o=a;s<o;s++)i.push(e._flushOneBatch());Promise.all(i).then(function(){n()}).catch(r)})},t.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(n,r){var i=setTimeout(function(){r(new Error("Timeout"))},e._exportTimeoutMillis);Ie.with(H9(Ie.active()),function(){var a;e._finishedSpans.length<=e._maxExportBatchSize?(a=e._finishedSpans,e._finishedSpans=[]):a=e._finishedSpans.splice(0,e._maxExportBatchSize);for(var s=function(){return e._exporter.export(a,function(d){var f;clearTimeout(i),d.code===nn.SUCCESS?n():r((f=d.error)!==null&&f!==void 0?f:new Error("BatchSpanProcessor: span export failed"))})},o=null,l=0,u=a.length;l<u;l++){var c=a[l];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(o!=null||(o=[]),o.push(c.resource.waitForAsyncAttributes()))}o===null?s():Promise.all(o).then(s,function(d){io(d),r(d)})})})},t.prototype._maybeStartTimer=function(){var e=this;if(!this._isExporting){var n=function(){e._isExporting=!0,e._flushOneBatch().finally(function(){e._isExporting=!1,e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())}).catch(function(r){e._isExporting=!1,io(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return n();this._timer===void 0&&(this._timer=setTimeout(function(){return n()},this._scheduledDelayMillis))}},t.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},t}(),vie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vW=function(t){vie(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.onInit(r),i}return e.prototype.onInit=function(n){var r=this;(n==null?void 0:n.disableAutoFlushOnDocumentHide)!==!0&&typeof document<"u"&&(this._visibilityChangeListener=function(){document.visibilityState==="hidden"&&r.forceFlush().catch(function(i){io(i)})},this._pageHideListener=function(){r.forceFlush().catch(function(i){io(i)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},e.prototype.onShutdown=function(){typeof document<"u"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},e}(yie),bie=8,wie=16,Sie=function(){function t(){this.generateTraceId=iL(wie),this.generateSpanId=iL(bie)}return t}(),tg=Array(32);function iL(t){return function(){for(var e=0;e<t*2;e++)tg[e]=Math.floor(Math.random()*16)+48,tg[e]>=58&&(tg[e]+=39);return String.fromCharCode.apply(null,tg.slice(0,t*2))}}var Eie=function(){function t(e,n,r){this._tracerProvider=r;var i=mie(n);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=n.idGenerator||new Sie,this.resource=r.resource,this.instrumentationLibrary=e}return t.prototype.startSpan=function(e,n,r){var i,a,s;n===void 0&&(n={}),r===void 0&&(r=Ie.active()),n.root&&(r=We.deleteSpan(r));var o=We.getSpan(r);if(Nk(r)){q.debug("Instrumentation suppressed, returning Noop Span");var l=We.wrapSpanContext(P9);return l}var u=o==null?void 0:o.spanContext(),c=this._idGenerator.generateSpanId(),d,f,p;!u||!We.isSpanContextValid(u)?d=this._idGenerator.generateTraceId():(d=u.traceId,f=u.traceState,p=u.spanId);var v=(i=n.kind)!==null&&i!==void 0?i:Jf.INTERNAL,m=((a=n.links)!==null&&a!==void 0?a:[]).map(function(_){return{context:_.context,attributes:u0(_.attributes)}}),S=u0(n.attributes),y=this._sampler.shouldSample(r,d,e,v,S,m);f=(s=y.traceState)!==null&&s!==void 0?s:f;var g=y.decision===By.RECORD_AND_SAMPLED?Ua.SAMPLED:Ua.NONE,b={traceId:d,spanId:c,traceFlags:g,traceState:f};if(y.decision===By.NOT_RECORD){q.debug("Recording is off, propagating context in a non-recording span");var l=We.wrapSpanContext(b);return l}var w=u0(Object.assign(S,y.attributes)),E=new fie(this,r,e,b,v,p,m,n.startTime,void 0,w);return E},t.prototype.startActiveSpan=function(e,n,r,i){var a,s,o;if(!(arguments.length<2)){arguments.length===2?o=n:arguments.length===3?(a=n,o=r):(a=n,s=r,o=i);var l=s??Ie.active(),u=this.startSpan(e,a,l),c=We.setSpan(l,u);return Ie.with(c,o,void 0,u)}},t.prototype.getGeneralLimits=function(){return this._generalLimits},t.prototype.getSpanLimits=function(){return this._spanLimits},t.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},t}(),xie="service.name",_ie="telemetry.sdk.name",Cie="telemetry.sdk.language",kie="telemetry.sdk.version",Tie=xie,aL=_ie,sL=Cie,oL=kie;function Rie(){return"unknown_service"}var is=function(){return is=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},is.apply(this,arguments)},Nie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},Oie=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Iie=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},$f=function(){function t(e,n){var r=this,i;this._attributes=e,this.asyncAttributesPending=n!=null,this._syncAttributes=(i=this._attributes)!==null&&i!==void 0?i:{},this._asyncAttributesPromise=n==null?void 0:n.then(function(a){return r._attributes=Object.assign({},r._attributes,a),r.asyncAttributesPending=!1,a},function(a){return q.debug("a resource's async attributes promise rejected: %s",a),r.asyncAttributesPending=!1,{}})}return t.empty=function(){return t.EMPTY},t.default=function(){var e;return new t((e={},e[Tie]=Rie(),e[sL]=lw[sL],e[aL]=lw[aL],e[oL]=lw[oL],e))},Object.defineProperty(t.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&q.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}},enumerable:!1,configurable:!0}),t.prototype.waitForAsyncAttributes=function(){return Nie(this,void 0,void 0,function(){return Oie(this,function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.merge=function(e){var n=this,r;if(!e)return this;var i=is(is({},this._syncAttributes),(r=e._syncAttributes)!==null&&r!==void 0?r:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new t(i);var a=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(function(s){var o,l=Iie(s,2),u=l[0],c=l[1];return is(is(is(is({},n._syncAttributes),u),(o=e._syncAttributes)!==null&&o!==void 0?o:e.attributes),c)});return new t(i,a)},t.EMPTY=new t({}),t}(),ng=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lL=function(){function t(e){this._spanProcessors=e}return t.prototype.forceFlush=function(){var e,n,r=[];try{for(var i=ng(this._spanProcessors),a=i.next();!a.done;a=i.next()){var s=a.value;r.push(s.forceFlush())}}catch(o){e={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return new Promise(function(o){Promise.all(r).then(function(){o()}).catch(function(l){io(l||new Error("MultiSpanProcessor: forceFlush failed")),o()})})},t.prototype.onStart=function(e,n){var r,i;try{for(var a=ng(this._spanProcessors),s=a.next();!s.done;s=a.next()){var o=s.value;o.onStart(e,n)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.onEnd=function(e){var n,r;try{for(var i=ng(this._spanProcessors),a=i.next();!a.done;a=i.next()){var s=a.value;s.onEnd(e)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.shutdown=function(){var e,n,r=[];try{for(var i=ng(this._spanProcessors),a=i.next();!a.done;a=i.next()){var s=a.value;r.push(s.shutdown())}}catch(o){e={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return new Promise(function(o,l){Promise.all(r).then(function(){o()},l)})},t}(),Lie=function(){function t(){}return t.prototype.onStart=function(e,n){},t.prototype.onEnd=function(e){},t.prototype.shutdown=function(){return Promise.resolve()},t.prototype.forceFlush=function(){return Promise.resolve()},t}(),Zie=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Vie=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Oo;(function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"})(Oo||(Oo={}));var Gie=function(){function t(e){e===void 0&&(e={});var n,r;this._registeredSpanProcessors=[],this._tracers=new Map;var i=oW({},gW(),gie(e));if(this.resource=(n=i.resource)!==null&&n!==void 0?n:$f.empty(),i.mergeResourceWithDefaults&&(this.resource=$f.default().merge(this.resource)),this._config=Object.assign({},i,{resource:this.resource}),!((r=e.spanProcessors)===null||r===void 0)&&r.length)this._registeredSpanProcessors=Vie([],Zie(e.spanProcessors),!1),this.activeSpanProcessor=new lL(this._registeredSpanProcessors);else{var a=this._buildExporterFromEnv();if(a!==void 0){var s=new vW(a);this.activeSpanProcessor=s}else this.activeSpanProcessor=new Lie}}return t.prototype.getTracer=function(e,n,r){var i=e+"@"+(n||"")+":"+((r==null?void 0:r.schemaUrl)||"");return this._tracers.has(i)||this._tracers.set(i,new Eie({name:e,version:n,schemaUrl:r==null?void 0:r.schemaUrl},this._config,this)),this._tracers.get(i)},t.prototype.addSpanProcessor=function(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(n){return q.error("Error while trying to shutdown current span processor",n)}),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new lL(this._registeredSpanProcessors)},t.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},t.prototype.register=function(e){e===void 0&&(e={}),We.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&Ie.setGlobalContextManager(e.contextManager),e.propagator&&Mr.setGlobalPropagator(e.propagator)},t.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map(function(r){return new Promise(function(i){var a,s=setTimeout(function(){i(new Error("Span processor did not completed within timeout period of "+e+" ms")),a=Oo.timeout},e);r.forceFlush().then(function(){clearTimeout(s),a!==Oo.timeout&&(a=Oo.resolved,i(a))}).catch(function(o){clearTimeout(s),a=Oo.error,i(o)})})});return new Promise(function(r,i){Promise.all(n).then(function(a){var s=a.filter(function(o){return o!==Oo.resolved});s.length>0?i(s):r()}).catch(function(a){return i([a])})})},t.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},t.prototype._getPropagator=function(e){var n;return(n=this.constructor._registeredPropagators.get(e))===null||n===void 0?void 0:n()},t.prototype._getSpanExporter=function(e){var n;return(n=this.constructor._registeredExporters.get(e))===null||n===void 0?void 0:n()},t.prototype._buildPropagatorFromEnv=function(){var e=this,n=Array.from(new Set($c().OTEL_PROPAGATORS)),r=n.map(function(a){var s=e._getPropagator(a);return s||q.warn('Propagator "'+a+'" requested through environment variable is unavailable.'),s}),i=r.reduce(function(a,s){return s&&a.push(s),a},[]);if(i.length!==0)return n.length===1?i[0]:new tW({propagators:i})},t.prototype._buildExporterFromEnv=function(){var e=$c().OTEL_TRACES_EXPORTER;if(!(e==="none"||e==="")){var n=this._getSpanExporter(e);return n||q.error('Exporter "'+e+'" requested through environment variable is unavailable.'),n}},t._registeredPropagators=new Map([["tracecontext",function(){return new nW}],["baggage",function(){return new Y9}]]),t._registeredExporters=new Map,t}(),Aie=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Mie=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},bW=function(){function t(){this._enabled=!1,this._currentContext=Ro}return t.prototype._bindFunction=function(e,n){e===void 0&&(e=Ro);var r=this,i=function(){for(var a=this,s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return r.with(e,function(){return n.apply(a,s)})};return Object.defineProperty(i,"length",{enumerable:!1,configurable:!0,writable:!1,value:n.length}),i},t.prototype.active=function(){return this._currentContext},t.prototype.bind=function(e,n){return e===void 0&&(e=this.active()),typeof n=="function"?this._bindFunction(e,n):n},t.prototype.disable=function(){return this._currentContext=Ro,this._enabled=!1,this},t.prototype.enable=function(){return this._enabled?this:(this._enabled=!0,this._currentContext=Ro,this)},t.prototype.with=function(e,n,r){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];var s=this._currentContext;this._currentContext=e||Ro;try{return n.call.apply(n,Mie([r],Aie(i),!1))}finally{this._currentContext=s}},t}(),Xie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uie=function(t){Xie(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,n)||this;if(n.contextManager)throw"contextManager should be defined in register method not in constructor";if(n.propagator)throw"propagator should be defined in register method not in constructor";return r}return e.prototype.register=function(n){n===void 0&&(n={}),n.contextManager===void 0&&(n.contextManager=new bW),n.contextManager&&n.contextManager.enable(),t.prototype.register.call(this,n)},e}(Gie),ue;(function(t){t.CONNECT_END="connectEnd",t.CONNECT_START="connectStart",t.DECODED_BODY_SIZE="decodedBodySize",t.DOM_COMPLETE="domComplete",t.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",t.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",t.DOM_INTERACTIVE="domInteractive",t.DOMAIN_LOOKUP_END="domainLookupEnd",t.DOMAIN_LOOKUP_START="domainLookupStart",t.ENCODED_BODY_SIZE="encodedBodySize",t.FETCH_START="fetchStart",t.LOAD_EVENT_END="loadEventEnd",t.LOAD_EVENT_START="loadEventStart",t.NAVIGATION_START="navigationStart",t.REDIRECT_END="redirectEnd",t.REDIRECT_START="redirectStart",t.REQUEST_START="requestStart",t.RESPONSE_END="responseEnd",t.RESPONSE_START="responseStart",t.SECURE_CONNECTION_START="secureConnectionStart",t.UNLOAD_EVENT_END="unloadEventEnd",t.UNLOAD_EVENT_START="unloadEventStart"})(ue||(ue={}));var pw;function Wie(){return pw||(pw=document.createElement("a")),pw}function ao(t,e){return e in t}function Ft(t,e,n,r){var i=void 0,a=void 0;ao(n,e)&&typeof n[e]=="number"&&(i=n[e]);var s=ue.FETCH_START;if(ao(n,s)&&typeof n[s]=="number"&&(a=n[s]),i!==void 0&&a!==void 0&&i>=a)return t.addEvent(e,i),t}function Qc(t,e,n){n===void 0&&(n=!1),n||(Ft(t,ue.FETCH_START,e),Ft(t,ue.DOMAIN_LOOKUP_START,e),Ft(t,ue.DOMAIN_LOOKUP_END,e),Ft(t,ue.CONNECT_START,e),ao(e,"name")&&e.name.startsWith("https:")&&Ft(t,ue.SECURE_CONNECTION_START,e),Ft(t,ue.CONNECT_END,e),Ft(t,ue.REQUEST_START,e),Ft(t,ue.RESPONSE_START,e),Ft(t,ue.RESPONSE_END,e));var r=e[ue.ENCODED_BODY_SIZE];r!==void 0&&t.setAttribute(lie,r);var i=e[ue.DECODED_BODY_SIZE];i!==void 0&&r!==i&&t.setAttribute(uie,i)}function Pie(t){return t.slice().sort(function(e,n){var r=e[ue.FETCH_START],i=n[ue.FETCH_START];return r>i?1:r<i?-1:0})}function wW(){return typeof location<"u"?location.origin:void 0}function SW(t,e,n,r,i,a){i===void 0&&(i=new WeakSet);var s=ma(t);t=s.toString();var o=Die(t,e,n,r,i,a);if(o.length===0)return{mainRequest:void 0};if(o.length===1)return{mainRequest:o[0]};var l=Pie(o);if(s.origin!==wW()&&l.length>1){var u=l[0],c=zie(l,u[ue.RESPONSE_END],n),d=u[ue.RESPONSE_END],f=c[ue.FETCH_START];return f<d&&(c=u,u=void 0),{corsPreFlightRequest:u,mainRequest:c}}else return{mainRequest:o[0]}}function zie(t,e,n){for(var r=Sa(n),i=Sa(Bh(e)),a=t[1],s,o=t.length,l=1;l<o;l++){var u=t[l],c=Sa(Bh(u[ue.FETCH_START])),d=Sa(Bh(u[ue.RESPONSE_END])),f=r-d;c>=i&&(!s||f<s)&&(s=f,a=u)}return a}function Die(t,e,n,r,i,a){var s=Sa(e),o=Sa(n),l=r.filter(function(u){var c=Sa(Bh(u[ue.FETCH_START])),d=Sa(Bh(u[ue.RESPONSE_END]));return u.initiatorType.toLowerCase()===(a||"xmlhttprequest")&&u.name===t&&c>=s&&d<=o});return l.length>0&&(l=l.filter(function(u){return!i.has(u)})),l}function ma(t){if(typeof URL=="function")return new URL(t,typeof document<"u"?document.baseURI:typeof location<"u"?location.href:void 0);var e=Wie();return e.href=t,e}function EW(t,e){if(t.nodeType===Node.DOCUMENT_NODE)return"/";var n=Bie(t,e);if(e&&n.indexOf("@id")>0)return n;var r="";return t.parentNode&&(r+=EW(t.parentNode,!1)),r+=n,r}function jie(t){if(!t.parentNode)return 0;var e=[t.nodeType];t.nodeType===Node.CDATA_SECTION_NODE&&e.push(Node.TEXT_NODE);var n=Array.from(t.parentNode.childNodes);return n=n.filter(function(r){var i=r.localName;return e.indexOf(r.nodeType)>=0&&i===t.localName}),n.length>=1?n.indexOf(t)+1:0}function Bie(t,e){var n=t.nodeType,r=jie(t),i="";if(n===Node.ELEMENT_NODE){var a=t.getAttribute("id");if(e&&a)return'//*[@id="'+a+'"]';i=t.localName}else if(n===Node.TEXT_NODE||n===Node.CDATA_SECTION_NODE)i="text()";else if(n===Node.COMMENT_NODE)i="comment()";else return"";return i&&r>1?"/"+i+"["+r+"]":"/"+i}function xW(t,e){var n=e||[];(typeof n=="string"||n instanceof RegExp)&&(n=[n]);var r=ma(t);return r.origin===wW()?!0:n.some(function(i){return cW(t,i)})}var u_=function(){return u_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},u_.apply(this,arguments)},Fie=function(){function t(e,n,r){this.instrumentationName=e,this.instrumentationVersion=n,this._config={},this._wrap=mn.wrap,this._unwrap=mn.unwrap,this._massWrap=mn.massWrap,this._massUnwrap=mn.massUnwrap,this.setConfig(r),this._diag=q.createComponentLogger({namespace:e}),this._tracer=We.getTracer(e,n),this._meter=Mi.getMeter(e,n),this._logger=Pp.getLogger(e,n),this._updateMetricInstruments()}return Object.defineProperty(t.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),t.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(t.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),t.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},t.prototype.getModuleDefinitions=function(){var e,n=(e=this.init())!==null&&e!==void 0?e:[];return Array.isArray(n)?n:[n]},t.prototype._updateMetricInstruments=function(){},t.prototype.getConfig=function(){return this._config},t.prototype.setConfig=function(e){this._config=u_({enabled:!0},e)},t.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(t.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),t.prototype._runSpanCustomizationHook=function(e,n,r,i){if(e)try{e(r,i)}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:n},a)}},t}(),Hie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yie=function(t){Hie(e,t);function e(n,r,i){var a=t.call(this,n,r,i)||this;return a._config.enabled&&a.enable(),a}return e}(Fie);function uL(t,e,n){var r,i;try{i=t()}catch(a){r=a}finally{return e(r,i),i}}var Fh;(function(t){t.DOCUMENT_LOAD="documentLoad",t.DOCUMENT_FETCH="documentFetch",t.RESOURCE_FETCH="resourceFetch"})(Fh||(Fh={}));var Jie="0.44.0",$ie="@opentelemetry/instrumentation-document-load";const Kie="http.url",Qie="http.user_agent",mw=Kie,qie=Qie;var Jy;(function(t){t.FIRST_PAINT="firstPaint",t.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"})(Jy||(Jy={}));var eae=function(){var t,e,n={},r=(e=(t=Dr).getEntriesByType)===null||e===void 0?void 0:e.call(t,"navigation")[0];if(r){var i=Object.values(ue);i.forEach(function(o){if(ao(r,o)){var l=r[o];typeof l=="number"&&(n[o]=l)}})}else{var a=Dr,s=a.timing;if(s){var i=Object.values(ue);i.forEach(function(l){if(ao(s,l)){var u=s[l];typeof u=="number"&&(n[l]=u)}})}}return n},cL={"first-paint":Jy.FIRST_PAINT,"first-contentful-paint":Jy.FIRST_CONTENTFUL_PAINT},tae=function(t){var e,n,r=(n=(e=Dr).getEntriesByType)===null||n===void 0?void 0:n.call(e,"paint");r&&r.forEach(function(i){var a=i.name,s=i.startTime;ao(cL,a)&&t.addEvent(cL[a],s)})},nae=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rae=function(t){nae(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,$ie,Jie,n)||this;return r.component="document-load",r.version="1",r.moduleName=r.component,r}return e.prototype.init=function(){},e.prototype._onDocumentLoaded=function(){var n=this;window.setTimeout(function(){n._collectPerformance()})},e.prototype._addResourcesSpans=function(n){var r=this,i,a,s=(a=(i=Dr).getEntriesByType)===null||a===void 0?void 0:a.call(i,"resource");s&&s.forEach(function(o){r._initResourceSpan(o,n)})},e.prototype._collectPerformance=function(){var n=this,r=Array.from(document.getElementsByTagName("meta")).find(function(s){return s.getAttribute("name")===h0}),i=eae(),a=r&&r.content||"";Ie.with(Mr.extract(Ro,{traceparent:a}),function(){var s,o=n._startSpan(Fh.DOCUMENT_LOAD,ue.FETCH_START,i);o&&(Ie.with(We.setSpan(Ie.active(),o),function(){var l=n._startSpan(Fh.DOCUMENT_FETCH,ue.FETCH_START,i);l&&(l.setAttribute(mw,location.href),Ie.with(We.setSpan(Ie.active(),l),function(){var u;n.getConfig().ignoreNetworkEvents||Qc(l,i),n._addCustomAttributesOnSpan(l,(u=n.getConfig().applyCustomAttributesOnSpan)===null||u===void 0?void 0:u.documentFetch),n._endSpan(l,ue.RESPONSE_END,i)}))}),o.setAttribute(mw,location.href),o.setAttribute(qie,navigator.userAgent),n._addResourcesSpans(o),n.getConfig().ignoreNetworkEvents||(Ft(o,ue.FETCH_START,i),Ft(o,ue.UNLOAD_EVENT_START,i),Ft(o,ue.UNLOAD_EVENT_END,i),Ft(o,ue.DOM_INTERACTIVE,i),Ft(o,ue.DOM_CONTENT_LOADED_EVENT_START,i),Ft(o,ue.DOM_CONTENT_LOADED_EVENT_END,i),Ft(o,ue.DOM_COMPLETE,i),Ft(o,ue.LOAD_EVENT_START,i),Ft(o,ue.LOAD_EVENT_END,i)),n.getConfig().ignorePerformancePaintEvents||tae(o),n._addCustomAttributesOnSpan(o,(s=n.getConfig().applyCustomAttributesOnSpan)===null||s===void 0?void 0:s.documentLoad),n._endSpan(o,ue.LOAD_EVENT_END,i))})},e.prototype._endSpan=function(n,r,i){n&&(ao(i,r)?n.end(i[r]):n.end())},e.prototype._initResourceSpan=function(n,r){var i,a=this._startSpan(Fh.RESOURCE_FETCH,ue.FETCH_START,n,r);a&&(a.setAttribute(mw,n.name),this.getConfig().ignoreNetworkEvents||Qc(a,n),this._addCustomAttributesOnResourceSpan(a,n,(i=this.getConfig().applyCustomAttributesOnSpan)===null||i===void 0?void 0:i.resourceFetch),this._endSpan(a,ue.RESPONSE_END,n))},e.prototype._startSpan=function(n,r,i,a){if(ao(i,r)&&typeof i[r]=="number"){var s=this.tracer.startSpan(n,{startTime:i[r]},a?We.setSpan(Ie.active(),a):void 0);return s}},e.prototype._waitForPageLoad=function(){window.document.readyState==="complete"?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))},e.prototype._addCustomAttributesOnSpan=function(n,r){var i=this;r&&uL(function(){return r(n)},function(a){a&&i._diag.error("addCustomAttributesOnSpan",a)})},e.prototype._addCustomAttributesOnResourceSpan=function(n,r,i){var a=this;i&&uL(function(){return i(n,r)},function(s){s&&a._diag.error("addCustomAttributesOnResourceSpan",s)})},e.prototype.enable=function(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()},e.prototype.disable=function(){window.removeEventListener("load",this._onDocumentLoaded)},e}(Yie),c_=function(){return c_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},c_.apply(this,arguments)},iae=function(){function t(e,n,r){this.instrumentationName=e,this.instrumentationVersion=n,this._config={},this._wrap=mn.wrap,this._unwrap=mn.unwrap,this._massWrap=mn.massWrap,this._massUnwrap=mn.massUnwrap,this.setConfig(r),this._diag=q.createComponentLogger({namespace:e}),this._tracer=We.getTracer(e,n),this._meter=Mi.getMeter(e,n),this._logger=Pp.getLogger(e,n),this._updateMetricInstruments()}return Object.defineProperty(t.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),t.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(t.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),t.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},t.prototype.getModuleDefinitions=function(){var e,n=(e=this.init())!==null&&e!==void 0?e:[];return Array.isArray(n)?n:[n]},t.prototype._updateMetricInstruments=function(){},t.prototype.getConfig=function(){return this._config},t.prototype.setConfig=function(e){this._config=c_({enabled:!0},e)},t.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(t.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),t.prototype._runSpanCustomizationHook=function(e,n,r,i){if(e)try{e(r,i)}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:n},a)}},t}(),aae=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sae=function(t){aae(e,t);function e(n,r,i){var a=t.call(this,n,r,i)||this;return a._config.enabled&&a.enable(),a}return e}(iae);function oae(t,e,n){var r,i;try{i=t()}catch(a){r=a}finally{return e(r,i),i}}function lae(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}var $y;(function(t){t.COMPONENT="component",t.HTTP_ERROR_NAME="http.error_name",t.HTTP_STATUS_TEXT="http.status_text"})($y||($y={}));var uae="http.method",cae="http.url",dae="http.host",hae="http.scheme",fae="http.status_code",pae="http.user_agent",mae="http.request_content_length_uncompressed",gae=uae,yae=cae,vae=dae,bae=hae,wae=fae,Sae=pae,Eae=mae,xae=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},_ae=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Cae=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kae=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},_W=q.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-fetch/utils"});function Tae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t[0]instanceof URL||typeof t[0]=="string"){var n=t[1];if(!(n!=null&&n.body))return Promise.resolve();if(n.body instanceof ReadableStream){var r=Rae(n.body),i=r.body,a=r.length;return n.body=i,a}else return Promise.resolve(Nae(n.body))}else{var s=t[0];return s!=null&&s.body?s.clone().text().then(function(o){return d_(o)}):Promise.resolve()}}function Rae(t){if(!t.pipeThrough)return _W.warn("Platform has ReadableStream but not pipeThrough!"),{body:t,length:Promise.resolve(void 0)};var e=0,n,r=new Promise(function(a){n=a}),i=new TransformStream({start:function(){},transform:function(a,s){return xae(this,void 0,void 0,function(){var o;return _ae(this,function(l){switch(l.label){case 0:return[4,a];case 1:return o=l.sent(),e+=o.byteLength,s.enqueue(a),[2]}})})},flush:function(){n(e)}});return{body:t.pipeThrough(i),length:r}}function Nae(t){if(typeof Document<"u"&&t instanceof Document)return new XMLSerializer().serializeToString(document).length;if(t instanceof Blob)return t.size;if(t.byteLength!==void 0)return t.byteLength;if(t instanceof FormData)return Iae(t);if(t instanceof URLSearchParams)return d_(t.toString());if(typeof t=="string")return d_(t);_W.warn("unknown body type")}var Oae=new TextEncoder;function d_(t){return Oae.encode(t).byteLength}function Iae(t){var e,n,r=0;try{for(var i=Cae(t.entries()),a=i.next();!a.done;a=i.next()){var s=kae(a.value,2),o=s[0],l=s[1];r+=o.length,l instanceof Blob?r+=l.size:r+=l.length}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var dL="0.57.2",Lae=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zae=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Vae=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},gw,Gae=300,hL=typeof process=="object"&&((gw=process.release)===null||gw===void 0?void 0:gw.name)==="node",Aae=function(t){Lae(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,"@opentelemetry/instrumentation-fetch",dL,n)||this;return r.component="fetch",r.version=dL,r.moduleName=r.component,r._usedResources=new WeakSet,r._tasksCount=0,r}return e.prototype.init=function(){},e.prototype._addChildSpan=function(n,r){var i=this.tracer.startSpan("CORS Preflight",{startTime:r[ue.FETCH_START]},We.setSpan(Ie.active(),n));Qc(i,r,this.getConfig().ignoreNetworkEvents),i.end(r[ue.RESPONSE_END])},e.prototype._addFinalSpanAttributes=function(n,r){var i=ma(r.url);n.setAttribute(wae,r.status),r.statusText!=null&&n.setAttribute($y.HTTP_STATUS_TEXT,r.statusText),n.setAttribute(vae,i.host),n.setAttribute(bae,i.protocol.replace(":","")),typeof navigator<"u"&&n.setAttribute(Sae,navigator.userAgent)},e.prototype._addHeaders=function(n,r){if(!xW(r,this.getConfig().propagateTraceHeaderCorsUrls)){var i={};Mr.inject(Ie.active(),i),Object.keys(i).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(n instanceof Request)Mr.inject(Ie.active(),n.headers,{set:function(a,s,o){return a.set(s,typeof o=="string"?o:String(o))}});else if(n.headers instanceof Headers)Mr.inject(Ie.active(),n.headers,{set:function(a,s,o){return a.set(s,typeof o=="string"?o:String(o))}});else if(n.headers instanceof Map)Mr.inject(Ie.active(),n.headers,{set:function(a,s,o){return a.set(s,typeof o=="string"?o:String(o))}});else{var i={};Mr.inject(Ie.active(),i),n.headers=Object.assign({},i,n.headers||{})}},e.prototype._clearResources=function(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},e.prototype._createSpan=function(n,r){var i;if(r===void 0&&(r={}),dW(n,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var a=(r.method||"GET").toUpperCase(),s="HTTP "+a;return this.tracer.startSpan(s,{kind:Jf.CLIENT,attributes:(i={},i[$y.COMPONENT]=this.moduleName,i[gae]=a,i[yae]=n,i)})},e.prototype._findResourceAndAddNetworkEvents=function(n,r,i){var a=r.entries;if(!a.length){if(!performance.getEntriesByType)return;a=performance.getEntriesByType("resource")}var s=SW(r.spanUrl,r.startTime,i,a,this._usedResources,"fetch");if(s.mainRequest){var o=s.mainRequest;this._markResourceAsUsed(o);var l=s.corsPreFlightRequest;l&&(this._addChildSpan(n,l),this._markResourceAsUsed(l)),Qc(n,o,this.getConfig().ignoreNetworkEvents)}},e.prototype._markResourceAsUsed=function(n){this._usedResources.add(n)},e.prototype._endSpan=function(n,r,i){var a=this,s=Ur(Date.now()),o=_l();this._addFinalSpanAttributes(n,i),setTimeout(function(){var l;(l=r.observer)===null||l===void 0||l.disconnect(),a._findResourceAndAddNetworkEvents(n,r,o),a._tasksCount--,a._clearResources(),n.end(s)},Gae)},e.prototype._patchConstructor=function(){var n=this;return function(r){var i=n;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var o=this,l=ma(a[0]instanceof Request?a[0].url:String(a[0])).href,u=a[0]instanceof Request?a[0]:a[1]||{},c=i._createSpan(l,u);if(!c)return r.apply(this,a);var d=i._prepareSpanData(l);i.getConfig().measureRequestSize&&Tae.apply(void 0,Vae([],Zae(a),!1)).then(function(S){S&&c.setAttribute(Eae,S)}).catch(function(S){i._diag.warn("getFetchBodyLength",S)});function f(S,y){i._applyAttributesAfterFetch(S,u,y),i._endSpan(S,d,{status:y.status||0,statusText:y.message,url:l})}function p(S,y){i._applyAttributesAfterFetch(S,u,y),y.status>=200&&y.status<400?i._endSpan(S,d,y):i._endSpan(S,d,{status:y.status,statusText:y.statusText,url:l})}function v(S,y,g){try{var b=g.clone(),w=g.clone(),E=b.body;if(E){var _=E.getReader(),C=function(){_.read().then(function(k){var x=k.done;x?p(S,w):C()},function(k){f(S,k)})};C()}else p(S,g)}finally{y(g)}}function m(S,y,g){try{f(S,g)}finally{y(g)}}return new Promise(function(S,y){return Ie.with(We.setSpan(Ie.active(),c),function(){return i._addHeaders(u,l),i._tasksCount++,r.apply(o,u instanceof Request?[u]:[l,u]).then(v.bind(o,c,S),m.bind(o,c,y))})})}}},e.prototype._applyAttributesAfterFetch=function(n,r,i){var a=this,s=this.getConfig().applyCustomAttributesOnSpan;s&&oae(function(){return s(n,r,i)},function(o){o&&a._diag.error("applyCustomAttributesOnSpan",o)})},e.prototype._prepareSpanData=function(n){var r=_l(),i=[];if(typeof PerformanceObserver!="function")return{entries:i,startTime:r,spanUrl:n};var a=new PerformanceObserver(function(s){var o=s.getEntries();o.forEach(function(l){l.initiatorType==="fetch"&&l.name===n&&i.push(l)})});return a.observe({entryTypes:["resource"]}),{entries:i,observer:a,startTime:r,spanUrl:n}},e.prototype.enable=function(){if(hL){this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()");return}lae(fetch)&&(this._unwrap(jh,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(jh,"fetch",this._patchConstructor())},e.prototype.disable=function(){hL||(this._unwrap(jh,"fetch"),this._usedResources=new WeakSet)},e}(sae),h_=function(){return h_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},h_.apply(this,arguments)},Mae=function(){function t(e,n,r){this.instrumentationName=e,this.instrumentationVersion=n,this._config={},this._wrap=mn.wrap,this._unwrap=mn.unwrap,this._massWrap=mn.massWrap,this._massUnwrap=mn.massUnwrap,this.setConfig(r),this._diag=q.createComponentLogger({namespace:e}),this._tracer=We.getTracer(e,n),this._meter=Mi.getMeter(e,n),this._logger=Pp.getLogger(e,n),this._updateMetricInstruments()}return Object.defineProperty(t.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),t.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(t.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),t.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},t.prototype.getModuleDefinitions=function(){var e,n=(e=this.init())!==null&&e!==void 0?e:[];return Array.isArray(n)?n:[n]},t.prototype._updateMetricInstruments=function(){},t.prototype.getConfig=function(){return this._config},t.prototype.setConfig=function(e){this._config=h_({enabled:!0},e)},t.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(t.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),t.prototype._runSpanCustomizationHook=function(e,n,r,i){if(e)try{e(r,i)}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:n},a)}},t}(),Xae=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uae=function(t){Xae(e,t);function e(n,r,i){var a=t.call(this,n,r,i)||this;return a._config.enabled&&a.enable(),a}return e}(Mae);function Wae(t,e,n){var r,i;try{i=t()}catch(a){r=a}finally{return e(r,i),i}}function fL(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}var Pae="http.method",zae="http.url",Dae="http.host",jae="http.scheme",Bae="http.status_code",Fae="http.user_agent",Hae="http.request_content_length_uncompressed",Yae=Pae,Jae=zae,$ae=Dae,Kae=jae,Qae=Bae,qae=Fae,ese=Hae,aa;(function(t){t.METHOD_OPEN="open",t.METHOD_SEND="send",t.EVENT_ABORT="abort",t.EVENT_ERROR="error",t.EVENT_LOAD="loaded",t.EVENT_TIMEOUT="timeout"})(aa||(aa={}));var tse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nse=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},rse=q.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-xml-http-request/utils"});function ise(t){if(typeof Document<"u"&&t instanceof Document)return new XMLSerializer().serializeToString(document).length;if(t instanceof Blob)return t.size;if(t.byteLength!==void 0)return t.byteLength;if(t instanceof FormData)return sse(t);if(t instanceof URLSearchParams)return pL(t.toString());if(typeof t=="string")return pL(t);rse.warn("unknown body type")}var ase=new TextEncoder;function pL(t){return ase.encode(t).byteLength}function sse(t){var e,n,r=0;try{for(var i=tse(t.entries()),a=i.next();!a.done;a=i.next()){var s=nse(a.value,2),o=s[0],l=s[1];r+=o.length,l instanceof Blob?r+=l.size:r+=l.length}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var mL="0.57.2",f_;(function(t){t.HTTP_STATUS_TEXT="http.status_text"})(f_||(f_={}));var ose=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lse=300,use=function(t){ose(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,"@opentelemetry/instrumentation-xml-http-request",mL,n)||this;return r.component="xml-http-request",r.version=mL,r.moduleName=r.component,r._tasksCount=0,r._xhrMem=new WeakMap,r._usedResources=new WeakSet,r}return e.prototype.init=function(){},e.prototype._addHeaders=function(n,r){var i=ma(r).href;if(!xW(i,this.getConfig().propagateTraceHeaderCorsUrls)){var a={};Mr.inject(Ie.active(),a),Object.keys(a).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}var s={};Mr.inject(Ie.active(),s),Object.keys(s).forEach(function(o){n.setRequestHeader(o,String(s[o]))})},e.prototype._addChildSpan=function(n,r){var i=this;Ie.with(We.setSpan(Ie.active(),n),function(){var a=i.tracer.startSpan("CORS Preflight",{startTime:r[ue.FETCH_START]});Qc(a,r,i.getConfig().ignoreNetworkEvents),a.end(r[ue.RESPONSE_END])})},e.prototype._addFinalSpanAttributes=function(n,r,i){if(typeof i=="string"){var a=ma(i);r.status!==void 0&&n.setAttribute(Qae,r.status),r.statusText!==void 0&&n.setAttribute(f_.HTTP_STATUS_TEXT,r.statusText),n.setAttribute($ae,a.host),n.setAttribute(Kae,a.protocol.replace(":","")),n.setAttribute(qae,navigator.userAgent)}},e.prototype._applyAttributesAfterXHR=function(n,r){var i=this,a=this.getConfig().applyCustomAttributesOnSpan;typeof a=="function"&&Wae(function(){return a(n,r)},function(s){s&&i._diag.error("applyCustomAttributesOnSpan",s)})},e.prototype._addResourceObserver=function(n,r){var i=this._xhrMem.get(n);!i||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(i.createdResources={observer:new PerformanceObserver(function(a){var s=a.getEntries(),o=ma(r);s.forEach(function(l){l.initiatorType==="xmlhttprequest"&&l.name===o.href&&i.createdResources&&i.createdResources.entries.push(l)})}),entries:[]},i.createdResources.observer.observe({entryTypes:["resource"]}))},e.prototype._clearResources=function(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(Dr.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},e.prototype._findResourceAndAddNetworkEvents=function(n,r,i,a,s){if(!(!i||!a||!s||!n.createdResources)){var o=n.createdResources.entries;(!o||!o.length)&&(o=Dr.getEntriesByType("resource"));var l=SW(ma(i).href,a,s,o,this._usedResources);if(l.mainRequest){var u=l.mainRequest;this._markResourceAsUsed(u);var c=l.corsPreFlightRequest;c&&(this._addChildSpan(r,c),this._markResourceAsUsed(c)),Qc(r,u,this.getConfig().ignoreNetworkEvents)}}},e.prototype._cleanPreviousSpanInformation=function(n){var r=this._xhrMem.get(n);if(r){var i=r.callbackToRemoveEvents;i&&i(),this._xhrMem.delete(n)}},e.prototype._createSpan=function(n,r,i){var a;if(dW(r,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var s=i.toUpperCase(),o=this.tracer.startSpan(s,{kind:Jf.CLIENT,attributes:(a={},a[Yae]=i,a[Jae]=ma(r).toString(),a)});return o.addEvent(aa.METHOD_OPEN),this._cleanPreviousSpanInformation(n),this._xhrMem.set(n,{span:o,spanUrl:r}),o},e.prototype._markResourceAsUsed=function(n){this._usedResources.add(n)},e.prototype._patchOpen=function(){var n=this;return function(r){var i=n;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var o=a[0],l=a[1];return i._createSpan(this,l,o),r.apply(this,a)}}},e.prototype._patchSend=function(){var n=this;function r(c,d,f,p){var v=d.callbackToRemoveEvents;typeof v=="function"&&v();var m=d.span,S=d.spanUrl,y=d.sendStartTime;m&&(n._findResourceAndAddNetworkEvents(d,m,S,y,f),m.addEvent(c,p),n._addFinalSpanAttributes(m,d,S),m.end(p),n._tasksCount--),n._clearResources()}function i(c,d){var f=n._xhrMem.get(d);if(f){f.status=d.status,f.statusText=d.statusText,n._xhrMem.delete(d),f.span&&n._applyAttributesAfterXHR(f.span,d);var p=_l(),v=Date.now();setTimeout(function(){r(c,f,p,v)},lse)}}function a(){i(aa.EVENT_ERROR,this)}function s(){i(aa.EVENT_ABORT,this)}function o(){i(aa.EVENT_TIMEOUT,this)}function l(){this.status<299?i(aa.EVENT_LOAD,this):i(aa.EVENT_ERROR,this)}function u(c){c.removeEventListener("abort",s),c.removeEventListener("error",a),c.removeEventListener("load",l),c.removeEventListener("timeout",o);var d=n._xhrMem.get(c);d&&(d.callbackToRemoveEvents=void 0)}return function(c){return function(){for(var d=this,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var v=n._xhrMem.get(this);if(!v)return c.apply(this,f);var m=v.span,S=v.spanUrl;if(m&&S){if(n.getConfig().measureRequestSize&&f!=null&&f[0]){var y=f[0],g=ise(y);g!==void 0&&m.setAttribute(ese,g)}Ie.with(We.setSpan(Ie.active(),m),function(){n._tasksCount++,v.sendStartTime=_l(),m.addEvent(aa.METHOD_SEND),d.addEventListener("abort",s),d.addEventListener("error",a),d.addEventListener("load",l),d.addEventListener("timeout",o),v.callbackToRemoveEvents=function(){u(d),v.createdResources&&v.createdResources.observer.disconnect()},n._addHeaders(d,S),n._addResourceObserver(d,S)})}return c.apply(this,f)}}},e.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),fL(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),fL(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},e.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},e}(Uae);const gL=(t,e,n)=>{const r=CW(e,t.headers,n);return sl(fi({},t),{headers:r})},CW=(t,e,n)=>{var r,i;const a=fi({},e);return n?((r=Object.keys(a))==null||r.forEach(s=>{[...n].includes(s==null?void 0:s.toLowerCase())||(a[s]="[REDACTED]")}),a):((i=Object.keys(a))==null||i.forEach(s=>{[...cse,...t].includes(s==null?void 0:s.toLowerCase())&&(a[s]="[REDACTED]")}),a)},cse=["authorization","cookie","proxy-authorization","token"],kW=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"],dse=new RegExp("sdk\\/evalx\\/[^/]+\\/contexts\\/(?<context>[^/?]*)\\??.*?"),hse=new RegExp("\\/eval\\/[^/]+\\/(?<context>[^/?]*)\\??.*?");function fse(t){return!!(t.includes("/sdk/evalx")&&t.match(dse)||t.includes("/eval/")&&t.match(hse))}const TW="X-Highlight-Request",yL=t=>{let e=t;return!t.startsWith("https://")&&!t.startsWith("http://")&&(e=`${window.location.origin}${e}`),e.replace(/\/+$/,"")},pse=(t,{headersToRedact:e,headersToRecord:n,requestResponseSanitizer:r})=>{var i,a;let s=t;if(r){let d=!0;try{s.request.body=JSON.parse(s.request.body)}catch{d=!1}let f=!0;try{s.response.body=JSON.parse(s.response.body)}catch{f=!1}try{s=r(s)}catch{}finally{d=d&&!!((i=s==null?void 0:s.request)!=null&&i.body),f=f&&!!((a=s==null?void 0:s.response)!=null&&a.body),d&&(s.request.body=JSON.stringify(s.request.body)),f&&(s.response.body=JSON.stringify(s.response.body))}if(!s)return null}const o=s,{request:l,response:u}=o,c=jee(o,["request","response"]);return fi({request:gL(l,e,n),response:gL(u,e,n)},c)},vL=(t,e,n,r)=>{t.sort((l,u)=>l.responseEnd-u.responseEnd);const i={xmlhttprequest:{},others:{},fetch:{}},a=t.reduce((l,u)=>{const c=yL(u.name);return u.initiatorType===n?l[n][c]=[...l[n][c]||[],u]:l.others[c]=[...l.others[c]||[],u],l},i);let s={};s=e.reduce((l,u)=>{const c=yL(u.request.url);return l[c]=[...l[c]||[],u],l},s);for(let l in a[n]){const u=a[n][l],c=s[l];if(!c)continue;const d=Math.max(u.length-c.length,0);for(let f=d;f<u.length;f++)u[f]&&(u[f].requestResponsePair=c[f-d])}let o=[];for(let l in a)for(let u in a[l])o=o.concat(a[l][u]);return o.sort((l,u)=>l.fetchStart-u.fetchStart).reduce((l,u)=>{let c=u.requestResponsePair;return c&&(c=pse(u.requestResponsePair,r),!c)||(u.toJSON=function(){const d=window.performance.timeOrigin;return{initiatorType:this.initiatorType,startTimeAbs:d+this.startTime,connectStartAbs:d+this.connectStart,connectEndAbs:d+this.connectEnd,domainLookupStartAbs:d+this.domainLookupStart,domainLookupEndAbs:d+this.domainLookupEnd,fetchStartAbs:d+this.fetchStart,redirectStartAbs:d+this.redirectStart,redirectEndAbs:d+this.redirectEnd,requestStartAbs:d+this.requestStart,responseStartAbs:d+this.responseStart,responseEndAbs:d+this.responseEnd,secureConnectionStartAbs:d+this.secureConnectionStart,workerStartAbs:d+this.workerStart,name:this.name,transferSize:this.transferSize,encodedBodySize:this.encodedBodySize,decodedBodySize:this.decodedBodySize,nextHopProtocol:this.nextHopProtocol,requestResponsePairs:c}},l.push(u)),l},[])},mse=t=>["events.ld.catamorphic.com","events.launchdarkly.com"].some(e=>t.toLocaleLowerCase().includes(e)),gse=t=>fse(t),yse=(t,e)=>e.some(n=>t.toLocaleLowerCase().includes(n)),cb=(t,e,n)=>!yse(t,e)&&!gse(t)&&!mse(t),Zk=(t,e,n)=>{var r;if(n.some(s=>t.toLowerCase().includes(s)))return!1;let i=[];e===!0?(i=["localhost",/^\//],(r=window==null?void 0:window.location)!=null&&r.host&&i.push(window.location.host)):e instanceof Array&&(i=e);let a=!1;return i.forEach(s=>{t.match(s)&&(a=!0)}),a};function vse(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}const Vk=()=>{const t=vse(10),e=Pue(),n=e==null?void 0:e.spanContext().traceId;return[gU(),n??t]},RW=(t,e)=>t+"/"+e,bse=(t,e,n,r,i,a)=>{const s=XMLHttpRequest.prototype,o=s.open,l=s.send,u=s.setRequestHeader;return s.open=function(c,d){return typeof d=="string"?this._url=d:this._url=d.toString(),this._method=c,this._requestHeaders={},this._shouldRecordHeaderAndBody=!r.some(f=>this._url.toLowerCase().includes(f)),o.apply(this,arguments)},s.setRequestHeader=function(c,d){return this._requestHeaders[c]=d,u.apply(this,arguments)},s.send=function(c){if(!cb(this._url,e))return l.apply(this,arguments);const[d,f]=Vk();Zk(this._url,n,r)&&this.setRequestHeader(TW,RW(d,f));const p=this._shouldRecordHeaderAndBody,v={sessionSecureID:d,id:f,url:this._url,verb:this._method,headers:p?this._requestHeaders:{},body:void 0};if(p&&c){const m=bL(c,v.url);m&&(this._body=m,v.body=ds(m,i,a,v.headers))}return this.addEventListener("load",function(){return El(this,null,function*(){const m={status:this.status,headers:{},body:void 0};if(p){const S=this.getAllResponseHeaders().trim().split(/[\r\n]+/),y={};if(S.forEach(function(g){const b=g.split(": "),w=b.shift();y[w]=b.join(": ")}),m.headers=y,c){const g=bL(c,v.url);g&&(v.body=ds(g,i,a,m.headers))}if(this.responseType===""||this.responseType==="text")m.body=ds(this.responseText,i,a,m.headers),m.size=this.responseText.length*8;else if(this.responseType==="blob"){if(this.response instanceof Blob)try{const g=yield this.response.text();m.body=ds(g,i,a,m.headers),m.size=this.response.size}catch{}}else try{m.body=ds(this.response,i,a,m.headers)}catch{}}t({request:v,response:m,urlBlocked:!p})})}),this.addEventListener("error",function(){return El(this,null,function*(){const m={status:this.status,headers:void 0,body:void 0};t({request:v,response:m,urlBlocked:!1})})}),l.apply(this,arguments)},()=>{s.open=o,s.send=l,s.setRequestHeader=u}},bL=(t,e)=>{if(typeof t=="string"){if(!((e!=null&&e.includes("localhost")||e!=null&&e.includes("highlight.run"))&&(t.includes("pushPayload")||t.includes("pushSessionEvents"))))return t}else if(typeof t=="object"||typeof t=="number"||typeof t=="boolean")return il(t);return null},wL=64*1024,wse={"application/json":64*1024*1024,"text/plain":64*1024*1024},ds=(t,e,n,r)=>{var i,a,s;let o=wL;if(r){let l="";typeof r.get=="function"?l=(i=r.get("content-type"))!=null?i:"":l=(a=r["content-type"])!=null?a:"";try{l=l.split(";")[0]}catch{}o=(s=wse[l])!=null?s:wL}if(t){if(e)try{const l=JSON.parse(t);Array.isArray(l)?l.forEach(u=>{Object.keys(u).forEach(c=>{e.includes(c.toLocaleLowerCase())&&(u[c]="[REDACTED]")})}):Object.keys(l).forEach(u=>{e.includes(u.toLocaleLowerCase())&&(l[u]="[REDACTED]")}),t=JSON.stringify(l)}catch{}if(n)try{const l=JSON.parse(t);Object.keys(l).forEach(u=>{n.includes(u.toLocaleLowerCase())||(l[u]="[REDACTED]")}),t=JSON.stringify(l)}catch{}}try{t=t.slice(0,o)}catch{}return t},Sse=(t,e,n,r,i,a)=>{const s=window._fetchProxy;return window._fetchProxy=function(o,l){const{method:u,url:c}=Ese(o,l);if(!cb(c,e))return s.call(this,o,l);const[d,f]=Vk();if(Zk(c,n,r)){l=l||{};let S=new Headers(l.headers);o instanceof Request&&[...o.headers].forEach(([y,g])=>S.set(y,g)),S.set(TW,RW(d,f)),l.headers=Object.fromEntries(S.entries())}const p={sessionSecureID:d,id:f,headers:{},body:void 0,url:c,verb:u},v=!r.some(S=>c.toLowerCase().includes(S));v&&(p.headers=Object.fromEntries(new Headers(l==null?void 0:l.headers).entries()),p.body=ds(l==null?void 0:l.body,i,a,l==null?void 0:l.headers));let m=s.call(this,o,l);return xse(m,p,t,v,i,a),m},()=>{window._fetchProxy=s}},Ese=(t,e)=>{const n=e&&e.method||typeof t=="object"&&"method"in t&&t.method||"GET";let r;return typeof t=="object"?"url"in t&&t.url?r=t.url:r=t.toString():r=t,{method:n,url:r}},xse=(t,e,n,r,i,a)=>{const s=o=>El(void 0,null,function*(){let l={body:void 0,headers:void 0,status:0,size:0},u=!1,c=!r;"stack"in o||o instanceof Error?(l=sl(fi({},l),{body:o.message,status:0,size:void 0}),u=!0):"status"in o&&(l=sl(fi({},l),{status:o.status}),r&&(l.body=yield NW(o,a,i),l.headers=Object.fromEntries(o.headers.entries()),l.size=l.body.length*8),(o.type==="opaque"||o.type==="opaqueredirect")&&(c=!0,l=sl(fi({},l),{body:"CORS blocked request"})),u=!0),u&&n({request:e,response:l,urlBlocked:c})});t.then(s).catch(()=>{})},NW=(t,e,n)=>El(void 0,null,function*(){let r;try{const i=t.clone().body;if(i){let a=i.getReader(),s=new TextDecoder,o,l="";for(;!(o=yield a.read()).done;){let u=o.value;l+=s.decode(u)}r=l,r=ds(r,n,e,t.headers)}else r=""}catch(i){r=`Unable to clone response: ${i}`}return r});var OW=function(){function t(e){this._delegate=e}return t.prototype.export=function(e,n){this._delegate.export(e,n)},t.prototype.forceFlush=function(){return this._delegate.forceFlush()},t.prototype.shutdown=function(){return this._delegate.shutdown()},t}(),_se=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),SL=function(t){_se(e,t);function e(n,r,i){var a=t.call(this,n)||this;return a.name="OTLPExporterError",a.data=i,a.code=r,a}return e}(Error);function Cse(t){if(!Number.isNaN(t)&&Number.isFinite(t)&&t>0)return t;throw new Error("Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '"+t+"')")}function kse(t){if(t!=null)return function(){return t}}function Tse(t,e,n){var r,i,a,s,o,l;return{timeoutMillis:Cse((i=(r=t.timeoutMillis)!==null&&r!==void 0?r:e.timeoutMillis)!==null&&i!==void 0?i:n.timeoutMillis),concurrencyLimit:(s=(a=t.concurrencyLimit)!==null&&a!==void 0?a:e.concurrencyLimit)!==null&&s!==void 0?s:n.concurrencyLimit,compression:(l=(o=t.compression)!==null&&o!==void 0?o:e.compression)!==null&&l!==void 0?l:n.compression}}function Rse(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}var Nse=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},Ose=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ise=function(){function t(e){this._sendingPromises=[],this._concurrencyLimit=e}return t.prototype.pushPromise=function(e){var n=this;if(this.hasReachedLimit())throw new Error("Concurrency Limit reached");this._sendingPromises.push(e);var r=function(){var i=n._sendingPromises.indexOf(e);n._sendingPromises.splice(i,1)};e.then(r,r)},t.prototype.hasReachedLimit=function(){return this._sendingPromises.length>=this._concurrencyLimit},t.prototype.awaitAll=function(){return Nse(this,void 0,void 0,function(){return Ose(this,function(e){switch(e.label){case 0:return[4,Promise.all(this._sendingPromises)];case 1:return e.sent(),[2]}})})},t}();function Lse(t){return new Ise(t.concurrencyLimit)}function Zse(t){return Object.prototype.hasOwnProperty.call(t,"partialSuccess")}function Vse(){return{handleResponse:function(t){t==null||!Zse(t)||t.partialSuccess==null||Object.keys(t.partialSuccess).length===0||q.warn("Received Partial Success response:",JSON.stringify(t.partialSuccess))}}}var Gse=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},Ase=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Mse=function(){function t(e,n,r,i,a){this._transport=e,this._serializer=n,this._responseHandler=r,this._promiseQueue=i,this._timeout=a,this._diagLogger=q.createComponentLogger({namespace:"OTLPExportDelegate"})}return t.prototype.export=function(e,n){var r=this;if(this._diagLogger.debug("items to be sent",e),this._promiseQueue.hasReachedLimit()){n({code:nn.FAILED,error:new Error("Concurrent export limit reached")});return}var i=this._serializer.serializeRequest(e);if(i==null){n({code:nn.FAILED,error:new Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(i,this._timeout).then(function(a){if(a.status==="success"){if(a.data!=null)try{r._responseHandler.handleResponse(r._serializer.deserializeResponse(a.data))}catch(s){r._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",s,a.data)}n({code:nn.SUCCESS});return}else if(a.status==="failure"&&a.error){n({code:nn.FAILED,error:a.error});return}else a.status==="retryable"?n({code:nn.FAILED,error:new SL("Export failed with retryable status")}):n({code:nn.FAILED,error:new SL("Export failed with unknown error")})},function(a){return n({code:nn.FAILED,error:a})}))},t.prototype.forceFlush=function(){return this._promiseQueue.awaitAll()},t.prototype.shutdown=function(){return Gse(this,void 0,void 0,function(){return Ase(this,function(e){switch(e.label){case 0:return this._diagLogger.debug("shutdown started"),[4,this.forceFlush()];case 1:return e.sent(),this._transport.shutdown(),[2]}})})},t}();function Xse(t,e){return new Mse(t.transport,t.serializer,Vse(),t.promiseHandler,e.timeout)}function IW(t,e,n){return Xse({transport:n,serializer:e,promiseHandler:Lse(t)},{timeout:t.timeoutMillis})}function LW(t){var e=BigInt(1e9);return BigInt(t[0])*e+BigInt(t[1])}function Use(t){var e=Number(BigInt.asUintN(32,t)),n=Number(BigInt.asUintN(32,t>>BigInt(32)));return{low:e,high:n}}function ZW(t){var e=LW(t);return Use(e)}function Wse(t){var e=LW(t);return e.toString()}var Pse=typeof BigInt<"u"?Wse:Sa;function EL(t){return t}function VW(t){if(t!==void 0)return Ok(t)}var zse={encodeHrTime:ZW,encodeSpanContext:Ok,encodeOptionalSpanContext:VW};function GW(t){var e,n;if(t===void 0)return zse;var r=(e=t.useLongBits)!==null&&e!==void 0?e:!0,i=(n=t.useHex)!==null&&n!==void 0?n:!1;return{encodeHrTime:r?ZW:Pse,encodeSpanContext:i?EL:Ok,encodeOptionalSpanContext:i?EL:VW}}var Dse=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a};function AW(t){return{attributes:zl(t.attributes),droppedAttributesCount:0}}function MW(t){return{name:t.name,version:t.version}}function zl(t){return Object.keys(t).map(function(e){return XW(e,t[e])})}function XW(t,e){return{key:t,value:UW(e)}}function UW(t){var e=typeof t;return e==="string"?{stringValue:t}:e==="number"?Number.isInteger(t)?{intValue:t}:{doubleValue:t}:e==="boolean"?{boolValue:t}:t instanceof Uint8Array?{bytesValue:t}:Array.isArray(t)?{arrayValue:{values:t.map(UW)}}:e==="object"&&t!=null?{kvlistValue:{values:Object.entries(t).map(function(n){var r=Dse(n,2),i=r[0],a=r[1];return XW(i,a)})}}:{}}var gi;(function(t){t[t.DELTA=0]="DELTA",t[t.CUMULATIVE=1]="CUMULATIVE"})(gi||(gi={}));var Xi;(function(t){t[t.HISTOGRAM=0]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",t[t.GAUGE=2]="GAUGE",t[t.SUM=3]="SUM"})(Xi||(Xi={}));var jse=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xL=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},_L=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Bse=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Fse=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Hse=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Yse(t){return t!=null}function WW(t){var e=Object.keys(t);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(function(n){return[n,t[n]]})))}function Jse(t){var e,n;return t.name+":"+((e=t.version)!==null&&e!==void 0?e:"")+":"+((n=t.schemaUrl)!==null&&n!==void 0?n:"")}var PW=function(t){jse(e,t);function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return e}(Error);function Kf(t,e){var n,r=new Promise(function(i,a){n=setTimeout(function(){a(new PW("Operation timed out."))},e)});return Promise.race([t,r]).then(function(i){return clearTimeout(n),i},function(i){throw clearTimeout(n),i})}function $se(t){return xL(this,void 0,void 0,function(){var e=this;return _L(this,function(n){return[2,Promise.all(t.map(function(r){return xL(e,void 0,void 0,function(){var i,a;return _L(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,r];case 1:return i=s.sent(),[2,{status:"fulfilled",value:i}];case 2:return a=s.sent(),[2,{status:"rejected",reason:a}];case 3:return[2]}})})}))]})})}function Kse(t){return t.status==="rejected"}function CL(t,e){var n=[];return t.forEach(function(r){n.push.apply(n,Fse([],Bse(e(r)),!1))}),n}function Qse(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var i=Hse(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(!e.has(s))return!1}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}function qse(t,e){for(var n=0,r=t.length-1,i=t.length;r>=n;){var a=n+Math.trunc((r-n)/2);t[a]<e?n=a+1:(i=a,r=a-1)}return i}function eoe(t,e){return t.toLowerCase()===e.toLowerCase()}var Cl;(function(t){t[t.DROP=0]="DROP",t[t.SUM=1]="SUM",t[t.LAST_VALUE=2]="LAST_VALUE",t[t.HISTOGRAM=3]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(Cl||(Cl={}));var toe=function(){function t(){this.kind=Cl.DROP}return t.prototype.createAccumulation=function(){},t.prototype.merge=function(e,n){},t.prototype.diff=function(e,n){},t.prototype.toMetricData=function(e,n,r,i){},t}(),ye;(function(t){t.COUNTER="COUNTER",t.GAUGE="GAUGE",t.HISTOGRAM="HISTOGRAM",t.UP_DOWN_COUNTER="UP_DOWN_COUNTER",t.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",t.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",t.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(ye||(ye={}));function Ka(t,e,n){var r,i,a,s;return aoe(t)||q.warn('Invalid metric name: "'+t+'". The metric name should be a ASCII string with a length no greater than 255 characters.'),{name:t,type:e,description:(r=n==null?void 0:n.description)!==null&&r!==void 0?r:"",unit:(i=n==null?void 0:n.unit)!==null&&i!==void 0?i:"",valueType:(a=n==null?void 0:n.valueType)!==null&&a!==void 0?a:ro.DOUBLE,advice:(s=n==null?void 0:n.advice)!==null&&s!==void 0?s:{}}}function noe(t,e){var n,r;return{name:(n=t.name)!==null&&n!==void 0?n:e.name,description:(r=t.description)!==null&&r!==void 0?r:e.description,type:e.type,unit:e.unit,valueType:e.valueType,advice:e.advice}}function roe(t,e){return eoe(t.name,e.name)&&t.unit===e.unit&&t.type===e.type&&t.valueType===e.valueType}var ioe=/^[a-z][a-z0-9_.\-/]{0,254}$/i;function aoe(t){return t.match(ioe)!=null}var soe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a};function ooe(t){var e=t.map(function(){return 0});return e.push(0),{buckets:{boundaries:t,counts:e},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var yw=function(){function t(e,n,r,i){r===void 0&&(r=!0),i===void 0&&(i=ooe(n)),this.startTime=e,this._boundaries=n,this._recordMinMax=r,this._current=i}return t.prototype.record=function(e){if(!Number.isNaN(e)){this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);var n=qse(this._boundaries,e);this._current.buckets.counts[n]+=1}},t.prototype.setStartTime=function(e){this.startTime=e},t.prototype.toPointValue=function(){return this._current},t}(),zW=function(){function t(e,n){this._boundaries=e,this._recordMinMax=n,this.kind=Cl.HISTOGRAM}return t.prototype.createAccumulation=function(e){return new yw(e,this._boundaries,this._recordMinMax)},t.prototype.merge=function(e,n){for(var r=e.toPointValue(),i=n.toPointValue(),a=r.buckets.counts,s=i.buckets.counts,o=new Array(a.length),l=0;l<a.length;l++)o[l]=a[l]+s[l];var u=1/0,c=-1/0;return this._recordMinMax&&(r.hasMinMax&&i.hasMinMax?(u=Math.min(r.min,i.min),c=Math.max(r.max,i.max)):r.hasMinMax?(u=r.min,c=r.max):i.hasMinMax&&(u=i.min,c=i.max)),new yw(e.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:o},count:r.count+i.count,sum:r.sum+i.sum,hasMinMax:this._recordMinMax&&(r.hasMinMax||i.hasMinMax),min:u,max:c})},t.prototype.diff=function(e,n){for(var r=e.toPointValue(),i=n.toPointValue(),a=r.buckets.counts,s=i.buckets.counts,o=new Array(a.length),l=0;l<a.length;l++)o[l]=s[l]-a[l];return new yw(n.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:o},count:i.count-r.count,sum:i.sum-r.sum,hasMinMax:!1,min:1/0,max:-1/0})},t.prototype.toMetricData=function(e,n,r,i){return{descriptor:e,aggregationTemporality:n,dataPointType:Xi.HISTOGRAM,dataPoints:r.map(function(a){var s=soe(a,2),o=s[0],l=s[1],u=l.toPointValue(),c=e.type===ye.GAUGE||e.type===ye.UP_DOWN_COUNTER||e.type===ye.OBSERVABLE_GAUGE||e.type===ye.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:o,startTime:l.startTime,endTime:i,value:{min:u.hasMinMax?u.min:void 0,max:u.hasMinMax?u.max:void 0,sum:c?void 0:u.sum,buckets:u.buckets,count:u.count}}})}},t}(),vw=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},bw=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},kL=function(){function t(e,n,r,i){e===void 0&&(e=new loe),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.backing=e,this.indexBase=n,this.indexStart=r,this.indexEnd=i}return Object.defineProperty(t.prototype,"offset",{get:function(){return this.indexStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1},enumerable:!1,configurable:!0}),t.prototype.counts=function(){var e=this;return Array.from({length:this.length},function(n,r){return e.at(r)})},t.prototype.at=function(e){var n=this.indexBase-this.indexStart;return e<n&&(e+=this.backing.length),e-=n,this.backing.countAt(e)},t.prototype.incrementBucket=function(e,n){this.backing.increment(e,n)},t.prototype.decrementBucket=function(e,n){this.backing.decrement(e,n)},t.prototype.trim=function(){for(var e=0;e<this.length;e++)if(this.at(e)!==0){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(var e=this.length-1;e>=0;e--)if(this.at(e)!==0){this.indexEnd-=this.length-e-1;break}this._rotate()},t.prototype.downscale=function(e){this._rotate();for(var n=1+this.indexEnd-this.indexStart,r=1<<e,i=0,a=0,s=this.indexStart;s<=this.indexEnd;){var o=s%r;o<0&&(o+=r);for(var l=o;l<r&&i<n;l++)this._relocateBucket(a,i),i++,s++;a++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart},t.prototype.clone=function(){return new t(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)},t.prototype._rotate=function(){var e=this.indexBase-this.indexStart;e!==0&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)},t.prototype._relocateBucket=function(e,n){e!==n&&this.incrementBucket(e,this.backing.emptyBucket(n))},t}(),loe=function(){function t(e){e===void 0&&(e=[0]),this._counts=e}return Object.defineProperty(t.prototype,"length",{get:function(){return this._counts.length},enumerable:!1,configurable:!0}),t.prototype.countAt=function(e){return this._counts[e]},t.prototype.growTo=function(e,n,r){var i=new Array(e).fill(0);i.splice.apply(i,bw([r,this._counts.length-n],vw(this._counts.slice(n)),!1)),i.splice.apply(i,bw([0,n],vw(this._counts.slice(0,n)),!1)),this._counts=i},t.prototype.reverse=function(e,n){for(var r=Math.floor((e+n)/2)-e,i=0;i<r;i++){var a=this._counts[e+i];this._counts[e+i]=this._counts[n-i-1],this._counts[n-i-1]=a}},t.prototype.emptyBucket=function(e){var n=this._counts[e];return this._counts[e]=0,n},t.prototype.increment=function(e,n){this._counts[e]+=n},t.prototype.decrement=function(e,n){this._counts[e]>=n?this._counts[e]-=n:this._counts[e]=0},t.prototype.clone=function(){return new t(bw([],vw(this._counts),!1))},t}(),uoe=52,coe=2146435072,doe=1048575,Gk=1023,DW=-Gk+1,jW=Gk,p_=Math.pow(2,-1022);function BW(t){var e=new DataView(new ArrayBuffer(8));e.setFloat64(0,t);var n=e.getUint32(0),r=(n&coe)>>20;return r-Gk}function FW(t){var e=new DataView(new ArrayBuffer(8));e.setFloat64(0,t);var n=e.getUint32(0),r=e.getUint32(4),i=(n&doe)*Math.pow(2,32);return i+r}function m_(t,e){return t===0||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY||Number.isNaN(t)?t:t*Math.pow(2,e)}function hoe(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}var foe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qf=function(t){foe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Error),poe=function(){function t(e){this._shift=-e}return t.prototype.mapToIndex=function(e){if(e<p_)return this._minNormalLowerBoundaryIndex();var n=BW(e),r=this._rightShift(FW(e)-1,uoe);return n+r>>this._shift},t.prototype.lowerBoundary=function(e){var n=this._minNormalLowerBoundaryIndex();if(e<n)throw new Qf("underflow: "+e+" is < minimum lower boundary: "+n);var r=this._maxNormalLowerBoundaryIndex();if(e>r)throw new Qf("overflow: "+e+" is > maximum lower boundary: "+r);return m_(1,e<<this._shift)},Object.defineProperty(t.prototype,"scale",{get:function(){return this._shift===0?0:-this._shift},enumerable:!1,configurable:!0}),t.prototype._minNormalLowerBoundaryIndex=function(){var e=DW>>this._shift;return this._shift<2&&e--,e},t.prototype._maxNormalLowerBoundaryIndex=function(){return jW>>this._shift},t.prototype._rightShift=function(e,n){return Math.floor(e*Math.pow(2,-n))},t}(),moe=function(){function t(e){this._scale=e,this._scaleFactor=m_(Math.LOG2E,e),this._inverseFactor=m_(Math.LN2,-e)}return t.prototype.mapToIndex=function(e){if(e<=p_)return this._minNormalLowerBoundaryIndex()-1;if(FW(e)===0){var n=BW(e);return(n<<this._scale)-1}var r=Math.floor(Math.log(e)*this._scaleFactor),i=this._maxNormalLowerBoundaryIndex();return r>=i?i:r},t.prototype.lowerBoundary=function(e){var n=this._maxNormalLowerBoundaryIndex();if(e>=n){if(e===n)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new Qf("overflow: "+e+" is > maximum lower boundary: "+n)}var r=this._minNormalLowerBoundaryIndex();if(e<=r){if(e===r)return p_;if(e===r-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new Qf("overflow: "+e+" is < minimum lower boundary: "+r)}return Math.exp(e*this._inverseFactor)},Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),t.prototype._minNormalLowerBoundaryIndex=function(){return DW<<this._scale},t.prototype._maxNormalLowerBoundaryIndex=function(){return(jW+1<<this._scale)-1},t}(),TL=-10,RL=20,goe=Array.from({length:31},function(t,e){return e>10?new moe(e-10):new poe(e-10)});function NL(t){if(t>RL||t<TL)throw new Qf("expected scale >= "+TL+" && <= "+RL+", got: "+t);return goe[t+10]}var yoe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},rg=function(){function t(e,n){this.low=e,this.high=n}return t.combine=function(e,n){return new t(Math.min(e.low,n.low),Math.max(e.high,n.high))},t}(),voe=20,boe=160,ww=2,woe=function(){function t(e,n,r,i,a,s,o,l,u,c,d){e===void 0&&(e=e),n===void 0&&(n=boe),r===void 0&&(r=!0),i===void 0&&(i=0),a===void 0&&(a=0),s===void 0&&(s=0),o===void 0&&(o=Number.POSITIVE_INFINITY),l===void 0&&(l=Number.NEGATIVE_INFINITY),u===void 0&&(u=new kL),c===void 0&&(c=new kL),d===void 0&&(d=NL(voe)),this.startTime=e,this._maxSize=n,this._recordMinMax=r,this._sum=i,this._count=a,this._zeroCount=s,this._min=o,this._max=l,this._positive=u,this._negative=c,this._mapping=d,this._maxSize<ww&&(q.warn("Exponential Histogram Max Size set to "+this._maxSize+",                 changing to the minimum size of: "+ww),this._maxSize=ww)}return t.prototype.record=function(e){this.updateByIncrement(e,1)},t.prototype.setStartTime=function(e){this.startTime=e},t.prototype.toPointValue=function(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}},Object.defineProperty(t.prototype,"sum",{get:function(){return this._sum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zeroCount",{get:function(){return this._zeroCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._count===this._zeroCount?0:this._mapping.scale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positive",{get:function(){return this._positive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"negative",{get:function(){return this._negative},enumerable:!1,configurable:!0}),t.prototype.updateByIncrement=function(e,n){if(!Number.isNaN(e)){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=n,e===0){this._zeroCount+=n;return}this._sum+=e*n,e>0?this._updateBuckets(this._positive,e,n):this._updateBuckets(this._negative,-e,n)}},t.prototype.merge=function(e){this._count===0?(this._min=e.min,this._max=e.max):e.count!==0&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;var n=this._minScale(e);this._downscale(this.scale-n),this._mergeBuckets(this.positive,e,e.positive,n),this._mergeBuckets(this.negative,e,e.negative,n)},t.prototype.diff=function(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;var n=this._minScale(e);this._downscale(this.scale-n),this._diffBuckets(this.positive,e,e.positive,n),this._diffBuckets(this.negative,e,e.negative,n)},t.prototype.clone=function(){return new t(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)},t.prototype._updateBuckets=function(e,n,r){var i=this._mapping.mapToIndex(n),a=!1,s=0,o=0;if(e.length===0?(e.indexStart=i,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):i<e.indexStart&&e.indexEnd-i>=this._maxSize?(a=!0,o=i,s=e.indexEnd):i>e.indexEnd&&i-e.indexStart>=this._maxSize&&(a=!0,o=e.indexStart,s=i),a){var l=this._changeScale(s,o);this._downscale(l),i=this._mapping.mapToIndex(n)}this._incrementIndexBy(e,i,r)},t.prototype._incrementIndexBy=function(e,n,r){if(r!==0){if(e.length===0&&(e.indexStart=e.indexEnd=e.indexBase=n),n<e.indexStart){var i=e.indexEnd-n;i>=e.backing.length&&this._grow(e,i+1),e.indexStart=n}else if(n>e.indexEnd){var i=n-e.indexStart;i>=e.backing.length&&this._grow(e,i+1),e.indexEnd=n}var a=n-e.indexBase;a<0&&(a+=e.backing.length),e.incrementBucket(a,r)}},t.prototype._grow=function(e,n){var r=e.backing.length,i=e.indexBase-e.indexStart,a=r-i,s=hoe(n);s>this._maxSize&&(s=this._maxSize);var o=s-i;e.backing.growTo(s,a,o)},t.prototype._changeScale=function(e,n){for(var r=0;e-n>=this._maxSize;)e>>=1,n>>=1,r++;return r},t.prototype._downscale=function(e){if(e!==0){if(e<0)throw new Error("impossible change of scale: "+this.scale);var n=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=NL(n)}},t.prototype._minScale=function(e){var n=Math.min(this.scale,e.scale),r=rg.combine(this._highLowAtScale(this.positive,this.scale,n),this._highLowAtScale(e.positive,e.scale,n)),i=rg.combine(this._highLowAtScale(this.negative,this.scale,n),this._highLowAtScale(e.negative,e.scale,n));return Math.min(n-this._changeScale(r.high,r.low),n-this._changeScale(i.high,i.low))},t.prototype._highLowAtScale=function(e,n,r){if(e.length===0)return new rg(0,-1);var i=n-r;return new rg(e.indexStart>>i,e.indexEnd>>i)},t.prototype._mergeBuckets=function(e,n,r,i){for(var a=r.offset,s=n.scale-i,o=0;o<r.length;o++)this._incrementIndexBy(e,a+o>>s,r.at(o))},t.prototype._diffBuckets=function(e,n,r,i){for(var a=r.offset,s=n.scale-i,o=0;o<r.length;o++){var l=a+o>>s,u=l-e.indexBase;u<0&&(u+=e.backing.length),e.decrementBucket(u,r.at(o))}e.trim()},t}(),Soe=function(){function t(e,n){this._maxSize=e,this._recordMinMax=n,this.kind=Cl.EXPONENTIAL_HISTOGRAM}return t.prototype.createAccumulation=function(e){return new woe(e,this._maxSize,this._recordMinMax)},t.prototype.merge=function(e,n){var r=n.clone();return r.merge(e),r},t.prototype.diff=function(e,n){var r=n.clone();return r.diff(e),r},t.prototype.toMetricData=function(e,n,r,i){return{descriptor:e,aggregationTemporality:n,dataPointType:Xi.EXPONENTIAL_HISTOGRAM,dataPoints:r.map(function(a){var s=yoe(a,2),o=s[0],l=s[1],u=l.toPointValue(),c=e.type===ye.GAUGE||e.type===ye.UP_DOWN_COUNTER||e.type===ye.OBSERVABLE_GAUGE||e.type===ye.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:o,startTime:l.startTime,endTime:i,value:{min:u.hasMinMax?u.min:void 0,max:u.hasMinMax?u.max:void 0,sum:c?void 0:u.sum,positive:{offset:u.positive.offset,bucketCounts:u.positive.bucketCounts},negative:{offset:u.negative.offset,bucketCounts:u.negative.bucketCounts},count:u.count,scale:u.scale,zeroCount:u.zeroCount}}})}},t}(),Eoe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Sw=function(){function t(e,n,r){n===void 0&&(n=0),r===void 0&&(r=[0,0]),this.startTime=e,this._current=n,this.sampleTime=r}return t.prototype.record=function(e){this._current=e,this.sampleTime=Ur(Date.now())},t.prototype.setStartTime=function(e){this.startTime=e},t.prototype.toPointValue=function(){return this._current},t}(),xoe=function(){function t(){this.kind=Cl.LAST_VALUE}return t.prototype.createAccumulation=function(e){return new Sw(e)},t.prototype.merge=function(e,n){var r=qm(n.sampleTime)>=qm(e.sampleTime)?n:e;return new Sw(e.startTime,r.toPointValue(),r.sampleTime)},t.prototype.diff=function(e,n){var r=qm(n.sampleTime)>=qm(e.sampleTime)?n:e;return new Sw(n.startTime,r.toPointValue(),r.sampleTime)},t.prototype.toMetricData=function(e,n,r,i){return{descriptor:e,aggregationTemporality:n,dataPointType:Xi.GAUGE,dataPoints:r.map(function(a){var s=Eoe(a,2),o=s[0],l=s[1];return{attributes:o,startTime:l.startTime,endTime:i,value:l.toPointValue()}})}},t}(),_oe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Jd=function(){function t(e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1),this.startTime=e,this.monotonic=n,this._current=r,this.reset=i}return t.prototype.record=function(e){this.monotonic&&e<0||(this._current+=e)},t.prototype.setStartTime=function(e){this.startTime=e},t.prototype.toPointValue=function(){return this._current},t}(),OL=function(){function t(e){this.monotonic=e,this.kind=Cl.SUM}return t.prototype.createAccumulation=function(e){return new Jd(e,this.monotonic)},t.prototype.merge=function(e,n){var r=e.toPointValue(),i=n.toPointValue();return n.reset?new Jd(n.startTime,this.monotonic,i,n.reset):new Jd(e.startTime,this.monotonic,r+i)},t.prototype.diff=function(e,n){var r=e.toPointValue(),i=n.toPointValue();return this.monotonic&&r>i?new Jd(n.startTime,this.monotonic,i,!0):new Jd(n.startTime,this.monotonic,i-r)},t.prototype.toMetricData=function(e,n,r,i){return{descriptor:e,aggregationTemporality:n,dataPointType:Xi.SUM,dataPoints:r.map(function(a){var s=_oe(a,2),o=s[0],l=s[1];return{attributes:o,startTime:l.startTime,endTime:i,value:l.toPointValue()}}),isMonotonic:this.monotonic}},t}(),Dl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),za=function(){function t(){}return t.Drop=function(){return HW},t.Sum=function(){return YW},t.LastValue=function(){return JW},t.Histogram=function(){return $W},t.ExponentialHistogram=function(){return Loe},t.Default=function(){return Zoe},t}(),Coe=function(t){Dl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createAggregator=function(n){return e.DEFAULT_INSTANCE},e.DEFAULT_INSTANCE=new toe,e}(za),koe=function(t){Dl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createAggregator=function(n){switch(n.type){case ye.COUNTER:case ye.OBSERVABLE_COUNTER:case ye.HISTOGRAM:return e.MONOTONIC_INSTANCE;default:return e.NON_MONOTONIC_INSTANCE}},e.MONOTONIC_INSTANCE=new OL(!0),e.NON_MONOTONIC_INSTANCE=new OL(!1),e}(za),Toe=function(t){Dl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createAggregator=function(n){return e.DEFAULT_INSTANCE},e.DEFAULT_INSTANCE=new xoe,e}(za),Roe=function(t){Dl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createAggregator=function(n){return e.DEFAULT_INSTANCE},e.DEFAULT_INSTANCE=new zW([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0),e}(za),Noe=function(t){Dl(e,t);function e(n,r){r===void 0&&(r=!0);var i=t.call(this)||this;if(i._recordMinMax=r,n==null)throw new Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");n=n.concat(),n=n.sort(function(o,l){return o-l});var a=n.lastIndexOf(-1/0),s=n.indexOf(1/0);return s===-1&&(s=void 0),i._boundaries=n.slice(a+1,s),i}return e.prototype.createAggregator=function(n){return new zW(this._boundaries,this._recordMinMax)},e}(za),Ooe=function(t){Dl(e,t);function e(n,r){n===void 0&&(n=160),r===void 0&&(r=!0);var i=t.call(this)||this;return i._maxSize=n,i._recordMinMax=r,i}return e.prototype.createAggregator=function(n){return new Soe(this._maxSize,this._recordMinMax)},e}(za),Ioe=function(t){Dl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._resolve=function(n){switch(n.type){case ye.COUNTER:case ye.UP_DOWN_COUNTER:case ye.OBSERVABLE_COUNTER:case ye.OBSERVABLE_UP_DOWN_COUNTER:return YW;case ye.GAUGE:case ye.OBSERVABLE_GAUGE:return JW;case ye.HISTOGRAM:return n.advice.explicitBucketBoundaries?new Noe(n.advice.explicitBucketBoundaries):$W}return q.warn("Unable to recognize instrument type: "+n.type),HW},e.prototype.createAggregator=function(n){return this._resolve(n).createAggregator(n)},e}(za),HW=new Coe,YW=new koe,JW=new Toe,$W=new Roe,Loe=new Ooe,Zoe=new Ioe,Voe=function(t){return za.Default()},Goe=function(t){return gi.CUMULATIVE},Ew=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},xw=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},IL=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Aoe=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Moe=function(){function t(e){var n,r,i;this._shutdown=!1,this._aggregationSelector=(n=e==null?void 0:e.aggregationSelector)!==null&&n!==void 0?n:Voe,this._aggregationTemporalitySelector=(r=e==null?void 0:e.aggregationTemporalitySelector)!==null&&r!==void 0?r:Goe,this._metricProducers=(i=e==null?void 0:e.metricProducers)!==null&&i!==void 0?i:[],this._cardinalitySelector=e==null?void 0:e.cardinalitySelector}return t.prototype.setMetricProducer=function(e){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized()},t.prototype.selectAggregation=function(e){return this._aggregationSelector(e)},t.prototype.selectAggregationTemporality=function(e){return this._aggregationTemporalitySelector(e)},t.prototype.selectCardinalityLimit=function(e){return this._cardinalitySelector?this._cardinalitySelector(e):2e3},t.prototype.onInitialized=function(){},t.prototype.collect=function(e){return Ew(this,void 0,void 0,function(){var n,r,i,a,s,o;return xw(this,function(l){switch(l.label){case 0:if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return[4,Promise.all(Aoe([this._sdkMetricProducer.collect({timeoutMillis:e==null?void 0:e.timeoutMillis})],IL(this._metricProducers.map(function(u){return u.collect({timeoutMillis:e==null?void 0:e.timeoutMillis})})),!1))];case 1:return n=IL.apply(void 0,[l.sent()]),r=n[0],i=n.slice(1),a=r.errors.concat(CL(i,function(u){return u.errors})),s=r.resourceMetrics.resource,o=r.resourceMetrics.scopeMetrics.concat(CL(i,function(u){return u.resourceMetrics.scopeMetrics})),[2,{resourceMetrics:{resource:s,scopeMetrics:o},errors:a}]}})})},t.prototype.shutdown=function(e){return Ew(this,void 0,void 0,function(){return xw(this,function(n){switch(n.label){case 0:return this._shutdown?(q.error("Cannot call shutdown twice."),[2]):(e==null?void 0:e.timeoutMillis)!=null?[3,2]:[4,this.onShutdown()];case 1:return n.sent(),[3,4];case 2:return[4,Kf(this.onShutdown(),e.timeoutMillis)];case 3:n.sent(),n.label=4;case 4:return this._shutdown=!0,[2]}})})},t.prototype.forceFlush=function(e){return Ew(this,void 0,void 0,function(){return xw(this,function(n){switch(n.label){case 0:return this._shutdown?(q.warn("Cannot forceFlush on already shutdown MetricReader."),[2]):(e==null?void 0:e.timeoutMillis)!=null?[3,2]:[4,this.onForceFlush()];case 1:return n.sent(),[2];case 2:return[4,Kf(this.onForceFlush(),e.timeoutMillis)];case 3:return n.sent(),[2]}})})},t}(),Xoe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ig=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},ag=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Uoe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Woe=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Poe=function(t){Xoe(e,t);function e(n){var r,i,a,s,o=t.call(this,{aggregationSelector:(r=n.exporter.selectAggregation)===null||r===void 0?void 0:r.bind(n.exporter),aggregationTemporalitySelector:(i=n.exporter.selectAggregationTemporality)===null||i===void 0?void 0:i.bind(n.exporter),metricProducers:n.metricProducers})||this;if(n.exportIntervalMillis!==void 0&&n.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(n.exportTimeoutMillis!==void 0&&n.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(n.exportTimeoutMillis!==void 0&&n.exportIntervalMillis!==void 0&&n.exportIntervalMillis<n.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");return o._exportInterval=(a=n.exportIntervalMillis)!==null&&a!==void 0?a:6e4,o._exportTimeout=(s=n.exportTimeoutMillis)!==null&&s!==void 0?s:3e4,o._exporter=n.exporter,o}return e.prototype._runOnce=function(){return ig(this,void 0,void 0,function(){var n;return ag(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Kf(this._doRun(),this._exportTimeout)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),n instanceof PW?(q.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout),[2]):(io(n),[3,3]);case 3:return[2]}})})},e.prototype._doRun=function(){var n,r;return ig(this,void 0,void 0,function(){var i,a,s,o,l,u;return ag(this,function(c){switch(c.label){case 0:return[4,this.collect({timeoutMillis:this._exportTimeout})];case 1:if(i=c.sent(),a=i.resourceMetrics,s=i.errors,s.length>0&&(u=q).error.apply(u,Woe(["PeriodicExportingMetricReader: metrics collection errors"],Uoe(s),!1)),!a.resource.asyncAttributesPending)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,(r=(n=a.resource).waitForAsyncAttributes)===null||r===void 0?void 0:r.call(n)];case 3:return c.sent(),[3,5];case 4:return o=c.sent(),q.debug("Error while resolving async portion of resource: ",o),io(o),[3,5];case 5:return a.scopeMetrics.length===0?[2]:[4,Pre._export(this._exporter,a)];case 6:if(l=c.sent(),l.code!==nn.SUCCESS)throw new Error("PeriodicExportingMetricReader: metrics export failed (error "+l.error+")");return[2]}})})},e.prototype.onInitialized=function(){var n=this;this._interval=setInterval(function(){n._runOnce()},this._exportInterval)},e.prototype.onForceFlush=function(){return ig(this,void 0,void 0,function(){return ag(this,function(n){switch(n.label){case 0:return[4,this._runOnce()];case 1:return n.sent(),[4,this._exporter.forceFlush()];case 2:return n.sent(),[2]}})})},e.prototype.onShutdown=function(){return ig(this,void 0,void 0,function(){return ag(this,function(n){switch(n.label){case 0:return this._interval&&clearInterval(this._interval),[4,this.onForceFlush()];case 1:return n.sent(),[4,this._exporter.shutdown()];case 2:return n.sent(),[2]}})})},e}(Moe),zoe=function(){function t(){this._registeredViews=[]}return t.prototype.addView=function(e){this._registeredViews.push(e)},t.prototype.findViews=function(e,n){var r=this,i=this._registeredViews.filter(function(a){return r._matchInstrument(a.instrumentSelector,e)&&r._matchMeter(a.meterSelector,n)});return i},t.prototype._matchInstrument=function(e,n){return(e.getType()===void 0||n.type===e.getType())&&e.getNameFilter().match(n.name)&&e.getUnitFilter().match(n.unit)},t.prototype._matchMeter=function(e,n){return e.getNameFilter().match(n.name)&&(n.version===void 0||e.getVersionFilter().match(n.version))&&(n.schemaUrl===void 0||e.getSchemaUrlFilter().match(n.schemaUrl))},t}(),jl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),db=function(){function t(e,n){this._writableMetricStorage=e,this._descriptor=n}return t.prototype._record=function(e,n,r){if(n===void 0&&(n={}),r===void 0&&(r=Ie.active()),typeof e!="number"){q.warn("non-number value provided to metric "+this._descriptor.name+": "+e);return}this._descriptor.valueType===ro.INT&&!Number.isInteger(e)&&(q.warn("INT value type cannot accept a floating-point value for "+this._descriptor.name+", ignoring the fractional digits."),e=Math.trunc(e),!Number.isInteger(e))||this._writableMetricStorage.record(e,n,r,Ur(Date.now()))},t}(),Doe=function(t){jl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(n,r,i){this._record(n,r,i)},e}(db),joe=function(t){jl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(n,r,i){if(n<0){q.warn("negative value provided to counter "+this._descriptor.name+": "+n);return}this._record(n,r,i)},e}(db),Boe=function(t){jl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(n,r,i){this._record(n,r,i)},e}(db),Foe=function(t){jl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(n,r,i){if(n<0){q.warn("negative value provided to histogram "+this._descriptor.name+": "+n);return}this._record(n,r,i)},e}(db),hb=function(){function t(e,n,r){this._observableRegistry=r,this._descriptor=e,this._metricStorages=n}return t.prototype.addCallback=function(e){this._observableRegistry.addCallback(e,this)},t.prototype.removeCallback=function(e){this._observableRegistry.removeCallback(e,this)},t}(),Hoe=function(t){jl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(hb),Yoe=function(t){jl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(hb),Joe=function(t){jl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(hb);function g_(t){return t instanceof hb}var $oe=function(){function t(e){this._meterSharedState=e}return t.prototype.createGauge=function(e,n){var r=Ka(e,ye.GAUGE,n),i=this._meterSharedState.registerMetricStorage(r);return new Boe(i,r)},t.prototype.createHistogram=function(e,n){var r=Ka(e,ye.HISTOGRAM,n),i=this._meterSharedState.registerMetricStorage(r);return new Foe(i,r)},t.prototype.createCounter=function(e,n){var r=Ka(e,ye.COUNTER,n),i=this._meterSharedState.registerMetricStorage(r);return new joe(i,r)},t.prototype.createUpDownCounter=function(e,n){var r=Ka(e,ye.UP_DOWN_COUNTER,n),i=this._meterSharedState.registerMetricStorage(r);return new Doe(i,r)},t.prototype.createObservableGauge=function(e,n){var r=Ka(e,ye.OBSERVABLE_GAUGE,n),i=this._meterSharedState.registerAsyncMetricStorage(r);return new Yoe(r,i,this._meterSharedState.observableRegistry)},t.prototype.createObservableCounter=function(e,n){var r=Ka(e,ye.OBSERVABLE_COUNTER,n),i=this._meterSharedState.registerAsyncMetricStorage(r);return new Hoe(r,i,this._meterSharedState.observableRegistry)},t.prototype.createObservableUpDownCounter=function(e,n){var r=Ka(e,ye.OBSERVABLE_UP_DOWN_COUNTER,n),i=this._meterSharedState.registerAsyncMetricStorage(r);return new Joe(r,i,this._meterSharedState.observableRegistry)},t.prototype.addBatchObservableCallback=function(e,n){this._meterSharedState.observableRegistry.addBatchCallback(e,n)},t.prototype.removeBatchObservableCallback=function(e,n){this._meterSharedState.observableRegistry.removeBatchCallback(e,n)},t}(),KW=function(){function t(e){this._instrumentDescriptor=e}return t.prototype.getInstrumentDescriptor=function(){return this._instrumentDescriptor},t.prototype.updateDescription=function(e){this._instrumentDescriptor=Ka(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})},t}(),Koe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),LL=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Qoe=function(){function t(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}return t.prototype.get=function(e,n){return n!=null||(n=this._hash(e)),this._valueMap.get(n)},t.prototype.getOrDefault=function(e,n){var r=this._hash(e);if(this._valueMap.has(r))return this._valueMap.get(r);var i=n();return this._keyMap.has(r)||this._keyMap.set(r,e),this._valueMap.set(r,i),i},t.prototype.set=function(e,n,r){r!=null||(r=this._hash(e)),this._keyMap.has(r)||this._keyMap.set(r,e),this._valueMap.set(r,n)},t.prototype.has=function(e,n){return n!=null||(n=this._hash(e)),this._valueMap.has(n)},t.prototype.keys=function(){var e,n;return LL(this,function(r){switch(r.label){case 0:e=this._keyMap.entries(),n=e.next(),r.label=1;case 1:return n.done===!0?[3,3]:[4,[n.value[1],n.value[0]]];case 2:return r.sent(),n=e.next(),[3,1];case 3:return[2]}})},t.prototype.entries=function(){var e,n;return LL(this,function(r){switch(r.label){case 0:e=this._valueMap.entries(),n=e.next(),r.label=1;case 1:return n.done===!0?[3,3]:[4,[this._keyMap.get(n.value[0]),n.value[1],n.value[0]]];case 2:return r.sent(),n=e.next(),[3,1];case 3:return[2]}})},Object.defineProperty(t.prototype,"size",{get:function(){return this._valueMap.size},enumerable:!1,configurable:!0}),t}(),ol=function(t){Koe(e,t);function e(){return t.call(this,WW)||this}return e}(Qoe),qoe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},QW=function(){function t(e,n){this._aggregator=e,this._activeCollectionStorage=new ol,this._cumulativeMemoStorage=new ol,this._overflowAttributes={"otel.metric.overflow":!0},this._cardinalityLimit=(n??2e3)-1,this._overflowHashCode=WW(this._overflowAttributes)}return t.prototype.record=function(e,n,r,i){var a=this,s=this._activeCollectionStorage.get(n);if(!s){if(this._activeCollectionStorage.size>=this._cardinalityLimit){var o=this._activeCollectionStorage.getOrDefault(this._overflowAttributes,function(){return a._aggregator.createAccumulation(i)});o==null||o.record(e);return}s=this._aggregator.createAccumulation(i),this._activeCollectionStorage.set(n,s)}s==null||s.record(e)},t.prototype.batchCumulate=function(e,n){var r=this;Array.from(e.entries()).forEach(function(i){var a=qoe(i,3),s=a[0],o=a[1],l=a[2],u=r._aggregator.createAccumulation(n);u==null||u.record(o);var c=u;if(r._cumulativeMemoStorage.has(s,l)){var d=r._cumulativeMemoStorage.get(s,l);c=r._aggregator.diff(d,u)}else if(r._cumulativeMemoStorage.size>=r._cardinalityLimit&&(s=r._overflowAttributes,l=r._overflowHashCode,r._cumulativeMemoStorage.has(s,l))){var d=r._cumulativeMemoStorage.get(s,l);c=r._aggregator.diff(d,u)}if(r._activeCollectionStorage.has(s,l)){var f=r._activeCollectionStorage.get(s,l);c=r._aggregator.merge(f,c)}r._cumulativeMemoStorage.set(s,u,l),r._activeCollectionStorage.set(s,c,l)})},t.prototype.collect=function(){var e=this._activeCollectionStorage;return this._activeCollectionStorage=new ol,e},t}(),_w=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZL=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},qW=function(){function t(e,n){var r=this;this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map,n.forEach(function(i){r._unreportedAccumulations.set(i,[])})}return t.prototype.buildMetrics=function(e,n,r,i){this._stashAccumulations(r);var a=this._getMergedUnreportedAccumulations(e),s=a,o;if(this._reportHistory.has(e)){var l=this._reportHistory.get(e),u=l.collectionTime;o=l.aggregationTemporality,o===gi.CUMULATIVE?s=t.merge(l.accumulations,a,this._aggregator):s=t.calibrateStartTime(l.accumulations,a,u)}else o=e.selectAggregationTemporality(n.type);this._reportHistory.set(e,{accumulations:s,collectionTime:i,aggregationTemporality:o});var c=ele(s);if(c.length!==0)return this._aggregator.toMetricData(n,o,c,i)},t.prototype._stashAccumulations=function(e){var n,r,i=this._unreportedAccumulations.keys();try{for(var a=_w(i),s=a.next();!s.done;s=a.next()){var o=s.value,l=this._unreportedAccumulations.get(o);l===void 0&&(l=[],this._unreportedAccumulations.set(o,l)),l.push(e)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t.prototype._getMergedUnreportedAccumulations=function(e){var n,r,i=new ol,a=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),a===void 0)return i;try{for(var s=_w(a),o=s.next();!o.done;o=s.next()){var l=o.value;i=t.merge(i,l,this._aggregator)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},t.merge=function(e,n,r){for(var i=e,a=n.entries(),s=a.next();s.done!==!0;){var o=ZL(s.value,3),l=o[0],u=o[1],c=o[2];if(e.has(l,c)){var d=e.get(l,c),f=r.merge(d,u);i.set(l,f,c)}else i.set(l,u,c);s=a.next()}return i},t.calibrateStartTime=function(e,n,r){var i,a;try{for(var s=_w(e.keys()),o=s.next();!o.done;o=s.next()){var l=ZL(o.value,2),u=l[0],c=l[1],d=n.get(u,c);d==null||d.setStartTime(r)}}catch(f){i={error:f}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return n},t}();function ele(t){return Array.from(t.entries())}var tle=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nle=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},rle=function(t){tle(e,t);function e(n,r,i,a,s){var o=t.call(this,n)||this;return o._attributesProcessor=i,o._aggregationCardinalityLimit=s,o._deltaMetricStorage=new QW(r,o._aggregationCardinalityLimit),o._temporalMetricStorage=new qW(r,a),o}return e.prototype.record=function(n,r){var i=this,a=new ol;Array.from(n.entries()).forEach(function(s){var o=nle(s,2),l=o[0],u=o[1];a.set(i._attributesProcessor.process(l),u)}),this._deltaMetricStorage.batchCumulate(a,r)},e.prototype.collect=function(n,r){var i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(n,this._instrumentDescriptor,i,r)},e}(KW);function VL(t,e){var n="";return t.unit!==e.unit&&(n+="	- Unit '"+t.unit+"' does not match '"+e.unit+`'
`),t.type!==e.type&&(n+="	- Type '"+t.type+"' does not match '"+e.type+`'
`),t.valueType!==e.valueType&&(n+="	- Value Type '"+t.valueType+"' does not match '"+e.valueType+`'
`),t.description!==e.description&&(n+="	- Description '"+t.description+"' does not match '"+e.description+`'
`),n}function ile(t,e){return"	- use valueType '"+t.valueType+"' on instrument creation or use an instrument name other than '"+e.name+"'"}function ale(t,e){return"	- use unit '"+t.unit+"' on instrument creation or use an instrument name other than '"+e.name+"'"}function sle(t,e){var n={name:e.name,type:e.type,unit:e.unit},r=JSON.stringify(n);return"	- create a new view with a name other than '"+t.name+"' and InstrumentSelector '"+r+"'"}function ole(t,e){var n={name:e.name,type:e.type,unit:e.unit},r=JSON.stringify(n);return"	- create a new view with a name other than '"+t.name+"' and InstrumentSelector '"+r+`'
    	- OR - create a new view with the name `+t.name+" and description '"+t.description+"' and InstrumentSelector "+r+`
    	- OR - create a new view with the name `+e.name+" and description '"+t.description+"' and InstrumentSelector "+r}function GL(t,e){return t.valueType!==e.valueType?ile(t,e):t.unit!==e.unit?ale(t,e):t.type!==e.type?sle(t,e):t.description!==e.description?ole(t,e):""}var Cw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lle=function(){function t(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}return t.create=function(){return new t},t.prototype.getStorages=function(e){var n,r,i,a,s=[];try{for(var o=Cw(this._sharedRegistry.values()),l=o.next();!l.done;l=o.next()){var u=l.value;s=s.concat(u)}}catch(p){n={error:p}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}var c=this._perCollectorRegistry.get(e);if(c!=null)try{for(var d=Cw(c.values()),f=d.next();!f.done;f=d.next()){var u=f.value;s=s.concat(u)}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return s},t.prototype.register=function(e){this._registerStorage(e,this._sharedRegistry)},t.prototype.registerForCollector=function(e,n){var r=this._perCollectorRegistry.get(e);r==null&&(r=new Map,this._perCollectorRegistry.set(e,r)),this._registerStorage(n,r)},t.prototype.findOrUpdateCompatibleStorage=function(e){var n=this._sharedRegistry.get(e.name);return n===void 0?null:this._findOrUpdateCompatibleStorage(e,n)},t.prototype.findOrUpdateCompatibleCollectorStorage=function(e,n){var r=this._perCollectorRegistry.get(e);if(r===void 0)return null;var i=r.get(n.name);return i===void 0?null:this._findOrUpdateCompatibleStorage(n,i)},t.prototype._registerStorage=function(e,n){var r=e.getInstrumentDescriptor(),i=n.get(r.name);if(i===void 0){n.set(r.name,[e]);return}i.push(e)},t.prototype._findOrUpdateCompatibleStorage=function(e,n){var r,i,a=null;try{for(var s=Cw(n),o=s.next();!o.done;o=s.next()){var l=o.value,u=l.getInstrumentDescriptor();roe(u,e)?(u.description!==e.description&&(e.description.length>u.description.length&&l.updateDescription(e.description),q.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,VL(u,e),`The longer description will be used.
To resolve the conflict:`,GL(u,e))),a=l):q.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,VL(u,e),`To resolve the conflict:
`,GL(u,e))}}catch(c){r={error:c}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a},t}(),ule=function(){function t(e){this._backingStorages=e}return t.prototype.record=function(e,n,r,i){this._backingStorages.forEach(function(a){a.record(e,n,r,i)})},t}(),cle=function(){function t(e,n){this._instrumentName=e,this._valueType=n,this._buffer=new ol}return t.prototype.observe=function(e,n){if(n===void 0&&(n={}),typeof e!="number"){q.warn("non-number value provided to metric "+this._instrumentName+": "+e);return}this._valueType===ro.INT&&!Number.isInteger(e)&&(q.warn("INT value type cannot accept a floating-point value for "+this._instrumentName+", ignoring the fractional digits."),e=Math.trunc(e),!Number.isInteger(e))||this._buffer.set(n,e)},t}(),dle=function(){function t(){this._buffer=new Map}return t.prototype.observe=function(e,n,r){if(r===void 0&&(r={}),!!g_(e)){var i=this._buffer.get(e);if(i==null&&(i=new ol,this._buffer.set(e,i)),typeof n!="number"){q.warn("non-number value provided to metric "+e._descriptor.name+": "+n);return}e._descriptor.valueType===ro.INT&&!Number.isInteger(n)&&(q.warn("INT value type cannot accept a floating-point value for "+e._descriptor.name+", ignoring the fractional digits."),n=Math.trunc(n),!Number.isInteger(n))||i.set(r,n)}},t}(),kw=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},Tw=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},AL=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},ML=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},hle=function(){function t(){this._callbacks=[],this._batchCallbacks=[]}return t.prototype.addCallback=function(e,n){var r=this._findCallback(e,n);r>=0||this._callbacks.push({callback:e,instrument:n})},t.prototype.removeCallback=function(e,n){var r=this._findCallback(e,n);r<0||this._callbacks.splice(r,1)},t.prototype.addBatchCallback=function(e,n){var r=new Set(n.filter(g_));if(r.size===0){q.error("BatchObservableCallback is not associated with valid instruments",n);return}var i=this._findBatchCallback(e,r);i>=0||this._batchCallbacks.push({callback:e,instruments:r})},t.prototype.removeBatchCallback=function(e,n){var r=new Set(n.filter(g_)),i=this._findBatchCallback(e,r);i<0||this._batchCallbacks.splice(i,1)},t.prototype.observe=function(e,n){return kw(this,void 0,void 0,function(){var r,i,a,s;return Tw(this,function(o){switch(o.label){case 0:return r=this._observeCallbacks(e,n),i=this._observeBatchCallbacks(e,n),[4,$se(ML(ML([],AL(r),!1),AL(i),!1))];case 1:return a=o.sent(),s=a.filter(Kse).map(function(l){return l.reason}),[2,s]}})})},t.prototype._observeCallbacks=function(e,n){var r=this;return this._callbacks.map(function(i){var a=i.callback,s=i.instrument;return kw(r,void 0,void 0,function(){var o,l;return Tw(this,function(u){switch(u.label){case 0:return o=new cle(s._descriptor.name,s._descriptor.valueType),l=Promise.resolve(a(o)),n!=null&&(l=Kf(l,n)),[4,l];case 1:return u.sent(),s._metricStorages.forEach(function(c){c.record(o._buffer,e)}),[2]}})})})},t.prototype._observeBatchCallbacks=function(e,n){var r=this;return this._batchCallbacks.map(function(i){var a=i.callback,s=i.instruments;return kw(r,void 0,void 0,function(){var o,l;return Tw(this,function(u){switch(u.label){case 0:return o=new dle,l=Promise.resolve(a(o)),n!=null&&(l=Kf(l,n)),[4,l];case 1:return u.sent(),s.forEach(function(c){var d=o._buffer.get(c);d!=null&&c._metricStorages.forEach(function(f){f.record(d,e)})}),[2]}})})})},t.prototype._findCallback=function(e,n){return this._callbacks.findIndex(function(r){return r.callback===e&&r.instrument===n})},t.prototype._findBatchCallback=function(e,n){return this._batchCallbacks.findIndex(function(r){return r.callback===e&&Qse(r.instruments,n)})},t}(),fle=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ple=function(t){fle(e,t);function e(n,r,i,a,s){var o=t.call(this,n)||this;return o._attributesProcessor=i,o._aggregationCardinalityLimit=s,o._deltaMetricStorage=new QW(r,o._aggregationCardinalityLimit),o._temporalMetricStorage=new qW(r,a),o}return e.prototype.record=function(n,r,i,a){r=this._attributesProcessor.process(r,i),this._deltaMetricStorage.record(n,r,i,a)},e.prototype.collect=function(n,r){var i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(n,this._instrumentDescriptor,i,r)},e}(KW),eP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ak=function(){function t(){}return t.Noop=function(){return gle},t}(),mle=function(t){eP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.process=function(n,r){return n},e}(Ak);(function(t){eP(e,t);function e(n){var r=t.call(this)||this;return r._allowedAttributeNames=n,r}return e.prototype.process=function(n,r){var i=this,a={};return Object.keys(n).filter(function(s){return i._allowedAttributeNames.includes(s)}).forEach(function(s){return a[s]=n[s]}),a},e})(Ak);var gle=new mle,yle=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},vle=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ble=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},wle=function(){function t(e,n){this._meterProviderSharedState=e,this._instrumentationScope=n,this.metricStorageRegistry=new lle,this.observableRegistry=new hle,this.meter=new $oe(this)}return t.prototype.registerMetricStorage=function(e){var n=this._registerMetricStorage(e,ple);return n.length===1?n[0]:new ule(n)},t.prototype.registerAsyncMetricStorage=function(e){var n=this._registerMetricStorage(e,rle);return n},t.prototype.collect=function(e,n,r){return yle(this,void 0,void 0,function(){var i,a,s;return vle(this,function(o){switch(o.label){case 0:return[4,this.observableRegistry.observe(n,r==null?void 0:r.timeoutMillis)];case 1:return i=o.sent(),a=this.metricStorageRegistry.getStorages(e),a.length===0?[2,null]:(s=a.map(function(l){return l.collect(e,n)}).filter(Yse),s.length===0?[2,{errors:i}]:[2,{scopeMetrics:{scope:this._instrumentationScope,metrics:s},errors:i}])}})})},t.prototype._registerMetricStorage=function(e,n){var r=this,i=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope),a=i.map(function(l){var u=noe(l,e),c=r.metricStorageRegistry.findOrUpdateCompatibleStorage(u);if(c!=null)return c;var d=l.aggregation.createAggregator(u),f=new n(u,d,l.attributesProcessor,r._meterProviderSharedState.metricCollectors,l.aggregationCardinalityLimit);return r.metricStorageRegistry.register(f),f});if(a.length===0){var s=this._meterProviderSharedState.selectAggregations(e.type),o=s.map(function(l){var u=ble(l,2),c=u[0],d=u[1],f=r.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(c,e);if(f!=null)return f;var p=d.createAggregator(e),v=c.selectCardinalityLimit(e.type),m=new n(e,p,Ak.Noop(),[c],v);return r.metricStorageRegistry.registerForCollector(c,m),m});a=a.concat(o)}return a},t}(),Sle=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ele=function(){function t(e){this.resource=e,this.viewRegistry=new zoe,this.metricCollectors=[],this.meterSharedStates=new Map}return t.prototype.getMeterSharedState=function(e){var n=Jse(e),r=this.meterSharedStates.get(n);return r==null&&(r=new wle(this,e),this.meterSharedStates.set(n,r)),r},t.prototype.selectAggregations=function(e){var n,r,i=[];try{for(var a=Sle(this.metricCollectors),s=a.next();!s.done;s=a.next()){var o=s.value;i.push([o,o.selectAggregation(e)])}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t}(),sg=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},og=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},xle=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},_le=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Cle=function(){function t(e,n){this._sharedState=e,this._metricReader=n}return t.prototype.collect=function(e){return sg(this,void 0,void 0,function(){var n,r,i,a,s=this;return og(this,function(o){switch(o.label){case 0:return n=Ur(Date.now()),r=[],i=[],a=Array.from(this._sharedState.meterSharedStates.values()).map(function(l){return sg(s,void 0,void 0,function(){var u;return og(this,function(c){switch(c.label){case 0:return[4,l.collect(this,n,e)];case 1:return u=c.sent(),(u==null?void 0:u.scopeMetrics)!=null&&r.push(u.scopeMetrics),(u==null?void 0:u.errors)!=null&&i.push.apply(i,_le([],xle(u.errors),!1)),[2]}})})}),[4,Promise.all(a)];case 1:return o.sent(),[2,{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:r},errors:i}]}})})},t.prototype.forceFlush=function(e){return sg(this,void 0,void 0,function(){return og(this,function(n){switch(n.label){case 0:return[4,this._metricReader.forceFlush(e)];case 1:return n.sent(),[2]}})})},t.prototype.shutdown=function(e){return sg(this,void 0,void 0,function(){return og(this,function(n){switch(n.label){case 0:return[4,this._metricReader.shutdown(e)];case 1:return n.sent(),[2]}})})},t.prototype.selectAggregationTemporality=function(e){return this._metricReader.selectAggregationTemporality(e)},t.prototype.selectAggregation=function(e){return this._metricReader.selectAggregation(e)},t.prototype.selectCardinalityLimit=function(e){var n,r,i;return(i=(r=(n=this._metricReader).selectCardinalityLimit)===null||r===void 0?void 0:r.call(n,e))!==null&&i!==void 0?i:2e3},t}(),XL=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},UL=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},WL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function kle(t,e){var n=e??$f.empty();return t?$f.default().merge(n):n}var Tle=function(){function t(e){var n,r,i,a,s;if(this._shutdown=!1,this._sharedState=new Ele(kle((s=e==null?void 0:e.mergeResourceWithDefaults)!==null&&s!==void 0?s:!0,e==null?void 0:e.resource)),(e==null?void 0:e.views)!=null&&e.views.length>0)try{for(var o=WL(e.views),l=o.next();!l.done;l=o.next()){var u=l.value;this._sharedState.viewRegistry.addView(u)}}catch(p){n={error:p}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}if((e==null?void 0:e.readers)!=null&&e.readers.length>0)try{for(var c=WL(e.readers),d=c.next();!d.done;d=c.next()){var f=d.value;this.addMetricReader(f)}}catch(p){i={error:p}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}}return t.prototype.getMeter=function(e,n,r){return n===void 0&&(n=""),r===void 0&&(r={}),this._shutdown?(q.warn("A shutdown MeterProvider cannot provide a Meter"),Mte()):this._sharedState.getMeterSharedState({name:e,version:n,schemaUrl:r.schemaUrl}).meter},t.prototype.addMetricReader=function(e){var n=new Cle(this._sharedState,e);e.setMetricProducer(n),this._sharedState.metricCollectors.push(n)},t.prototype.shutdown=function(e){return XL(this,void 0,void 0,function(){return UL(this,function(n){switch(n.label){case 0:return this._shutdown?(q.warn("shutdown may only be called once per MeterProvider"),[2]):(this._shutdown=!0,[4,Promise.all(this._sharedState.metricCollectors.map(function(r){return r.shutdown(e)}))]);case 1:return n.sent(),[2]}})})},t.prototype.forceFlush=function(e){return XL(this,void 0,void 0,function(){return UL(this,function(n){switch(n.label){case 0:return this._shutdown?(q.warn("invalid attempt to force flush after MeterProvider shutdown"),[2]):[4,Promise.all(this._sharedState.metricCollectors.map(function(r){return r.forceFlush(e)}))];case 1:return n.sent(),[2]}})})},t}();function Rle(t,e){var n=GW(e);return{resource:AW(t.resource),schemaUrl:void 0,scopeMetrics:Nle(t.scopeMetrics,n)}}function Nle(t,e){return Array.from(t.map(function(n){return{scope:MW(n.scope),metrics:n.metrics.map(function(r){return Ole(r,e)}),schemaUrl:n.scope.schemaUrl}}))}function Ole(t,e){var n={name:t.descriptor.name,description:t.descriptor.description,unit:t.descriptor.unit},r=Vle(t.aggregationTemporality);switch(t.dataPointType){case Xi.SUM:n.sum={aggregationTemporality:r,isMonotonic:t.isMonotonic,dataPoints:PL(t,e)};break;case Xi.GAUGE:n.gauge={dataPoints:PL(t,e)};break;case Xi.HISTOGRAM:n.histogram={aggregationTemporality:r,dataPoints:Lle(t,e)};break;case Xi.EXPONENTIAL_HISTOGRAM:n.exponentialHistogram={aggregationTemporality:r,dataPoints:Zle(t,e)};break}return n}function Ile(t,e,n){var r={attributes:zl(t.attributes),startTimeUnixNano:n.encodeHrTime(t.startTime),timeUnixNano:n.encodeHrTime(t.endTime)};switch(e){case ro.INT:r.asInt=t.value;break;case ro.DOUBLE:r.asDouble=t.value;break}return r}function PL(t,e){return t.dataPoints.map(function(n){return Ile(n,t.descriptor.valueType,e)})}function Lle(t,e){return t.dataPoints.map(function(n){var r=n.value;return{attributes:zl(n.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,min:r.min,max:r.max,startTimeUnixNano:e.encodeHrTime(n.startTime),timeUnixNano:e.encodeHrTime(n.endTime)}})}function Zle(t,e){return t.dataPoints.map(function(n){var r=n.value;return{attributes:zl(n.attributes),count:r.count,min:r.min,max:r.max,sum:r.sum,positive:{offset:r.positive.offset,bucketCounts:r.positive.bucketCounts},negative:{offset:r.negative.offset,bucketCounts:r.negative.bucketCounts},scale:r.scale,zeroCount:r.zeroCount,startTimeUnixNano:e.encodeHrTime(n.startTime),timeUnixNano:e.encodeHrTime(n.endTime)}})}function Vle(t){switch(t){case gi.DELTA:return 1;case gi.CUMULATIVE:return 2}}function Gle(t,e){return{resourceMetrics:t.map(function(n){return Rle(n,e)})}}var Ale=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mle=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a};function Xle(t,e){var n,r=t.spanContext(),i=t.status;return{traceId:e.encodeSpanContext(r.traceId),spanId:e.encodeSpanContext(r.spanId),parentSpanId:e.encodeOptionalSpanContext(t.parentSpanId),traceState:(n=r.traceState)===null||n===void 0?void 0:n.serialize(),name:t.name,kind:t.kind==null?0:t.kind+1,startTimeUnixNano:e.encodeHrTime(t.startTime),endTimeUnixNano:e.encodeHrTime(t.endTime),attributes:zl(t.attributes),droppedAttributesCount:t.droppedAttributesCount,events:t.events.map(function(a){return Wle(a,e)}),droppedEventsCount:t.droppedEventsCount,status:{code:i.code,message:i.message},links:t.links.map(function(a){return Ule(a,e)}),droppedLinksCount:t.droppedLinksCount}}function Ule(t,e){var n;return{attributes:t.attributes?zl(t.attributes):[],spanId:e.encodeSpanContext(t.context.spanId),traceId:e.encodeSpanContext(t.context.traceId),traceState:(n=t.context.traceState)===null||n===void 0?void 0:n.serialize(),droppedAttributesCount:t.droppedAttributesCount||0}}function Wle(t,e){return{attributes:t.attributes?zl(t.attributes):[],name:t.name,timeUnixNano:e.encodeHrTime(t.time),droppedAttributesCount:t.droppedAttributesCount||0}}function Ple(t,e){var n=GW(e);return{resourceSpans:Dle(t,n)}}function zle(t){var e,n,r=new Map;try{for(var i=Ale(t),a=i.next();!a.done;a=i.next()){var s=a.value,o=r.get(s.resource);o||(o=new Map,r.set(s.resource,o));var l=s.instrumentationLibrary.name+"@"+(s.instrumentationLibrary.version||"")+":"+(s.instrumentationLibrary.schemaUrl||""),u=o.get(l);u||(u=[],o.set(l,u)),u.push(s)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Dle(t,e){for(var n=zle(t),r=[],i=n.entries(),a=i.next();!a.done;){for(var s=Mle(a.value,2),o=s[0],l=s[1],u=[],c=l.values(),d=c.next();!d.done;){var f=d.value;if(f.length>0){var p=f.map(function(m){return Xle(m,e)});u.push({scope:MW(f[0].instrumentationLibrary),spans:p,schemaUrl:f[0].instrumentationLibrary.schemaUrl})}d=c.next()}var v={resource:AW(o),scopeSpans:u,schemaUrl:void 0};r.push(v),a=i.next()}return r}var jle={serializeRequest:function(t){var e=Gle([t],{useLongBits:!1}),n=new TextEncoder;return n.encode(JSON.stringify(e))},deserializeResponse:function(t){var e=new TextDecoder;return JSON.parse(e.decode(t))}},Ble={serializeRequest:function(t){var e=Ple(t,{useHex:!0,useLongBits:!1}),n=new TextEncoder;return n.encode(JSON.stringify(e))},deserializeResponse:function(t){var e=new TextDecoder;return JSON.parse(e.decode(t))}},Fle=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},Hle=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Yle=5,Jle=1e3,$le=5e3,Kle=1.5,zL=.2;function Qle(){return Math.random()*(2*zL)-zL}var qle=function(){function t(e){this._transport=e}return t.prototype.retry=function(e,n,r){var i=this;return new Promise(function(a,s){setTimeout(function(){i._transport.send(e,n).then(a,s)},r)})},t.prototype.send=function(e,n){var r;return Fle(this,void 0,void 0,function(){var i,a,s,o,l,u,c;return Hle(this,function(d){switch(d.label){case 0:return i=Date.now()+n,[4,this._transport.send(e,n)];case 1:a=d.sent(),s=Yle,o=Jle,d.label=2;case 2:return a.status==="retryable"&&s>0?(s--,l=Math.max(Math.min(o,$le)+Qle(),0),o=o*Kle,u=(r=a.retryInMillis)!==null&&r!==void 0?r:l,c=i-Date.now(),u>c?[2,a]:[4,this.retry(e,c,u)]):[3,4];case 3:return a=d.sent(),[3,2];case 4:return[2,a]}})})},t.prototype.shutdown=function(){return this._transport.shutdown()},t}();function tP(t){return new qle(t.transport)}function eue(t){var e=[429,502,503,504];return e.includes(t)}function tue(t){if(t!=null){var e=Number.parseInt(t,10);if(Number.isInteger(e))return e>0?e*1e3:-1;var n=new Date(t).getTime()-Date.now();return n>=0?n:0}}var nue=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},rue=function(){function t(e){this._parameters=e}return t.prototype.send=function(e,n){var r=this;return new Promise(function(i){var a=new XMLHttpRequest;a.timeout=n,a.open("POST",r._parameters.url);var s=r._parameters.headers();Object.entries(s).forEach(function(o){var l=nue(o,2),u=l[0],c=l[1];a.setRequestHeader(u,c)}),a.ontimeout=function(o){i({status:"failure",error:new Error("XHR request timed out")})},a.onreadystatechange=function(){a.status>=200&&a.status<=299?(q.debug("XHR success"),i({status:"success"})):a.status&&eue(a.status)?i({status:"retryable",retryInMillis:tue(a.getResponseHeader("Retry-After"))}):a.status!==0&&i({status:"failure",error:new Error("XHR request failed with non-retryable status")})},a.onabort=function(){i({status:"failure",error:new Error("XHR request aborted")})},a.onerror=function(){i({status:"failure",error:new Error("XHR request errored")})},a.send(e)})},t.prototype.shutdown=function(){},t}();function iue(t){return new rue(t)}var aue=function(){function t(e){this._params=e}return t.prototype.send=function(e){var n=this;return new Promise(function(r){navigator.sendBeacon(n._params.url,new Blob([e],{type:n._params.blobType}))?(q.debug("SendBeacon success"),r({status:"success"})):r({status:"failure",error:new Error("SendBeacon failed")})})},t.prototype.shutdown=function(){},t}();function sue(t){return new aue(t)}function oue(t,e){return IW(t,e,tP({transport:iue(t)}))}function lue(t,e){return IW(t,e,tP({transport:sue({url:t.url,blobType:t.headers()["Content-Type"]})}))}var uue=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a};function cue(t){return function(){var e,n={};return Object.entries((e=t==null?void 0:t())!==null&&e!==void 0?e:{}).forEach(function(r){var i=uue(r,2),a=i[0],s=i[1];typeof s<"u"?n[a]=String(s):q.warn('Header "'+a+'" has invalid value ('+s+") and will be ignored")}),n}}var kl=function(){return kl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},kl.apply(this,arguments)};function due(t,e,n){var r=kl({},n()),i={};return function(){return e!=null&&Object.assign(i,e()),t!=null&&Object.assign(i,t()),Object.assign(i,r)}}function hue(t){if(t!=null)try{return new URL(t),t}catch{throw new Error("Configuration: Could not parse user-provided export URL: '"+t+"'")}}function fue(t,e,n){var r,i,a,s;return kl(kl({},Tse(t,e,n)),{headers:due(cue(t.headers),e.headers,n.headers),url:(i=(r=hue(t.url))!==null&&r!==void 0?r:e.url)!==null&&i!==void 0?i:n.url,agentOptions:(s=(a=t.agentOptions)!==null&&a!==void 0?a:e.agentOptions)!==null&&s!==void 0?s:n.agentOptions})}function pue(t,e){return kl(kl({},Rse()),{headers:function(){return t},url:"http://localhost:4318/"+e,agentOptions:{keepAlive:!0}})}function mue(t,e,n){return fue({url:t.url,timeoutMillis:t.timeoutMillis,headers:kse(t.headers),concurrencyLimit:t.concurrencyLimit},{},pue(n,e))}function nP(t,e,n,r){var i=!!t.headers||typeof navigator.sendBeacon!="function",a=mue(t,n,r);return i?oue(a,e):lue(a,e)}var gue=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yue=function(t){gue(e,t);function e(n){return n===void 0&&(n={}),t.call(this,nP(n,Ble,"v1/traces",{"Content-Type":"application/json"}))||this}return e}(OW),Ky;(function(t){t[t.DELTA=0]="DELTA",t[t.CUMULATIVE=1]="CUMULATIVE",t[t.LOWMEMORY=2]="LOWMEMORY"})(Ky||(Ky={}));var vue=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),y_=function(){return gi.CUMULATIVE},rP=function(t){switch(t){case ye.COUNTER:case ye.OBSERVABLE_COUNTER:case ye.GAUGE:case ye.HISTOGRAM:case ye.OBSERVABLE_GAUGE:return gi.DELTA;case ye.UP_DOWN_COUNTER:case ye.OBSERVABLE_UP_DOWN_COUNTER:return gi.CUMULATIVE}},iP=function(t){switch(t){case ye.COUNTER:case ye.HISTOGRAM:return gi.DELTA;case ye.GAUGE:case ye.UP_DOWN_COUNTER:case ye.OBSERVABLE_UP_DOWN_COUNTER:case ye.OBSERVABLE_COUNTER:case ye.OBSERVABLE_GAUGE:return gi.CUMULATIVE}};function bue(){var t=$c(),e=t.OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE.trim().toLowerCase();return e==="cumulative"?y_:e==="delta"?rP:e==="lowmemory"?iP:(q.warn("OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE is set to '"+t.OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE+"', but only 'cumulative' and 'delta' are allowed. Using default ('cumulative') instead."),y_)}function wue(t){return t!=null?t===Ky.DELTA?rP:t===Ky.LOWMEMORY?iP:y_:bue()}function Sue(t){return t!=null&&t.aggregationPreference?t.aggregationPreference:function(e){return za.Default()}}var Eue=function(t){vue(e,t);function e(n,r){var i=t.call(this,n)||this;return i._aggregationSelector=Sue(r),i._aggregationTemporalitySelector=wue(r==null?void 0:r.temporalityPreference),i}return e.prototype.selectAggregation=function(n){return this._aggregationSelector(n)},e.prototype.selectAggregationTemporality=function(n){return this._aggregationTemporalitySelector(n)},e}(OW),xue=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_ue=function(t){xue(e,t);function e(n){return t.call(this,nP(n??{},jle,"v1/metrics",{"Content-Type":"application/json"}),n)||this}return e}(Eue);function Cue(t,e){const n=t.spanContext();return{name:t.name,kind:t.kind,spanContext:()=>n,parentSpanId:t.parentSpanId,startTime:t.startTime,endTime:t.endTime,status:t.status,attributes:oW(t.attributes,e),links:t.links,events:t.events,duration:t.duration,ended:t.ended,resource:t.resource,instrumentationLibrary:t.instrumentationLibrary,droppedAttributesCount:t.droppedAttributesCount,droppedEventsCount:t.droppedEventsCount,droppedLinksCount:t.droppedLinksCount}}function kue(t,e){if(!e.isSamplingEnabled())return t;const n=[],r={},i={};for(const a of t){a.parentSpanId&&(i[a.parentSpanId]=i[a.parentSpanId]||[],i[a.parentSpanId].push(a.spanContext().spanId));const s=e.shouldSample(a);s.sample?s.attributes?r[a.spanContext().spanId]=Cue(a,s.attributes):r[a.spanContext().spanId]=a:n.push(a.spanContext().spanId)}for(;n.length>0;){const a=n.shift(),s=i[a];if(s)for(const o of s)delete r[o],n.push(o)}return Object.values(r)}class Tue extends yue{constructor(e,n){super(sl(fi({},e),{headers:{}})),this.sampler=n}export(e,n){const r=kue(e,this.sampler);if(r.length===0)return;let i=0;const a=s=>{var o;if(s.code===nn.SUCCESS)return n({code:nn.SUCCESS});if(i++,i>FC)return console.error(`[@launchdarkly/observability] failed to export OTeL traces: ${(o=s.error)==null?void 0:o.message}`,s.error),n({code:nn.FAILED,error:s.error});new Promise(l=>setTimeout(l,HC+YC*Math.pow(2,i))).then(()=>{var l;console.warn(`[@launchdarkly/observability] retry ${i}, failed to export OTeL traces: ${(l=s.error)==null?void 0:l.message}`,s.error),super.export(r,a)})};super.export(r,a)}}class Rue extends _ue{constructor(e){super(sl(fi({},e),{headers:{}}))}export(e,n){let r=0;const i=a=>{var s;if(a.code===nn.SUCCESS)return n({code:nn.SUCCESS});if(r++,r>FC)return console.error(`[@launchdarkly/observability] failed to export OTeL metrics: ${(s=a.error)==null?void 0:s.message}`,a.error),n({code:nn.FAILED,error:a.error});new Promise(o=>setTimeout(o,HC+YC*Math.pow(2,r))).then(()=>{var o;console.warn(`[@launchdarkly/observability] retry ${r}, failed to export OTeL metrics: ${(o=a.error)==null?void 0:o.message}`,a.error),super.export(e,i)})};super.export(e,i)}}const Nue="OT_ZONE_CONTEXT",Oue="Navigation:",Iue=["click","input","submit"];function Lue(){return!1}const v_=class ko extends tie{constructor(e={}){var n;super(ko.moduleName,ko.version,e),Hn(this,"_spansData",new WeakMap),Hn(this,"_zonePatched"),Hn(this,"_wrappedListeners",new WeakMap),Hn(this,"_eventsSpanMap",new WeakMap),Hn(this,"_eventNames"),Hn(this,"_shouldPreventSpanCreation"),this._eventNames=new Set((n=e==null?void 0:e.eventNames)!=null?n:Iue),this._shouldPreventSpanCreation=typeof(e==null?void 0:e.shouldPreventSpanCreation)=="function"?e.shouldPreventSpanCreation:Lue}init(){}_checkForTimeout(e,n){const r=this._spansData.get(n);r&&(e.source==="setTimeout"?r.hrTimeLastTimeout=_l():e.source!=="Promise.then"&&e.source!=="setTimeout"&&(r.hrTimeLastTimeout=void 0))}_allowEventName(e){return this._eventNames.has(e)}_createSpan(e,n){var r;const i=e==null?void 0:e.target,a=e==null?void 0:e.type;if(!(i instanceof HTMLElement)||!i.getAttribute||i.hasAttribute("disabled")||!this._allowEventName(a))return;const s=EW(i,!0);try{const o=this.tracer.startSpan(a,{attributes:{"event.type":a,"event.tag":i.tagName,"event.xpath":s,"event.id":i.id,"event.text":(r=i.textContent)!=null?r:"","event.url":window.location.href,"viewport.width":window.innerWidth,"viewport.height":window.innerHeight}},n?We.setSpan(Ie.active(),n):void 0);return e instanceof MouseEvent&&(o.setAttribute("event.x",e.clientX),o.setAttribute("event.y",e.clientY),o.setAttribute("event.relativeX",e.clientX/window.innerWidth),o.setAttribute("event.relativeY",e.clientY/window.innerHeight),a==="scroll"&&(o.setAttribute("event.scrollX",window.scrollX),o.setAttribute("event.scrollY",window.scrollY))),this._shouldPreventSpanCreation(a,i,o)===!0?void 0:(this._spansData.set(o,{taskCount:0}),o)}catch(o){this._diag.error("failed to start create new user interaction span",o)}}_decrementTask(e){const n=this._spansData.get(e);n&&(n.taskCount--,n.taskCount===0&&this._tryToEndSpan(e,n.hrTimeLastTimeout))}_getCurrentSpan(e){const n=e.get(Nue);return n&&We.getSpan(n)}_incrementTask(e){const n=this._spansData.get(e);n&&n.taskCount++}addPatchedListener(e,n,r,i){let a=this._wrappedListeners.get(r);a||(a=new Map,this._wrappedListeners.set(r,a));let s=a.get(n);return s||(s=new Map,a.set(n,s)),s.has(e)?!1:(s.set(e,i),!0)}removePatchedListener(e,n,r){const i=this._wrappedListeners.get(r);if(!i)return;const a=i.get(n);if(!a)return;const s=a.get(e);return s&&(a.delete(e),a.size===0&&(i.delete(n),i.size===0&&this._wrappedListeners.delete(r))),s}_invokeListener(e,n,r){return typeof e=="function"?e.apply(n,r):e.handleEvent(r[0])}_patchAddEventListener(){const e=this;let n=new Map;return r=>function(i,a,s){if(!a)return r.call(this,i,a,s);const o=s&&typeof s=="object"&&s.once,l=function(...u){var c;let d;const f=u[0];if(!(f!=null&&f.type))return e._invokeListener(a,this,u);if(Date.now()-((c=n.get(f.type))!=null?c:0)<1e3/60)return e._invokeListener(a,this,u);n.set(f.type,Date.now()),f&&(d=e._eventsSpanMap.get(f)),o&&e.removePatchedListener(this,i,a);const p=e._createSpan(f,d);return p?(f&&e._eventsSpanMap.set(f,p),Ie.with(We.setSpan(Ie.active(),p),()=>{const v=e._invokeListener(a,this,u);return p.end(),v})):e._invokeListener(a,this,u)};if(e.addPatchedListener(this,i,a,l))return r.call(this,i,l,s)}}_patchRemoveEventListener(){const e=this;return n=>function(r,i,a){const s=e.removePatchedListener(this,r,i);return s?n.call(this,r,s,a):n.call(this,r,i,a)}}_getPatchableEventTargets(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]}_patchHistoryApi(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())}_patchHistoryMethod(){const e=this;return n=>function(...r){const i=`${location.pathname}${location.hash}${location.search}`,a=n.apply(this,r),s=`${location.pathname}${location.hash}${location.search}`;return i!==s&&e._updateInteractionName(s),a}}_unpatchHistoryApi(){bn(history.replaceState)&&this._unwrap(history,"replaceState"),bn(history.pushState)&&this._unwrap(history,"pushState"),bn(history.back)&&this._unwrap(history,"back"),bn(history.forward)&&this._unwrap(history,"forward"),bn(history.go)&&this._unwrap(history,"go")}_updateInteractionName(e){const n=We.getSpan(Ie.active());n&&typeof n.updateName=="function"&&n.updateName(`${Oue} ${e}`)}_patchZoneCancelTask(){const e=this;return n=>function(r){const i=Zone.current,a=e._getCurrentSpan(i);return a&&e._shouldCountTask(r,i)&&e._decrementTask(a),n.call(this,r)}}_patchZoneScheduleTask(){const e=this;return n=>function(r){const i=Zone.current,a=e._getCurrentSpan(i);return a&&e._shouldCountTask(r,i)&&(e._incrementTask(a),e._checkForTimeout(r,a)),n.call(this,r)}}_patchZoneRunTask(){const e=this;return n=>function(r,i,a){const s=Array.isArray(a)&&a[0]instanceof Event?a[0]:void 0,o=s==null?void 0:s.target;let l;const u=this;if(o){if(l=e._createSpan(s),l)return e._incrementTask(l),u.run(()=>{try{return Ie.with(We.setSpan(Ie.active(),l),()=>{const c=Zone.current;return r._zone=c,n.call(c,r,i,a)})}finally{e._decrementTask(l)}})}else l=e._getCurrentSpan(u);try{return n.call(u,r,i,a)}finally{l&&e._shouldCountTask(r,u)&&e._decrementTask(l)}}}_shouldCountTask(e,n){if(e._zone&&(n=e._zone),!n||!e.data||e.data.isPeriodic)return!1;const r=this._getCurrentSpan(n);return!r||!this._spansData.get(r)?!1:e.type==="macroTask"||e.type==="microTask"}_tryToEndSpan(e,n){e&&this._spansData.get(e)&&(e.end(n),this._spansData.delete(e))}enable(){const e=this._getZoneWithPrototype();this._diag.debug("applying patch to",ko.moduleName,ko.version,"zone:",!!e),e?(bn(e.prototype.runTask)&&(this._unwrap(e.prototype,"runTask"),this._diag.debug("removing previous patch from method runTask")),bn(e.prototype.scheduleTask)&&(this._unwrap(e.prototype,"scheduleTask"),this._diag.debug("removing previous patch from method scheduleTask")),bn(e.prototype.cancelTask)&&(this._unwrap(e.prototype,"cancelTask"),this._diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(e.prototype,"runTask",this._patchZoneRunTask()),this._wrap(e.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(e.prototype,"cancelTask",this._patchZoneCancelTask())):(this._zonePatched=!1,this._getPatchableEventTargets().forEach(n=>{bn(n.addEventListener)&&(this._unwrap(n,"addEventListener"),this._diag.debug("removing previous patch from method addEventListener")),bn(n.removeEventListener)&&(this._unwrap(n,"removeEventListener"),this._diag.debug("removing previous patch from method removeEventListener")),this._wrap(n,"addEventListener",this._patchAddEventListener()),this._wrap(n,"removeEventListener",this._patchRemoveEventListener())})),this._patchHistoryApi()}disable(){const e=this._getZoneWithPrototype();this._diag.debug("removing patch from",ko.moduleName,ko.version,"zone:",!!e),e&&this._zonePatched?(bn(e.prototype.runTask)&&this._unwrap(e.prototype,"runTask"),bn(e.prototype.scheduleTask)&&this._unwrap(e.prototype,"scheduleTask"),bn(e.prototype.cancelTask)&&this._unwrap(e.prototype,"cancelTask")):this._getPatchableEventTargets().forEach(n=>{bn(n.addEventListener)&&this._unwrap(n,"addEventListener"),bn(n.removeEventListener)&&this._unwrap(n,"removeEventListener")}),this._unpatchHistoryApi()}_getZoneWithPrototype(){return window.Zone}};Hn(v_,"version","0.1.0"),Hn(v_,"moduleName","user-interaction");let Zue=v_,Bn={},mu;const Qy="highlight.record",Vue="highlight.session_id",Gue="launchdarkly.js.log",DL="launchdarkly.sampling.ratio",Aue="log.severity",Mue="log.message",Xue=(t,e)=>{var n,r,i,a,s,o,l,u,c;if(Bn.tracerProvider!==void 0){console.warn("OTEL already initialized. Skipping...");return}mu=t;const d=t.backendUrl||void 0||"https://pub.highlight.io",f=[...(r=(n=t.networkRecordingOptions)==null?void 0:n.urlBlocklist)!=null?r:[],...kW],p=(i=t.environment)!=null?i:"production",v={url:t.otlpEndpoint+"/v1/traces",concurrencyLimit:100,timeoutMillis:5e3,compression:"gzip",keepAlive:!0,httpAgentOptions:{timeout:5e3,keepAlive:!0}},m=new Tue(v,e),S=new Uue(m,{maxExportBatchSize:100,maxQueueSize:1e3,exportTimeoutMillis:v.timeoutMillis,scheduledDelayMillis:v.timeoutMillis}),y=new $f({[X$]:(a=t.serviceName)!=null?a:"highlight-browser","deployment.environment.name":p,"highlight.project_id":t.projectId,[z$]:navigator.userAgent,"browser.language":navigator.language,"telemetry.distro.name":"@highlight-run/observability","telemetry.distro.version":xU});Bn.tracerProvider=new Uie({resource:y,mergeResourceWithDefaults:!0,spanProcessors:[S]}),We.setGlobalTracerProvider(Bn.tracerProvider);const g=new Rue(sl(fi({},v),{url:t.otlpEndpoint+"/v1/metrics"})),b=new Poe({exporter:g,exportIntervalMillis:v.timeoutMillis,exportTimeoutMillis:v.timeoutMillis});Bn.meterProvider=new Tle({resource:y,readers:[b]}),Mi.setGlobalMeterProvider(Bn.meterProvider);let w=[];((s=t.instrumentations)==null?void 0:s["@opentelemetry/instrumentation-document-load"])!==!1&&w.push(new rae({applyCustomAttributesOnSpan:{documentLoad:HL,documentFetch:HL,resourceFetch:jue}})),((o=t.instrumentations)==null?void 0:o["@opentelemetry/instrumentation-user-interaction"])!==!1&&w.push(new Zue({eventNames:t.eventNames})),(l=t.networkRecordingOptions)!=null&&l.enabled&&(((u=t.instrumentations)==null?void 0:u["@opentelemetry/instrumentation-fetch"])!==!1&&w.push(new Aae({propagateTraceHeaderCorsUrls:YL(t.tracingOrigins),applyCustomAttributesOnSpan:(_,C,k)=>El(void 0,null,function*(){var x,T,A;if(!_.attributes)return;const M=_;if(M.attributes[Qy]===!1)return;const z=M.attributes["http.url"],N=(x=C.method)!=null?x:"GET";if(_.updateName(BL(z,N,C.body)),!(k instanceof Response)){_.setAttributes({"http.response.error":k.message,"http.response.status":k.status});return}FL(_,C.body,C.headers,t.networkRecordingOptions);const I=yield NW(k,(T=t.networkRecordingOptions)==null?void 0:T.bodyKeysToRecord,(A=t.networkRecordingOptions)==null?void 0:A.networkBodyKeysToRedact);_.setAttribute("http.response.body",I)})})),((c=t.instrumentations)==null?void 0:c["@opentelemetry/instrumentation-xml-http-request"])!==!1&&w.push(new use({propagateTraceHeaderCorsUrls:YL(t.tracingOrigins),applyCustomAttributesOnSpan:(_,C)=>{var k,x;const T=C;if(!_.attributes||_.attributes[Qy]===!1)return;const A=BL(T._url,T._method,C.responseText);_.updateName(A),FL(_,T._body,T._requestHeaders,t.networkRecordingOptions);const M=ds(T._body,(k=t.networkRecordingOptions)==null?void 0:k.networkBodyKeysToRedact,(x=t.networkRecordingOptions)==null?void 0:x.bodyKeysToRecord,T._requestHeaders);_.setAttribute("http.request.body",M)}}))),$re({instrumentations:w});const E=new bW;return E.enable(),Bn.tracerProvider.register({contextManager:E,propagator:new tW({propagators:[new Y9,new Wue({backendUrl:d,otlpEndpoint:t.otlpEndpoint,tracingOrigins:t.tracingOrigins,urlBlocklist:f})]})}),Bn};class Uue extends vW{onStart(e,n){e.setAttribute(Vue,gU()),super.onStart(e,n)}onEnd(e){e.attributes[Qy]!==!1&&super.onEnd(e)}}class Wue extends nW{constructor(e){super(),Hn(this,"highlightEndpoints"),Hn(this,"tracingOrigins"),Hn(this,"urlBlocklist"),this.highlightEndpoints=[e.backendUrl,`${e.otlpEndpoint}/v1/traces`,`${e.otlpEndpoint}/v1/logs`,`${e.otlpEndpoint}/v1/metrics`],this.tracingOrigins=e.tracingOrigins,this.urlBlocklist=e.urlBlocklist}inject(e,n,r){var i;const a=We.getSpan(e);if(!a||!a.attributes)return;const s=a.attributes["http.url"];typeof s=="string"&&(Due(s,this.highlightEndpoints,this.tracingOrigins,this.urlBlocklist)||a.setAttribute(Qy,!1),!Zk(s,(i=this.tracingOrigins)!=null?i:[],this.urlBlocklist))||super.inject(e,n,r)}}const aP="highlight-browser",lg=aP,jL=()=>{var t;return(t=Bn.tracerProvider)==null?void 0:t.getTracer(aP)},Pue=()=>We.getActiveSpan(),zue=()=>El(void 0,null,function*(){Bn.tracerProvider?(yield Bn.tracerProvider.forceFlush(),yield Bn.tracerProvider.shutdown()):console.warn("OTEL shutdown called without initialized tracerProvider."),Bn.meterProvider?(yield Bn.meterProvider.forceFlush(),yield Bn.meterProvider.shutdown()):console.warn("OTEL shutdown called without initialized meterProvider.")}),BL=(t,e,n)=>{var r,i,a;let s;const o=new URL(t),l=o.pathname;let u=`${e.toUpperCase()} - ${l}`;try{if(s=typeof n=="string"?JSON.parse(n):n,s&&s.query){const c=zC(s.query),d=((r=c.definitions[0])==null?void 0:r.kind)==="OperationDefinition"?(a=(i=c.definitions[0])==null?void 0:i.name)==null?void 0:a.value:void 0;d&&(u=`${d} (GraphQL: ${o.host+o.pathname})`)}}catch{}return u},FL=(t,e,n,r)=>{var i;const a=typeof e=="string"?e:String(e);if(!t.attributes)return;const s=t.attributes["http.url"],o=new URL(s);let l;try{l=e?JSON.parse(a):void 0,l.operationName&&t.setAttribute("graphql.operation.name",l.operationName)}catch{}const u=CW((i=r==null?void 0:r.networkHeadersToRedact)!=null?i:[],n,r==null?void 0:r.headerKeysToRecord);t.setAttributes({"highlight.type":"http.request","http.request.headers":JSON.stringify(u),"http.request.body":a,[U$]:s,[W$]:o.pathname,[P$]:o.search}),o.searchParams.size>0&&t.setAttributes({"url.query_params":JSON.stringify(Object.fromEntries(o.searchParams))})},Due=(t,e,n,r)=>r!=null&&r.some(i=>t.toLowerCase().includes(i))?!1:cb(t,e),HL=t=>{var e,n,r;if(!t.events)return;const i=t.events,a={unload:_r("unloadEventStart","unloadEventEnd",i),dom_interactive:_r("fetchStart","domInteractive",i),dom_content_loaded:_r("domContentLoadedEventStart","domContentLoadedEventEnd",i),dom_complete:_r("fetchStart","domComplete",i),load_event:_r("loadEventStart","loadEventEnd",i),document_load:_r("fetchStart","loadEventEnd",i),first_paint:_r("fetchStart","firstPaint",i),first_contentful_paint:_r("fetchStart","firstContentfulPaint",i),domain_lookup:_r("domainLookupStart","domainLookupEnd",i),connect:_r("connectStart","connectEnd",i),request:_r("requestStart","requestEnd",i),response:_r("responseStart","responseEnd",i)},s=(n=(e=mu==null?void 0:mu.getIntegrations)==null?void 0:e.call(mu))!=null?n:[];if(a.document_load!==void 0)for(const o of s)o.recordGauge((r=mu==null?void 0:mu.sessionSecureId)!=null?r:"",{name:wU,value:a.document_load/1e6});Object.entries(a).forEach(([o,l])=>{l!==void 0&&(t.setAttribute(`timings.${o}.ns`,l),t.setAttribute(`timings.${o}.readable`,sP(l)))})};function _r(t,e,n){const r=n.find(s=>s.name===t),i=n.find(s=>s.name===e);if(!r||!i)return;const a=r.time[0]*1e9+r.time[1];return i.time[0]*1e9+i.time[1]-a}const jue=(t,e)=>{const n={domain_lookup:(e.domainLookupEnd-e.domainLookupStart)*1e9,connect:(e.connectEnd-e.connectStart)*1e9,request:(e.responseEnd-e.requestStart)*1e9,response:(e.responseEnd-e.responseStart)*1e9};Object.entries(n).forEach(([r,i])=>{t.setAttribute(`timings.${r}.ns`,i),t.setAttribute(`timings.${r}.readable`,sP(i))})},sP=t=>{if(t>=36e11){const e=t/36e11;return`${Number(e.toFixed(1))}h`}else if(t>=6e10){const e=t/6e10;return`${Number(e.toFixed(1))}m`}else if(t>=1e9){const e=t/1e9;return`${Number(e.toFixed(1))}s`}else if(t>=1e6){const e=t/1e6;return`${Number(e.toFixed(1))}ms`}else if(t>=1e3){const e=t/1e3;return`${Number(e.toFixed(1))}µs`}else return`${Number(t.toFixed(1))}ns`},YL=t=>t===!0?[/localhost/,/^\//,new RegExp(window.location.host)]:Array.isArray(t)?t.map(e=>typeof e=="string"?new RegExp(e):e):/^$/,Bue=30,Fue=()=>new Promise(t=>requestAnimationFrame(e=>requestAnimationFrame(n=>t(n-e)))),Hue=()=>El(void 0,null,function*(){const t=[];for(let e=0;e<Bue;e++)t.push(yield Fue());return t.reduce((e,n)=>e+n,0)/t.length}),Yue=(t,e)=>{let n={},r=16.666666666666668;Hue().then(l=>r=l);const i=l=>{var u;n!=null&&n.event||(n={event:l,location:window.location.href,timerStart:(u=window.performance)==null?void 0:u.now()},window.requestAnimationFrame(a))},a=()=>{if(!(n!=null&&n.timerStart))return;const l=window.performance.now()-n.timerStart-r;s(l),n={}},s=l=>{const u=(new Date().getTime()-e)/1e3;t({relativeTimestamp:u,jankAmount:l,querySelector:o(),newLocation:window.location.href!=n.location?window.location.href:void 0})},o=()=>{var l;return(l=n==null?void 0:n.event)!=null&&l.target?CU(n.event.target):""};return window.addEventListener("click",i,!0),window.addEventListener("keydown",i,!0),()=>{window.removeEventListener("keydown",i,!0),window.removeEventListener("click",i,!0)}},Jue=typeof window<"u",JL=Jue&&"performance"in window&&"memory"in performance?performance:{memory:{}},$ue=(t,e)=>{let n=0,r=0;const i=()=>{const u=(new Date().getTime()-e)/1e3,c=JL.memory.jsHeapSizeLimit||0,d=JL.memory.usedJSHeapSize||0;t({jsHeapSizeLimit:c,usedJSHeapSize:d,relativeTimestamp:u,fps:n})};i();let a;a=setInterval(()=>{i()},1e3);let s=0,o=Date.now();const l=function(){var u=Date.now();s++,u>1e3+o&&(n=Math.round(s*1e3/(u-o)),s=0,o=u),r=requestAnimationFrame(l)};return l(),()=>{clearInterval(a),cancelAnimationFrame(r)}};var hs,Hh,oP,qy,b_,lP=-1,Bl=function(t){addEventListener("pageshow",function(e){e.persisted&&(lP=e.timeStamp,t(e))},!0)},Mk=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},fb=function(){var t=Mk();return t&&t.activationStart||0},Hr=function(t,e){var n=Mk(),r="navigate";return lP>=0?r="back-forward-cache":n&&(document.prerendering||fb()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},gd=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(i){Promise.resolve().then(function(){e(i.getEntries())})});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch{}},Yr=function(t,e,n,r){var i,a;return function(s){e.value>=0&&(s||r)&&((a=e.value-(i||0))||i===void 0)&&(i=e.value,e.delta=a,e.rating=function(o,l){return o>l[1]?"poor":o>l[0]?"needs-improvement":"good"}(e.value,n),t(e))}},Xk=function(t){requestAnimationFrame(function(){return requestAnimationFrame(function(){return t()})})},pb=function(t){var e=function(n){n.type!=="pagehide"&&document.visibilityState!=="hidden"||t(n)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},Uk=function(t){var e=!1;return function(n){e||(t(n),e=!0)}},Fu=-1,$L=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},ev=function(t){document.visibilityState==="hidden"&&Fu>-1&&(Fu=t.type==="visibilitychange"?t.timeStamp:0,Kue())},KL=function(){addEventListener("visibilitychange",ev,!0),addEventListener("prerenderingchange",ev,!0)},Kue=function(){removeEventListener("visibilitychange",ev,!0),removeEventListener("prerenderingchange",ev,!0)},Wk=function(){return Fu<0&&(Fu=$L(),KL(),Bl(function(){setTimeout(function(){Fu=$L(),KL()},0)})),{get firstHiddenTime(){return Fu}}},Dp=function(t){document.prerendering?addEventListener("prerenderingchange",function(){return t()},!0):t()},QL=[1800,3e3],uP=function(t,e){e=e||{},Dp(function(){var n,r=Wk(),i=Hr("FCP"),a=gd("paint",function(s){s.forEach(function(o){o.name==="first-contentful-paint"&&(a.disconnect(),o.startTime<r.firstHiddenTime&&(i.value=Math.max(o.startTime-fb(),0),i.entries.push(o),n(!0)))})});a&&(n=Yr(t,i,QL,e.reportAllChanges),Bl(function(s){i=Hr("FCP"),n=Yr(t,i,QL,e.reportAllChanges),Xk(function(){i.value=performance.now()-s.timeStamp,n(!0)})}))})},qL=[.1,.25],Que=function(t,e){e=e||{},uP(Uk(function(){var n,r=Hr("CLS",0),i=0,a=[],s=function(l){l.forEach(function(u){if(!u.hadRecentInput){var c=a[0],d=a[a.length-1];i&&u.startTime-d.startTime<1e3&&u.startTime-c.startTime<5e3?(i+=u.value,a.push(u)):(i=u.value,a=[u])}}),i>r.value&&(r.value=i,r.entries=a,n())},o=gd("layout-shift",s);o&&(n=Yr(t,r,qL,e.reportAllChanges),pb(function(){s(o.takeRecords()),n(!0)}),Bl(function(){i=0,r=Hr("CLS",0),n=Yr(t,r,qL,e.reportAllChanges),Xk(function(){return n()})}),setTimeout(n,0))}))},dh={passive:!0,capture:!0},que=new Date,eZ=function(t,e){hs||(hs=e,Hh=t,oP=new Date,dP(removeEventListener),cP())},cP=function(){if(Hh>=0&&Hh<oP-que){var t={entryType:"first-input",name:hs.type,target:hs.target,cancelable:hs.cancelable,startTime:hs.timeStamp,processingStart:hs.timeStamp+Hh};qy.forEach(function(e){e(t)}),qy=[]}},ece=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;t.type=="pointerdown"?function(n,r){var i=function(){eZ(n,r),s()},a=function(){s()},s=function(){removeEventListener("pointerup",i,dh),removeEventListener("pointercancel",a,dh)};addEventListener("pointerup",i,dh),addEventListener("pointercancel",a,dh)}(e,t):eZ(e,t)}},dP=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,ece,dh)})},tZ=[100,300],tce=function(t,e){e=e||{},Dp(function(){var n,r=Wk(),i=Hr("FID"),a=function(l){l.startTime<r.firstHiddenTime&&(i.value=l.processingStart-l.startTime,i.entries.push(l),n(!0))},s=function(l){l.forEach(a)},o=gd("first-input",s);n=Yr(t,i,tZ,e.reportAllChanges),o&&pb(Uk(function(){s(o.takeRecords()),o.disconnect()})),o&&Bl(function(){var l;i=Hr("FID"),n=Yr(t,i,tZ,e.reportAllChanges),qy=[],Hh=-1,hs=null,dP(addEventListener),l=a,qy.push(l),cP()})})},hP=0,Rw=1/0,ug=0,nce=function(t){t.forEach(function(e){e.interactionId&&(Rw=Math.min(Rw,e.interactionId),ug=Math.max(ug,e.interactionId),hP=ug?(ug-Rw)/7+1:0)})},fP=function(){return b_?hP:performance.interactionCount||0},rce=function(){"interactionCount"in performance||b_||(b_=gd("event",nce,{type:"event",buffered:!0,durationThreshold:0}))},nZ=[200,500],pP=0,rZ=function(){return fP()-pP},Li=[],Nw={},iZ=function(t){var e=Li[Li.length-1],n=Nw[t.interactionId];if(n||Li.length<10||t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};Nw[r.id]=r,Li.push(r)}Li.sort(function(i,a){return a.latency-i.latency}),Li.splice(10).forEach(function(i){delete Nw[i.id]})}},ice=function(t,e){e=e||{},Dp(function(){var n;rce();var r,i=Hr("INP"),a=function(o){o.forEach(function(c){c.interactionId&&iZ(c),c.entryType==="first-input"&&!Li.some(function(d){return d.entries.some(function(f){return c.duration===f.duration&&c.startTime===f.startTime})})&&iZ(c)});var l,u=(l=Math.min(Li.length-1,Math.floor(rZ()/50)),Li[l]);u&&u.latency!==i.value&&(i.value=u.latency,i.entries=u.entries,r())},s=gd("event",a,{durationThreshold:(n=e.durationThreshold)!==null&&n!==void 0?n:40});r=Yr(t,i,nZ,e.reportAllChanges),s&&("interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),pb(function(){a(s.takeRecords()),i.value<0&&rZ()>0&&(i.value=0,i.entries=[]),r(!0)}),Bl(function(){Li=[],pP=fP(),i=Hr("INP"),r=Yr(t,i,nZ,e.reportAllChanges)}))})},aZ=[2500,4e3],Ow={},ace=function(t,e){e=e||{},Dp(function(){var n,r=Wk(),i=Hr("LCP"),a=function(l){var u=l[l.length-1];u&&u.startTime<r.firstHiddenTime&&(i.value=Math.max(u.startTime-fb(),0),i.entries=[u],n())},s=gd("largest-contentful-paint",a);if(s){n=Yr(t,i,aZ,e.reportAllChanges);var o=Uk(function(){Ow[i.id]||(a(s.takeRecords()),s.disconnect(),Ow[i.id]=!0,n(!0))});["keydown","click"].forEach(function(l){addEventListener(l,function(){return setTimeout(o,0)},!0)}),pb(o),Bl(function(l){i=Hr("LCP"),n=Yr(t,i,aZ,e.reportAllChanges),Xk(function(){i.value=performance.now()-l.timeStamp,Ow[i.id]=!0,n(!0)})})}})},sZ=[800,1800],sce=function t(e){document.prerendering?Dp(function(){return t(e)}):document.readyState!=="complete"?addEventListener("load",function(){return t(e)},!0):setTimeout(e,0)},oce=function(t,e){e=e||{};var n=Hr("TTFB"),r=Yr(t,n,sZ,e.reportAllChanges);sce(function(){var i=Mk();if(i){var a=i.responseStart;if(a<=0||a>performance.now())return;n.value=Math.max(a-fb(),0),n.entries=[i],r(!0),Bl(function(){n=Hr("TTFB",0),(r=Yr(t,n,sZ,e.reportAllChanges))(!0)})}})};const lce=t=>(Que(t),uP(t),tce(t),ace(t),oce(t),ice(t),()=>{}),ru=typeof navigator<"u"&&"connection"in navigator?navigator.connection:{},uce=(t,e)=>{const n=()=>{const i=(new Date().getTime()-e)/1e3;t({relativeTimestamp:i,downlink:ru.downlink,downlinkMax:ru.downlinkMax,effectiveType:ru.effectiveType,rtt:ru.rtt,saveData:ru.saveData,type:ru.type})};n();let r;return r=setInterval(()=>{n()},1e3),()=>{clearInterval(r)}},cce=()=>{if(!("performance"in window&&"memory"in performance))return{getDeviceDetails:void 0,getCurrentDeviceDetails:void 0};const t=window.performance;return{getDeviceDetails:()=>({deviceMemory:dce(navigator.deviceMemory||0)}),getCurrentDeviceDetails:()=>{const e=Iw(t.memory.jsHeapSizeLimit),n=Iw(t.memory.totalJSHeapSize),r=Iw(t.memory.usedJSHeapSize);return{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}},Iw=t=>t/Math.pow(1e3,2),dce=t=>1024*t;function hce(t){return"regexValue"in t}function fce(t){return"matchValue"in t}function pce(t){const e=Math.trunc(t);return e===1?!0:e===0?!1:Math.floor(Math.random()*e)===0}class mce{constructor(e=pce){Hn(this,"regexCache",new Map),Hn(this,"config"),this.sampler=e}setConfig(e){this.config=e}isSamplingEnabled(){var e,n,r,i;return!!((n=(e=this.config)==null?void 0:e.logs)!=null&&n.length||(i=(r=this.config)==null?void 0:r.spans)!=null&&i.length)}shouldSample(e){var n,r;return e.name===Gue?this.sampleLog((n=this.config)==null?void 0:n.logs,e):this.sampleSpan((r=this.config)==null?void 0:r.spans,e)}matchesValue(e,n){if(!e)return!1;if(fce(e))return e.matchValue===n;if(hce(e)){const r=e.regexValue;if(r===null)return!1;this.regexCache.has(r)||this.regexCache.set(r,new RegExp(r));const i=this.regexCache.get(r);if(typeof n=="string")return i.test(n)}return!1}matchesAttributes(e,n){if(e)for(const r of e){let i=!1;for(const a of Object.keys(n))if(this.matchesValue(r.key,a)){const s=n[a];if(this.matchesValue(r.attribute,s)){i=!0;break}}if(!i)return!1}return!0}matchEvent(e,n){return!(e.name&&!this.matchesValue(e.name,n.name)||e.attributes&&(!n.attributes||!this.matchesAttributes(e.attributes,n.attributes)))}matchesEvents(e,n){if(e)for(const r of e){let i=!1;for(const a of n)if(this.matchEvent(r,a)){i=!0;break}if(!i)return!1}return!0}matchesSpanConfig(e,n){return!(e.name&&!this.matchesValue(e.name,n.name)||!this.matchesAttributes(e.attributes,n.attributes)||!this.matchesEvents(e.events,n.events))}matchesLogConfig(e,n){if(e.severityText){const r=n[Aue];if(typeof r=="string"&&!this.matchesValue(e.severityText,r))return!1}if(e.message){const r=n[Mue];if(typeof r=="string"&&!this.matchesValue(e.message,r))return!1}return!!this.matchesAttributes(e.attributes,n)}sampleSpan(e,n){if(e){for(const r of e)if(this.matchesSpanConfig(r,n))return{sample:this.sampler(r.samplingRatio),attributes:{[DL]:r.samplingRatio}}}return{sample:!0}}sampleLog(e,n){if(e){for(const r of e)if(this.matchesLogConfig(r,n.attributes))return{sample:this.sampler(r.samplingRatio),attributes:{[DL]:r.samplingRatio}}}return{sample:!0}}}const oZ=()=>{const t={end:()=>{},spanContext:()=>({traceId:"",spanId:"",traceFlags:0}),setAttribute:(e,n)=>t,setAttributes:e=>t,addEvent:(e,n,r)=>t,addLinks:e=>t,setStatus:e=>t,recordException:()=>{},addLink:()=>t,updateName:()=>t,isRecording:()=>!1};return t};var gce=Object.defineProperty,yce=Object.defineProperties,vce=Object.getOwnPropertyDescriptors,tv=Object.getOwnPropertySymbols,mP=Object.prototype.hasOwnProperty,gP=Object.prototype.propertyIsEnumerable,w_=(t,e,n)=>e in t?gce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ht=(t,e)=>{for(var n in e||(e={}))mP.call(e,n)&&w_(t,n,e[n]);if(tv)for(var n of tv(e))gP.call(e,n)&&w_(t,n,e[n]);return t},At=(t,e)=>yce(t,vce(e)),yP=(t,e)=>{var n={};for(var r in t)mP.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&tv)for(var r of tv(t))e.indexOf(r)<0&&gP.call(t,r)&&(n[r]=t[r]);return n},$=(t,e,n)=>w_(t,typeof e!="symbol"?e+"":e,n),ri=(t,e,n)=>new Promise((r,i)=>{var a=l=>{try{o(n.next(l))}catch(u){i(u)}},s=l=>{try{o(n.throw(l))}catch(u){i(u)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,s);o((n=n.apply(t,e)).next())});const bce=(t,e,n)=>{const r=window._highlightWebSocketRequestCallback;window._highlightWebSocketRequestCallback=t;const i=window._highlightWebSocketEventCallback;return window._highlightWebSocketEventCallback=a=>{const s=a,o=yP(s,["message","size"]),l=n.some(u=>a.name.toLowerCase().includes(u))?o:a;e(l)},()=>{window._highlightWebSocketRequestCallback=r,window._highlightWebSocketEventCallback=i}},wce=({xhrCallback:t,fetchCallback:e,webSocketRequestCallback:n,webSocketEventCallback:r,disableWebSocketRecording:i,bodyKeysToRedact:a,highlightEndpoints:s,tracingOrigins:o,urlBlocklist:l,bodyKeysToRecord:u})=>{const c=bse(t,s,o,l,a,u),d=Sse(e,s,o,l,a,u),f=i?()=>{}:bce(n,r,l);return()=>{c(),d(),f()}};class ua{constructor(e){$(this,"disableConsoleRecording"),$(this,"reportConsoleErrors"),$(this,"enablePromisePatch"),$(this,"consoleMethodsToRecord"),$(this,"listeners"),$(this,"errors"),$(this,"messages"),$(this,"options"),$(this,"hasNetworkRecording",!0),$(this,"disableNetworkRecording"),$(this,"enableRecordingNetworkContents"),$(this,"xhrNetworkContents"),$(this,"fetchNetworkContents"),$(this,"disableRecordingWebSocketContents"),$(this,"webSocketNetworkContents"),$(this,"webSocketEventContents"),$(this,"tracingOrigins"),$(this,"networkHeadersToRedact"),$(this,"networkBodyKeysToRedact"),$(this,"networkBodyKeysToRecord"),$(this,"networkHeaderKeysToRecord"),$(this,"lastNetworkRequestTimestamp"),$(this,"urlBlocklist"),$(this,"highlightEndpoints"),$(this,"requestResponseSanitizer");var n,r;this.options=e,this.disableConsoleRecording=!!e.disableConsoleRecording,this.reportConsoleErrors=(n=e.reportConsoleErrors)!=null?n:!1,this.enablePromisePatch=(r=e.enablePromisePatch)!=null?r:!1,this.consoleMethodsToRecord=e.consoleMethodsToRecord||[...fU],this.listeners=[],this.errors=[],this.messages=[],this.lastNetworkRequestTimestamp=0}isListening(){return this.listeners.length>0}startListening(){if(this.isListening())return;const e=this;this.disableConsoleRecording||this.listeners.push(Hee(n=>{var r,i,a;if(this.reportConsoleErrors&&(n.type==="Error"||n.type==="error")&&n.value&&n.trace){const s=il(n.value);if(zI.includes(s)||DI.some(o=>s.includes(o)))return;e.errors.push({event:s,type:"console.error",url:window.location.href,source:(r=n.trace[0])!=null&&r.fileName?n.trace[0].fileName:"",lineNumber:(i=n.trace[0])!=null&&i.lineNumber?n.trace[0].lineNumber:0,columnNumber:(a=n.trace[0])!=null&&a.columnNumber?n.trace[0].columnNumber:0,stackTrace:n.trace,timestamp:new Date().toISOString(),id:Ek()})}e.messages.push(n)},At(ht({},A9),{level:this.consoleMethodsToRecord}))),this.listeners.push(tte(n=>{zI.includes(n.event)||DI.some(r=>n.event.includes(r))||e.errors.push(n)},{enablePromisePatch:this.enablePromisePatch})),this.listeners.push(zue),ua.setupNetworkListener(this,this.options)}stopListening(){this.listeners.forEach(e=>e()),this.listeners=[]}static setupNetworkListener(e,n){var r,i,a,s,o,l,u,c,d,f,p,v;const m=(n==null?void 0:n.backendUrl)||void 0||"https://pub.highlight.io",S=n.otlpEndpoint||"https://otel.highlight.io";e.highlightEndpoints=[m,`${S}/v1/traces`,`${S}/v1/logs`,`${S}/v1/metrics`],e.xhrNetworkContents=[],e.fetchNetworkContents=[],e.webSocketNetworkContents=[],e.webSocketEventContents=[],e.networkHeadersToRedact=[],e.urlBlocklist=[],e.tracingOrigins=n.tracingOrigins||[],(n==null?void 0:n.disableNetworkRecording)!==void 0?(e.disableNetworkRecording=n==null?void 0:n.disableNetworkRecording,e.enableRecordingNetworkContents=!1,e.disableRecordingWebSocketContents=!0,e.networkHeadersToRedact=[],e.networkBodyKeysToRedact=[],e.urlBlocklist=[],e.networkBodyKeysToRecord=[]):typeof(n==null?void 0:n.networkRecording)=="boolean"?(e.disableNetworkRecording=!n.networkRecording,e.enableRecordingNetworkContents=!1,e.disableRecordingWebSocketContents=!0,e.networkHeadersToRedact=[],e.networkBodyKeysToRedact=[],e.urlBlocklist=[]):(((r=n.networkRecording)==null?void 0:r.enabled)!==void 0?e.disableNetworkRecording=!n.networkRecording.enabled:e.disableNetworkRecording=!1,e.enableRecordingNetworkContents=((i=n.networkRecording)==null?void 0:i.recordHeadersAndBody)||!1,e.disableRecordingWebSocketContents=((a=n.networkRecording)==null?void 0:a.disableWebSocketEventRecordings)||!1,e.networkHeadersToRedact=((o=(s=n.networkRecording)==null?void 0:s.networkHeadersToRedact)==null?void 0:o.map(y=>y.toLowerCase()))||[],e.networkBodyKeysToRedact=((u=(l=n.networkRecording)==null?void 0:l.networkBodyKeysToRedact)==null?void 0:u.map(y=>y.toLowerCase()))||[],e.urlBlocklist=((d=(c=n.networkRecording)==null?void 0:c.urlBlocklist)==null?void 0:d.map(y=>y.toLowerCase()))||[],e.urlBlocklist=[...e.urlBlocklist,...kW],e.requestResponseSanitizer=(f=n.networkRecording)==null?void 0:f.requestResponseSanitizer,e.networkHeaderKeysToRecord=(p=n.networkRecording)==null?void 0:p.headerKeysToRecord,e.networkHeaderKeysToRecord&&(e.networkHeadersToRedact=[],e.networkHeaderKeysToRecord=e.networkHeaderKeysToRecord.map(y=>y.toLocaleLowerCase())),e.networkBodyKeysToRecord=(v=n.networkRecording)==null?void 0:v.bodyKeysToRecord,e.networkBodyKeysToRecord&&(e.networkBodyKeysToRedact=[],e.networkBodyKeysToRecord=e.networkBodyKeysToRecord.map(y=>y.toLocaleLowerCase()))),!e.disableNetworkRecording&&e.enableRecordingNetworkContents&&e.listeners.push(wce({xhrCallback:y=>{e.xhrNetworkContents.push(y)},fetchCallback:y=>{e.fetchNetworkContents.push(y)},webSocketRequestCallback:y=>{e.webSocketNetworkContents&&e.webSocketNetworkContents.push(y)},webSocketEventCallback:y=>{e.webSocketEventContents.push(y)},disableWebSocketRecording:e.disableRecordingWebSocketContents,bodyKeysToRedact:e.networkBodyKeysToRedact,highlightEndpoints:e.highlightEndpoints,tracingOrigins:e.tracingOrigins,urlBlocklist:e.urlBlocklist,bodyKeysToRecord:e.networkBodyKeysToRecord}))}static getRecordedNetworkResources(e,n){var r,i;let a=[],s=[];if(!e.disableNetworkRecording){const o=((r=window==null?void 0:window.performance)==null?void 0:r.timeOrigin)||0;a=performance.getEntriesByType("resource");const l=(n-o)*2;if(a=a.filter(u=>u.responseEnd<e.lastNetworkRequestTimestamp?!1:cb(u.name,e.highlightEndpoints)).map(u=>At(ht({},u.toJSON()),{offsetStartTime:u.startTime-l,offsetResponseEnd:u.responseEnd-l,offsetFetchStart:u.fetchStart-l})),e.lastNetworkRequestTimestamp=((i=a.at(-1))==null?void 0:i.responseEnd)||e.lastNetworkRequestTimestamp,e.enableRecordingNetworkContents){const u={headersToRedact:e.networkHeadersToRedact,headersToRecord:e.networkHeaderKeysToRecord,requestResponseSanitizer:e.requestResponseSanitizer};a=vL(a,e.xhrNetworkContents,"xmlhttprequest",u),a=vL(a,e.fetchNetworkContents,"fetch",u)}}return e.disableRecordingWebSocketContents||(s=e.webSocketNetworkContents||[]),[...a,...s]}static getRecordedWebSocketEvents(e){let n=[];return!e.disableNetworkRecording&&!e.disableRecordingWebSocketContents&&(n=e.webSocketEventContents),n}static clearRecordedNetworkResources(e){e.disableNetworkRecording||(e.xhrNetworkContents=[],e.fetchNetworkContents=[],e.webSocketNetworkContents=[],e.webSocketEventContents=[],performance.clearResourceTimings())}}const $d=(t,e)=>{console.warn(`Highlight Warning: (${t}): `,{output:e})};class Pk{constructor(e,n){$(this,"options"),$(this,"isRunningOnHighlight"),$(this,"organizationID"),$(this,"graphqlSDK"),$(this,"events"),$(this,"sessionData"),$(this,"ready"),$(this,"manualStopped"),$(this,"state"),$(this,"logger"),$(this,"enableSegmentIntegration"),$(this,"privacySetting"),$(this,"enableCanvasRecording"),$(this,"enablePerformanceRecording"),$(this,"samplingStrategy"),$(this,"inlineImages"),$(this,"inlineVideos"),$(this,"inlineStylesheet"),$(this,"debugOptions"),$(this,"listeners"),$(this,"firstloadVersion"),$(this,"environment"),$(this,"sessionShortcut"),$(this,"appVersion"),$(this,"serviceName"),$(this,"_worker"),$(this,"_optionsInternal"),$(this,"_backendUrl"),$(this,"_recordingStartTime"),$(this,"_isOnLocalHost"),$(this,"_onToggleFeedbackFormVisibility"),$(this,"_firstLoadListeners"),$(this,"_isCrossOriginIframe"),$(this,"_eventBytesSinceSnapshot"),$(this,"_lastSnapshotTime"),$(this,"_lastVisibilityChangeTime"),$(this,"pushPayloadTimerId"),$(this,"hasSessionUnloaded"),$(this,"hasPushedData"),$(this,"reloaded"),$(this,"_hasPreviouslyInitialized"),$(this,"_recordStop"),$(this,"_gauges",new Map),$(this,"_counters",new Map),$(this,"_histograms",new Map),$(this,"_up_down_counters",new Map),$(this,"_integrations",[]);var r,i,a,s,o;e.sessionSecureID||(e.sessionSecureID=Du()),this.options=e,typeof((r=this.options)==null?void 0:r.debug)=="boolean"?this.debugOptions=this.options.debug?{clientInteractions:!0}:{}:this.debugOptions=(a=(i=this.options)==null?void 0:i.debug)!=null?a:{},this.logger=new HX(this.debugOptions.clientInteractions),e.storageMode&&(this.logger.log(`initializing in ${e.storageMode} session mode`),J$(e.storageMode)),mU(!!(e!=null&&e.sessionCookie)),this._worker=new Aee,this._worker.onmessage=u=>{var c,d,f;((c=u.data.response)==null?void 0:c.type)===na.AsyncEvents?(this._eventBytesSinceSnapshot+=u.data.response.eventsSize,this.logger.log(`Web worker sent payloadID ${u.data.response.id} size ${u.data.response.eventsSize} bytes, compression ratio ${u.data.response.eventsSize/u.data.response.compressedSize}.
                Total since snapshot: ${(this._eventBytesSinceSnapshot/1e6).toFixed(1)}MB`)):((d=u.data.response)==null?void 0:d.type)===na.CustomEvent?this.addCustomEvent(u.data.response.tag,u.data.response.payload):((f=u.data.response)==null?void 0:f.type)===na.Stop&&($d("Stopping recording due to worker failure",u.data.response),this.stopRecording(!1))};let l=Mh();if(this.reloaded=!1,!((s=this.sessionData)!=null&&s.sessionSecureID)&&l!=null&&l.sessionSecureID)this.sessionData=l,this.options.sessionSecureID=l.sessionSecureID,this.reloaded=!0,this.logger.log(`Tab reloaded, continuing previous session: ${this.sessionData.sessionSecureID}`);else{for(const u of Object.values(Tn))Cy(u);this.sessionData={sessionSecureID:this.options.sessionSecureID,projectID:0,sessionStartTime:Date.now()}}this._hasPreviouslyInitialized=!1,this._firstLoadListeners=n||new ua(this.options);try{window.parent.document&&(this._isCrossOriginIframe=!1)}catch{this._isCrossOriginIframe=(o=this.options.recordCrossOriginIframe)!=null?o:!0}this._initMembers(this.options)}static create(e){return new Pk(e)}_reset(e){return ri(this,arguments,function*({forceNew:n,sessionKey:r}){this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0);let i,a;if(!n)try{i=yr(Tn.USER_IDENTIFIER);const s=yr(Tn.USER_OBJECT);s&&(a=JSON.parse(s))}catch{}for(const s of Object.values(Tn))Cy(s);this.sessionData.sessionSecureID=r?Du(`${this.organizationID}-${r}`):Du(),this.sessionData.sessionKey=r,this.sessionData.sessionStartTime=Date.now(),this.options.sessionSecureID=this.sessionData.sessionSecureID,this.stopRecording(),this._firstLoadListeners=new ua(this.options),yield this.initialize(),i&&a&&this.identify(i,a)})}_initMembers(e){var n,r,i,a,s,o,l,u,c,d;this.sessionShortcut=!1,this._recordingStartTime=0,this._isOnLocalHost=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="",this.ready=!1,this.state="NotRecording",this.manualStopped=!1,this.enableSegmentIntegration=!!e.enableSegmentIntegration,this.privacySetting=(n=e.privacySetting)!=null?n:"default",this.enableCanvasRecording=(r=e.enableCanvasRecording)!=null?r:!1,this.enablePerformanceRecording=(i=e.enablePerformanceRecording)!=null?i:!0,this.inlineImages=(a=e.inlineImages)!=null?a:this._isOnLocalHost,this.inlineVideos=(s=e.inlineVideos)!=null?s:this._isOnLocalHost,this.inlineStylesheet=(o=e.inlineStylesheet)!=null?o:this._isOnLocalHost,this.samplingStrategy=ht({canvasFactor:.5,canvasMaxSnapshotDimension:360,canvasClearWebGLBuffer:!0,dataUrlOptions:M$()},(l=e.samplingStrategy)!=null?l:{canvas:2}),this._backendUrl=(u=e==null?void 0:e.backendUrl)!=null?u:"https://pub.highlight.io",this._backendUrl[0]==="/"&&(this._backendUrl=new URL(this._backendUrl,document.baseURI).href);const f=new h$(`${this._backendUrl}`,{headers:{}});this.graphqlSDK=Z$(f,rK()),this.environment=(c=e.environment)!=null?c:"production",this.appVersion=e.appVersion,this.serviceName=(d=e.serviceName)!=null?d:"",typeof e.organizationID=="string"?this.organizationID=e.organizationID:this.organizationID=e.organizationID.toString(),this.isRunningOnHighlight=this.organizationID==="1"||this.organizationID==="1jdkoe52",this.firstloadVersion=e.firstloadVersion||"unknown",this.sessionShortcut=e.sessionShortcut||!1,this._onToggleFeedbackFormVisibility=()=>{};const p=e,v=yP(p,["firstloadVersion"]);this._optionsInternal=v,this.listeners=[],this.events=[],this.hasSessionUnloaded=!1,this.hasPushedData=!1,window.Intercom&&window.Intercom("onShow",()=>{window.Intercom("update",{highlightSessionURL:this.getCurrentSessionURLWithTimestamp()}),this.addProperties({event:"Intercom onShow"})}),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=new Date().getTime(),this._lastVisibilityChangeTime=new Date().getTime()}identify(e,n={},r){if(!e||e===""){console.warn("Highlight's identify() call was passed an empty identifier.",{user_identifier:e,user_object:n});return}this.sessionData.userIdentifier=e.toString(),this.sessionData.userObject=n,ka(Tn.USER_IDENTIFIER,e.toString()),ka(Tn.USER_OBJECT,JSON.stringify(n)),this._worker.postMessage({message:{type:na.Identify,userIdentifier:e,userObject:n,source:r}});for(const i of this._integrations)i.identify(this.sessionData.sessionSecureID,e,n,r)}log(e,n,r){this._firstLoadListeners.messages.push(M9(n,A9,e,r))}pushCustomError(e,n){return this.consumeCustomError(new Error(e),void 0,n)}consumeCustomError(e,n,r){let i={};if(r)try{i=ht(ht({},JSON.parse(r)),i)}catch{}return this.consumeError(e,{message:n,payload:i})}consumeError(e,{message:n,payload:r,source:i,type:a}){var s,o,l,u;e.cause&&(r=At(ht({},r),{"exception.cause":e.cause}));let c=n?n+":"+e.message:e.message;a==="React.ErrorBoundary"&&(c="ErrorBoundary: "+c);const d=sb(e),f={event:c,type:a??"custom",url:window.location.href,source:i??"",lineNumber:(s=d[0])!=null&&s.lineNumber?(o=d[0])==null?void 0:o.lineNumber:0,columnNumber:(l=d[0])!=null&&l.columnNumber?(u=d[0])==null?void 0:u.columnNumber:0,stackTrace:d,timestamp:new Date().toISOString(),payload:JSON.stringify(r),id:Ek()};this._firstLoadListeners.errors.push(f);for(const p of this._integrations)p.error(this.sessionData.sessionSecureID,f)}addProperties(e={},n){const r=ht({},e);Object.entries(r).forEach(([i,a])=>{try{structuredClone(a)}catch{delete r[i]}}),this._worker.postMessage({message:{type:na.Properties,propertiesObject:r,propertyType:n}});for(const i of this._integrations)i.track(this.sessionData.sessionSecureID,ht({sessionSecureID:this.sessionData.sessionSecureID,propertyType:n},e))}initialize(e){return ri(this,null,function*(){var n,r,i,a,s,o,l,u,c,d,f,p,v,m,S,y,g,b,w,E,_,C,k,x,T;if(navigator!=null&&navigator.webdriver&&!window.Cypress||(n=navigator==null?void 0:navigator.userAgent)!=null&&n.includes("Googlebot")||(r=navigator==null?void 0:navigator.userAgent)!=null&&r.includes("AdsBot")){(i=this._firstLoadListeners)==null||i.stopListening();return}try{if(e!=null&&e.forceNew){yield this._reset(e);return}if(e!=null&&e.sessionKey&&(e==null?void 0:e.sessionKey)!==this.sessionData.sessionKey){yield this._reset(At(ht({},e),{forceNew:!0}));return}const A=new mce;Xue({backendUrl:(s=(a=this.options)==null?void 0:a.backendUrl)!=null?s:"https://pub.highlight.io",otlpEndpoint:(l=(o=this.options)==null?void 0:o.otlpEndpoint)!=null?l:"https://otel.highlight.io",projectId:(u=this.options)==null?void 0:u.organizationID,sessionSecureId:(c=this.options)==null?void 0:c.sessionSecureID,environment:(f=(d=this.options)==null?void 0:d.environment)!=null?f:"production",networkRecordingOptions:typeof((p=this.options)==null?void 0:p.networkRecording)=="object"?this.options.networkRecording:void 0,tracingOrigins:(v=this.options)==null?void 0:v.tracingOrigins,serviceName:(S=(m=this.options)==null?void 0:m.serviceName)!=null?S:"highlight-browser",instrumentations:(g=(y=this.options)==null?void 0:y.otel)==null?void 0:g.instrumentations,eventNames:(w=(b=this.options)==null?void 0:b.otel)==null?void 0:w.eventNames,getIntegrations:()=>[...this._integrations]},A),this.logger.log("Initializing...",e,this.sessionData,this.options),this.sessionData=(E=Mh(this.sessionData.sessionSecureID))!=null?E:this.sessionData,(_=this.sessionData)!=null&&_.sessionStartTime?this._recordingStartTime=(C=this.sessionData)==null?void 0:C.sessionStartTime:(this._recordingStartTime=new Date().getTime(),this.sessionData.sessionStartTime=this._recordingStartTime),n0(""),hu(this.sessionData);let M=yr(px.CLIENT_ID);M||(M=Du(),ka(px.CLIENT_ID,M));let z;this.options.disableSessionRecording||this.options.disableNetworkRecording!==void 0||typeof this.options.networkRecording=="boolean"?z=!1:z=((k=this.options.networkRecording)==null?void 0:k.recordHeadersAndBody)||!1;let N=[];if(typeof this.options.networkRecording=="object"&&(x=this.options.networkRecording.destinationDomains)!=null&&x.length&&(N=this.options.networkRecording.destinationDomains),this._isCrossOriginIframe)yield this._setupCrossOriginIframe();else{const V=yield this.graphqlSDK.initializeSession({organization_verbose_id:this.organizationID,enable_strict_privacy:this.privacySetting==="strict",privacy_setting:this.privacySetting,enable_recording_network_contents:z,clientVersion:this.firstloadVersion,firstloadVersion:this.firstloadVersion,clientConfig:JSON.stringify(this._optionsInternal),environment:this.environment,id:M,appVersion:this.appVersion,serviceName:this.serviceName,session_secure_id:this.sessionData.sessionSecureID,session_key:this.sessionData.sessionKey,client_id:M,network_recording_domains:N,disable_session_recording:this.options.disableSessionRecording});if(V.initializeSession.secure_id!==this.sessionData.sessionSecureID&&this.logger.log(`Unexpected secure id returned by initializeSession: ${V.initializeSession.secure_id}, expected ${this.sessionData.sessionSecureID}`),this.sessionData.sessionSecureID=V.initializeSession.secure_id,this.sessionData.projectID=parseInt(((T=V==null?void 0:V.initializeSession)==null?void 0:T.project_id)||"0"),A.setConfig(V.initializeSession.sampling),!this.sessionData.projectID||!this.sessionData.sessionSecureID){console.error("Failed to initialize Highlight; an error occurred on our end.",this.sessionData);return}}this.logger.log(`Loaded Highlight
Remote: ${this._backendUrl}
Project ID: ${this.sessionData.projectID}
SessionSecureID: ${this.sessionData.sessionSecureID}`),this.options.sessionSecureID=this.sessionData.sessionSecureID,this._worker.postMessage({message:{type:na.Initialize,sessionSecureID:this.sessionData.sessionSecureID,backend:this._backendUrl,debug:!!this.debugOptions.clientInteractions,recordingStartTime:this._recordingStartTime}});for(const V of this._integrations)V.init(this.sessionData.sessionSecureID);if(this.sessionData.userIdentifier&&this.identify(this.sessionData.userIdentifier,this.sessionData.userObject),this._firstLoadListeners.isListening()?this._firstLoadListeners.hasNetworkRecording||ua.setupNetworkListener(this._firstLoadListeners,this.options):this._firstLoadListeners.startListening(),this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this._isCrossOriginIframe||(this.pushPayloadTimerId=setTimeout(()=>{this._save()},mO)),this.options.disableSessionRecording){this.logger.log("Highlight is NOT RECORDING a session replay per H.init setting."),this.ready=!0,this.state="Recording",this.manualStopped=!1;return}const{getDeviceDetails:I}=cce();I&&this.recordGauge({name:Co.DeviceMemory,value:I().deviceMemory,category:Cr.Device,group:window.location.href});const O=(V,P)=>{P&&this.logger.log("received isCheckout emit",{event:V}),this.events.push(V)};O.bind(this);const X=!!this._recordStop;this._recordStop&&(this._recordStop(),this._recordStop=void 0);const[L,G]=ree(this.privacySetting);this._recordStop=Ta({ignoreClass:"highlight-ignore",blockClass:"highlight-block",emit:O,recordCrossOriginIframes:this.options.recordCrossOriginIframe,privacySetting:this.privacySetting,maskAllInputs:L,maskInputOptions:G,recordCanvas:this.enableCanvasRecording,sampling:{canvas:{fps:this.samplingStrategy.canvas,fpsManual:this.samplingStrategy.canvasManualSnapshot,resizeFactor:this.samplingStrategy.canvasFactor,clearWebGLBuffer:this.samplingStrategy.canvasClearWebGLBuffer,initialSnapshotDelay:this.samplingStrategy.canvasInitialSnapshotDelay,dataURLOptions:this.samplingStrategy.dataUrlOptions,maxSnapshotDimension:this.samplingStrategy.canvasMaxSnapshotDimension}},keepIframeSrcFn:V=>!this.options.recordCrossOriginIframe,inlineImages:this.inlineImages,inlineVideos:this.inlineVideos,collectFonts:this.inlineImages,inlineStylesheet:this.inlineStylesheet,plugins:[NK()],logger:typeof this.options.debug=="boolean"&&this.options.debug||typeof this.options.debug=="object"&&this.options.debug.domRecording?{debug:this.logger.log,warn:$d}:void 0}),X||this.options.recordCrossOriginIframe&&this._setupCrossOriginIframeParent(),document.referrer&&(window&&document.referrer.includes(window.location.origin)||(this.addCustomEvent("Referrer",document.referrer),this.addProperties({referrer:document.referrer},{type:"session"}))),this.sessionData.sessionKey&&this.addProperties({sessionKey:this.sessionData.sessionKey},{type:"session"}),this._setupWindowListeners(),this.ready=!0,this.state="Recording",this.manualStopped=!1}catch(A){this._isOnLocalHost&&(console.error(A),$d("initializeSession",A))}})}_visibilityHandler(e){return ri(this,null,function*(){if(this.manualStopped){this.logger.log("Ignoring visibility event due to manual stop.");return}new Date().getTime()-this._lastVisibilityChangeTime<B$||(this._lastVisibilityChangeTime=new Date().getTime(),this.logger.log(`Detected window ${e?"hidden":"visible"}.`),e?(this.addCustomEvent("TabHidden",!0),this.options.disableBackgroundRecording&&this.stopRecording()):(this.options.disableBackgroundRecording&&(yield this.initialize()),this.addCustomEvent("TabHidden",!1)))})}_setupCrossOriginIframe(){return ri(this,null,function*(){this.logger.log("highlight in cross-origin iframe is waiting "),yield new Promise(e=>{const n=r=>{if(r.data.highlight===OI){const i=r.data;this.logger.log("highlight got window message ",i),this.sessionData.projectID=i.projectID,this.sessionData.sessionSecureID=i.sessionSecureID,window.parent.postMessage({highlight:II},"*"),window.removeEventListener("message",n),e()}};window.addEventListener("message",n)})})}_setupCrossOriginIframeParent(){this.logger.log("highlight setting up cross origin iframe parent notification"),setInterval(()=>{window.document.querySelectorAll("iframe").forEach(e=>{var n;(n=e.contentWindow)==null||n.postMessage({highlight:OI,projectID:this.sessionData.projectID,sessionSecureID:this.sessionData.sessionSecureID},"*")})},mO),window.addEventListener("message",e=>{e.data.highlight===II&&this.logger.log("highlight got response from initialized iframe")})}_setupWindowListeners(){var e;try{const r=this;this.enableSegmentIntegration&&this.listeners.push(oee(a=>{if(a.type==="track"){const s={};s["segment-event"]=a.event,r.addProperties(s,{type:"track",source:"segment"})}else if(a.type==="identify"){const s=a.userId.replace(/^"(.*)"$/,"$1");r.identify(s,a.traits,"segment")}})),this.listeners.push(nee(a=>{this.reloaded?(this.addCustomEvent("Reload",a),this.reloaded=!1,r.addProperties({reload:!0},{type:"session"})):this.addCustomEvent("Navigate",a)})),this.listeners.push(bK(a=>{this.addCustomEvent("Viewport",a),this.submitViewportMetrics(a)})),this.listeners.push(iee((a,s)=>{let o=null,l=null;if(s&&s.target){const u=s.target;o=CU(u),l=u.textContent,l&&l.length>2e3&&(l=l.substring(0,2e3))}this.addCustomEvent("Click",{clickTarget:a,clickTextContent:l,clickSelector:o})})),this.listeners.push(aee(a=>{a&&this.addCustomEvent("Focus",a)})),this.listeners.push(lce(a=>{const{name:s,value:o}=a;this.recordGauge({name:s,value:o,group:window.location.href,category:Cr.WebVital})})),this.listeners.push(uce(a=>{const s=[];a.saveData!==void 0&&s.push({name:"saveData",value:a.saveData.toString()}),a.effectiveType!==void 0&&s.push({name:"effectiveType",value:a.effectiveType.toString()}),a.type!==void 0&&s.push({name:"type",value:a.type.toString()}),Object.entries(a).forEach(([o,l])=>l&&typeof l=="number"&&this.recordGauge({name:o,value:l,category:Cr.Performance,group:window.location.href,tags:s}))},this._recordingStartTime)),this.sessionShortcut&&uee(this.sessionShortcut,()=>{window.open(this.getCurrentSessionURLWithTimestamp(),"_blank")}),this.enablePerformanceRecording&&(this.listeners.push($ue(a=>{this.addCustomEvent("Performance",il(a)),Object.entries(a).filter(([s])=>s!=="relativeTimestamp").forEach(([s,o])=>o&&this.recordGauge({name:s,value:o,category:Cr.Performance,group:window.location.href}))},this._recordingStartTime)),this.listeners.push(Yue(a=>{this.addCustomEvent("Jank",il(a)),this.recordGauge({name:"Jank",value:a.jankAmount,category:Cr.WebVital,group:a.querySelector})},this._recordingStartTime))),this._hasPreviouslyInitialized||((e=window.electron)!=null&&e.ipcRenderer?(window.electron.ipcRenderer.on("highlight.run",({visible:a})=>{this._visibilityHandler(!a)}),this.logger.log("Set up Electron highlight.run events.")):(see(a=>this._visibilityHandler(a)),this.logger.log("Set up document visibility listener.")),this._hasPreviouslyInitialized=!0);const i=()=>{this.hasSessionUnloaded=!0,this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0)};window.addEventListener("beforeunload",i),this.listeners.push(()=>window.removeEventListener("beforeunload",i))}catch(r){this._isOnLocalHost&&(console.error(r),$d("initializeSession _setupWindowListeners",r))}const n=()=>{this.addCustomEvent("Page Unload",""),n0(this.sessionData.sessionSecureID),hu(this.sessionData)};if(window.addEventListener("beforeunload",n),this.listeners.push(()=>window.removeEventListener("beforeunload",n)),navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)){const r=()=>{this.addCustomEvent("Page Unload",""),n0(this.sessionData.sessionSecureID),hu(this.sessionData)};window.addEventListener("pagehide",r),this.listeners.push(()=>window.removeEventListener("beforeunload",r))}}submitViewportMetrics({height:e,width:n,availHeight:r,availWidth:i}){this.recordGauge({name:Co.ViewportHeight,value:e,category:Cr.Device,group:window.location.href}),this.recordGauge({name:Co.ViewportWidth,value:n,category:Cr.Device,group:window.location.href}),this.recordGauge({name:Co.ScreenHeight,value:r,category:Cr.Device,group:window.location.href}),this.recordGauge({name:Co.ScreenWidth,value:i,category:Cr.Device,group:window.location.href}),this.recordGauge({name:Co.ViewportArea,value:e*n,category:Cr.Device,group:window.location.href})}recordGauge(e){var n;const r=Mi.getMeter(lg);let i=this._gauges.get(e.name);i||(i=r.createGauge(e.name),this._gauges.set(e.name,i)),i.record(e.value,At(ht({},(n=e.tags)==null?void 0:n.reduce((a,s)=>At(ht({},a),{[s.name]:s.value}),{})),{group:e.group,category:e.category,"highlight.session_id":this.sessionData.sessionSecureID}));for(const a of this._integrations)a.recordGauge(this.sessionData.sessionSecureID,e)}recordCount(e){var n;const r=Mi.getMeter(lg);let i=this._counters.get(e.name);i||(i=r.createCounter(e.name),this._counters.set(e.name,i)),i.add(e.value,At(ht({},(n=e.tags)==null?void 0:n.reduce((a,s)=>At(ht({},a),{[s.name]:s.value}),{})),{group:e.group,category:e.category,"highlight.session_id":this.sessionData.sessionSecureID}))}recordIncr(e){this.recordCount(At(ht({},e),{value:1}))}recordHistogram(e){var n;const r=Mi.getMeter(lg);let i=this._histograms.get(e.name);i||(i=r.createHistogram(e.name),this._histograms.set(e.name,i)),i.record(e.value,At(ht({},(n=e.tags)==null?void 0:n.reduce((a,s)=>At(ht({},a),{[s.name]:s.value}),{})),{group:e.group,category:e.category,"highlight.session_id":this.sessionData.sessionSecureID}))}recordUpDownCounter(e){var n;const r=Mi.getMeter(lg);let i=this._up_down_counters.get(e.name);i||(i=r.createUpDownCounter(e.name),this._up_down_counters.set(e.name,i)),i.add(e.value,At(ht({},(n=e.tags)==null?void 0:n.reduce((a,s)=>At(ht({},a),{[s.name]:s.value}),{})),{group:e.group,category:e.category,"highlight.session_id":this.sessionData.sessionSecureID}))}stopRecording(e){this.manualStopped=!!e,this.manualStopped&&this.addCustomEvent("Stop","H.stop() was called which stops Highlight from recording."),this.state="NotRecording",e&&this._recordStop&&(this._recordStop(),this._recordStop=void 0),this.listeners.forEach(n=>n()),this.listeners=[]}getCurrentSessionTimestamp(){return this._recordingStartTime}getCurrentSessionURLWithTimestamp(){const e=new Date().getTime(),{projectID:n,sessionSecureID:r}=this.sessionData,i=(e-this._recordingStartTime)/1e3;return`https://${hx}/${n}/sessions/${r}?ts=${i}`}getCurrentSessionURL(){const e=this.sessionData.projectID,n=this.sessionData.sessionSecureID;return e&&n?`https://${hx}/${e}/sessions/${n}`:null}snapshot(e){return ri(this,null,function*(){yield Ta.snapshotCanvas(e)})}addSessionFeedback({timestamp:e,verbatim:n,user_email:r,user_name:i}){var a;this._worker.postMessage({message:{type:na.Feedback,verbatim:n,timestamp:e,userName:i||this.sessionData.userIdentifier,userEmail:r||((a=this.sessionData.userObject)==null?void 0:a.name)}})}_save(){return ri(this,null,function*(){var e;try{this.state==="Recording"&&this.listeners&&!this.sessionData.sessionKey&&this.sessionData.sessionStartTime&&Date.now()-this.sessionData.sessionStartTime>j$&&(this.logger.log("Resetting session",{start:this.sessionData.sessionStartTime}),yield this._reset({}));let n;((e=this.options)==null?void 0:e.sendMode)==="local"&&(n=r=>ri(this,null,function*(){let i=new Blob([JSON.stringify({query:oU(hU),variables:r})],{type:"application/json"});return yield window.fetch(`${this._backendUrl}`,{method:"POST",body:i}),0})),yield this._sendPayload({sendFn:n}),this.hasPushedData=!0,this.sessionData.lastPushTime=Date.now(),hu(this.sessionData)}catch(n){this._isOnLocalHost&&(console.error(n),$d("_save",n))}this.state==="Recording"&&(this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this.pushPayloadTimerId=setTimeout(()=>{this._save()},D$))})}addCustomEvent(e,n){if(this.state==="NotRecording"){let r;const i=()=>{clearInterval(r),this.state==="Recording"&&this.events.length>0?TI(e,n):r=setTimeout(i,500)};r=setTimeout(i,500)}else this.state==="Recording"&&(this.events.length>0||this.hasPushedData)&&TI(e,n)}_sendPayload(e){return ri(this,arguments,function*({sendFn:n}){const r=ua.getRecordedNetworkResources(this._firstLoadListeners,this._recordingStartTime),i=ua.getRecordedWebSocketEvents(this._firstLoadListeners),a=[...this.events],s=[...this._firstLoadListeners.messages],o=[...this._firstLoadListeners.errors],{bytes:l,time:u}=this.enableCanvasRecording?gO.canvas:gO.normal;this._eventBytesSinceSnapshot>=l&&new Date().getTime()-this._lastSnapshotTime>=u&&this.takeFullSnapshot(),this.logger.log(`Sending: ${a.length} events, ${s.length} messages, ${r.length} network resources, ${o.length} errors 
To: ${this._backendUrl}
Org: ${this.organizationID}
SessionSecureID: ${this.sessionData.sessionSecureID}`);const c=new Date().getTime(),d=vee();if(n){const f={session_secure_id:this.sessionData.sessionSecureID,payload_id:c.toString(),events:{events:a},messages:il({messages:s}),resources:JSON.stringify({resources:r}),web_socket_events:JSON.stringify({webSocketEvents:i}),errors:o,is_beacon:!1,has_session_unloaded:this.hasSessionUnloaded,highlight_logs:d||void 0},{compressedBase64:p}=yield Vee(f);yield n({session_secure_id:this.sessionData.sessionSecureID,payload_id:new Date().getTime().toString(),data:p})}else this._worker.postMessage({message:{type:na.AsyncEvents,id:c,events:a,messages:s,errors:o,resourcesString:JSON.stringify({resources:r}),webSocketEventsString:JSON.stringify({webSocketEvents:i}),hasSessionUnloaded:this.hasSessionUnloaded,highlightLogs:d}});hu(this.sessionData),ua.clearRecordedNetworkResources(this._firstLoadListeners),this.events=this.events.slice(a.length),this._firstLoadListeners.messages=this._firstLoadListeners.messages.slice(s.length),this._firstLoadListeners.errors=this._firstLoadListeners.errors.slice(o.length),bee(d)})}takeFullSnapshot(){if(!this._recordStop){this.logger.log("skipping full snapshot as rrweb is not running");return}this.logger.log("taking full snapshot",{bytesSinceSnapshot:this._eventBytesSinceSnapshot,lastSnapshotTime:this._lastSnapshotTime}),Ta.takeFullSnapshot(),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=new Date().getTime()}registerLD(e){this._integrations.length||this._integrations.push(new EU(e))}}const Sce=()=>{var t,e;typeof chrome<"u"&&(t=chrome==null?void 0:chrome.runtime)!=null&&t.onMessage&&((e=chrome==null?void 0:chrome.runtime)==null||e.onMessage.addListener((n,r,i)=>{const a=n.action;switch(console.log(`[highlight] received '${a}' event from extension.`),a){case"init":{Ge.init(1,{debug:!0}),Ge.getSessionURL().then(s=>{i({url:s})});break}case"stop":{Ge.stop(),i({success:!0});break}}return!0}))},vP=()=>{if(typeof window<"u"){if(typeof window._highlightFetchPatch<"u")return;window._originalFetch=window.fetch,window._fetchProxy=(t,e)=>window._originalFetch(t,e),window._highlightFetchPatch=(t,e)=>window._fetchProxy.call(window||global,t,e),window.fetch=window._highlightFetchPatch}},lZ=()=>null,bP=()=>{if(typeof window<"u"){if(typeof window._highlightWebSocketRequestCallback<"u")return;window._highlightWebSocketRequestCallback=lZ,window._highlightWebSocketEventCallback=lZ;const t=new Proxy(window.WebSocket,{construct(e,n){const[,r]=Vk(),i=new e(...n),a=c=>{window._highlightWebSocketRequestCallback({socketId:r,initiatorType:"websocket",type:"open",name:i.url,startTimeAbs:performance.timeOrigin+c.timeStamp})},s=c=>{window._highlightWebSocketRequestCallback({socketId:r,initiatorType:"websocket",type:"close",name:i.url,responseEndAbs:performance.timeOrigin+c.timeStamp}),i.removeEventListener("open",a),i.removeEventListener("error",l),i.removeEventListener("message",o),i.removeEventListener("close",s)},o=c=>{const{data:d}=c,f=typeof d=="string"?c.data:void 0;let p;typeof d=="string"?p=d.length:d instanceof Blob?p=d.size:p=d.byteLength||0,window._highlightWebSocketEventCallback({socketId:r,type:"received",name:i.url,timeStamp:performance.timeOrigin+c.timeStamp,size:p,message:f})},l=c=>{window._highlightWebSocketEventCallback({socketId:r,type:"error",name:i.url,timeStamp:performance.timeOrigin+c.timeStamp,size:0})};i.addEventListener("open",a),i.addEventListener("error",l),i.addEventListener("message",o),i.addEventListener("close",s);const u=new Proxy(i.send,{apply:function(c,d,f){const p=f[0],v=typeof p=="string"?p:void 0;let m;typeof p=="string"?m=p.length:p instanceof Blob?m=p.size:m=p.byteLength||0,window._highlightWebSocketEventCallback({socketId:r,type:"sent",name:i.url,timeStamp:performance.timeOrigin+performance.now(),size:m,message:v}),c.apply(d,f)}});return i.send=u,i}});window.WebSocket=t}},wn=(t,e)=>{console.warn(`highlight.run warning: (${t}): `,e)},Ece=200;let cg=[],Lw,Se,dg,uZ=[],cZ=!1;const Ge={options:void 0,init:(t,e)=>{var n,r,i,a,s,o,l,u;try{if(Ge.options=e,typeof window>"u"||typeof document>"u")return;if(!t){console.info("Highlight is not initializing because projectID was passed undefined.");return}e!=null&&e.sessionCookie?q$():mU(!1);const c=Mh();let d=Du();if(e!=null&&e.sessionKey?d=Du(`${t}-${e.sessionKey}`):c!=null&&c.sessionSecureID&&(d=c.sessionSecureID),cZ)return{sessionSecureID:d};cZ=!0,vP(),bP();const f=At(ht({},e),{organizationID:t,firstloadVersion:xU,environment:(e==null?void 0:e.environment)||"production",appVersion:e==null?void 0:e.version,sessionSecureID:d});return Se=Se??new Pk(f,dg),e!=null&&e.manualStart||Se.initialize(),dg=new ua(f),e!=null&&e.manualStart||dg.startListening(),!((r=(n=e==null?void 0:e.integrations)==null?void 0:n.mixpanel)!=null&&r.disabled)&&(a=(i=e==null?void 0:e.integrations)==null?void 0:i.mixpanel)!=null&&a.projectToken&&Xee(e.integrations.mixpanel),!((o=(s=e==null?void 0:e.integrations)==null?void 0:s.amplitude)!=null&&o.disabled)&&(u=(l=e==null?void 0:e.integrations)==null?void 0:l.amplitude)!=null&&u.apiKey&&Mee(e.integrations.amplitude),{sessionSecureID:d}}catch(c){wn("init",c)}},snapshot:t=>ri(void 0,null,function*(){try{if(Se&&Se.ready)return yield Se.snapshot(t)}catch(e){wn("snapshot",e)}}),addSessionFeedback:({verbatim:t,userName:e,userEmail:n,timestampOverride:r})=>{try{Ge.onHighlightReady(()=>Se.addSessionFeedback({verbatim:t,timestamp:r||new Date().toISOString(),user_email:n,user_name:e}))}catch(i){wn("error",i)}},consumeError:(t,e,n)=>{try{Ge.onHighlightReady(()=>Se.consumeCustomError(t,e,JSON.stringify(n)))}catch(r){wn("error",r)}},consume:(t,e)=>{try{Ge.onHighlightReady(()=>Se.consumeError(t,e))}catch(n){wn("error",n)}},error:(t,e)=>{try{Ge.onHighlightReady(()=>Se.pushCustomError(t,JSON.stringify(e)))}catch(n){wn("error",n)}},track:(t,e={})=>{var n,r,i,a,s,o,l,u,c,d,f;try{Ge.onHighlightReady(()=>{Se.addProperties(At(ht({},e),{event:t})),Se.log("H.track","INFO",At(ht({},e??{}),{event:t}))});const p=Se==null?void 0:Se.getCurrentSessionURL();(i=(r=(n=Ge.options)==null?void 0:n.integrations)==null?void 0:r.mixpanel)!=null&&i.disabled||(a=window.mixpanel)!=null&&a.track&&window.mixpanel.track(t,At(ht({},e),{highlightSessionURL:p})),(l=(o=(s=Ge.options)==null?void 0:s.integrations)==null?void 0:o.amplitude)!=null&&l.disabled||(u=window.amplitude)!=null&&u.getInstance&&window.amplitude.getInstance().logEvent(t,At(ht({},e),{highlightSessionURL:p})),(f=(d=(c=Ge.options)==null?void 0:c.integrations)==null?void 0:d.intercom)!=null&&f.disabled||window.Intercom&&window.Intercom("trackEvent",t,e)}catch(p){wn("track",p)}},log:(t,e,n)=>{try{Ge.onHighlightReady(()=>Se.log(t,e,n??{}))}catch(r){wn("log",r)}},start:t=>{(Se==null?void 0:Se.state)==="Recording"&&!(t!=null&&t.forceNew)?t!=null&&t.silent||console.warn("Highlight is already recording. Please `H.stop()` the current session before starting a new one."):(dg.startListening(),Ge.onHighlightReady(()=>ri(void 0,null,function*(){yield Se.initialize(t)}),{waitForReady:!1}))},stop:t=>{(Se==null?void 0:Se.state)!=="Recording"?t!=null&&t.silent||console.warn("Highlight is already stopped. Please call `H.start()`."):Ge.onHighlightReady(()=>Se.stopRecording(!0))},identify:(t,e={},n)=>{var r,i,a,s,o,l,u,c;try{Ge.onHighlightReady(()=>Se.identify(t,e,n))}catch(d){wn("identify",d)}if((a=(i=(r=Ge.options)==null?void 0:r.integrations)==null?void 0:i.mixpanel)!=null&&a.disabled||(s=window.mixpanel)!=null&&s.identify&&(window.mixpanel.identify(typeof(e==null?void 0:e.email)=="string"?e==null?void 0:e.email:t),e&&(window.mixpanel.track("identify",e),window.mixpanel.people.set(e))),!((u=(l=(o=Ge.options)==null?void 0:o.integrations)==null?void 0:l.amplitude)!=null&&u.disabled)&&(c=window.amplitude)!=null&&c.getInstance&&(window.amplitude.getInstance().setUserId(t),Object.keys(e).length>0)){const d=Object.keys(e).reduce((f,p)=>(f.set(p,e[p]),f),new window.amplitude.Identify);window.amplitude.getInstance().identify(d)}},metrics:t=>{try{for(const e of t)Ge.recordMetric(e)}catch(e){wn("metrics",e)}},recordMetric:t=>{try{Ge.onHighlightReady(()=>{var e;Se.recordGauge(At(ht({},t),{tags:(e=t.tags)!=null?e:[],group:window.location.href,category:"Frontend"}))})}catch(e){wn("recordMetric",e)}},recordCount:t=>{try{Ge.onHighlightReady(()=>{Se.recordCount(t)})}catch(e){wn("recordCount",e)}},recordIncr:t=>{try{Ge.onHighlightReady(()=>{Se.recordIncr(t)})}catch(e){wn("recordIncr",e)}},recordHistogram:t=>{try{Ge.onHighlightReady(()=>{Se.recordHistogram(t)})}catch(e){wn("recordHistogram",e)}},recordUpDownCounter:t=>{try{Ge.onHighlightReady(()=>{Se.recordUpDownCounter(t)})}catch(e){wn("recordUpDownCounter",e)}},startSpan:(t,e,n,r)=>{const i=jL();if(!i){const s=oZ();return r===void 0&&n===void 0?e(s):r===void 0?n(s):r(s)}const a=(s,o)=>{const l=o(s);return l instanceof Promise?l.finally(()=>s.end()):(s.end(),l)};return r===void 0&&n===void 0?i.startActiveSpan(t,s=>a(s,e)):r===void 0?i.startActiveSpan(t,e,s=>a(s,n)):i.startActiveSpan(t,e,n,s=>a(s,r))},startManualSpan:(t,e,n,r)=>{const i=jL();if(!i){const a=oZ();return r===void 0&&n===void 0?e(a):r===void 0?n(a):r(a)}return r===void 0&&n===void 0?i.startActiveSpan(t,e):r===void 0?i.startActiveSpan(t,e,n):i.startActiveSpan(t,e,n,r)},getSessionURL:()=>new Promise((t,e)=>{Ge.onHighlightReady(()=>{const n=Se.sessionData.sessionSecureID,r=Mh(n);r?t(`https://${hx}/${r.projectID}/sessions/${n}`):e(new Error(`Unable to get session URL: ${n}`))})}),getSessionDetails:()=>new Promise((t,e)=>{Ge.onHighlightReady(()=>ri(void 0,null,function*(){try{const n=yield Ge.getSessionURL();if(!n)throw new Error("Could not get session URL");const r=Se.sessionData.sessionSecureID,i=Mh(r),a=i==null?void 0:i.sessionStartTime;if(!a)throw new Error("Could not get session start timestamp");const s=new Date().getTime(),o=new URL(n),l=new URL(n);l.searchParams.set("ts",((s-a)/1e3).toString()),t({url:o.toString(),urlWithTimestamp:l.toString(),sessionSecureID:r})}catch(n){e(n)}}))}),getRecordingState:()=>{var t;return(t=Se==null?void 0:Se.state)!=null?t:"NotRecording"},onHighlightReady:(t,e)=>{if(Se&&Se.ready){t();return}if(cg.push({options:e,func:t}),Lw!==void 0)return;const n=()=>{cg=cg.filter(r=>{var i;return!Se||((i=r.options)==null?void 0:i.waitForReady)!==!1&&!Se.ready?!0:(r.func(),!1)}),Lw=void 0,cg.length>0&&(Lw=setTimeout(n,Ece))};n()},registerLD(t){uZ.length||(Ge.onHighlightReady(()=>{Se.registerLD(t)}),pK(this,t,Ge.options),uZ.push(new EU(t)))}};typeof window<"u"&&(window.H=Ge);Sce();vP();bP();const xce={}.VITE_HIGHLIGHT_PROJECT_ID??{}.NEXT_PUBLIC_HIGHLIGHT_PROJECT_ID??"",_ce="kgr09vng",wP=xce||_ce,Cce={}.VITE_HIGHLIGHT_SERVICE_NAME??{}.NEXT_PUBLIC_HIGHLIGHT_SERVICE_NAME??"frontend-app",kce={}.VITE_HIGHLIGHT_NETWORK_BLOCKLIST??{}.NEXT_PUBLIC_HIGHLIGHT_NETWORK_BLOCKLIST??"",Tce=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"],Rce=kce.split(",").map(t=>t.trim()).filter(Boolean),Nce=Array.from(new Set([...Tce,...Rce])),Oce=typeof window<"u"&&!!wP;let zk=!1;Oce&&(Ge.init(wP,{serviceName:Cce,environment:"production",tracingOrigins:!0,networkRecording:{enabled:!0,recordHeadersAndBody:!0,urlBlocklist:Nce}}),zk=!0);const Ice=t=>{if(!t)return;const e=Object.entries(t).filter(([,n])=>n!=null);if(e.length!==0)return Object.fromEntries(e)},Lce=(t,e)=>{if(!zk||!t)return;const n=Ice(e);n?Ge.identify(t,n):Ge.identify(t)},Zce=()=>zk;var S_=function(t,e){return S_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},S_(t,e)};function SP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");S_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var nv=function(){return nv=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nv.apply(this,arguments)};function yd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function EP(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function xP(t,e){return function(n,r){e(n,r,t)}}function _P(t,e,n,r,i,a){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=r.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,f=!1,p=n.length-1;p>=0;p--){var v={};for(var m in r)v[m]=m==="access"?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(y){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(y||null))};var S=(0,n[p])(o==="accessor"?{get:c.get,set:c.set}:c[l],v);if(o==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(d=s(S.get))&&(c.get=d),(d=s(S.set))&&(c.set=d),(d=s(S.init))&&i.unshift(d)}else(d=s(S))&&(o==="field"?i.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),f=!0}function CP(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function kP(t){return typeof t=="symbol"?t:"".concat(t)}function TP(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function RP(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function te(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}function NP(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var mb=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function OP(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&mb(e,t,n)}function rv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dk(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function IP(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Dk(arguments[e]));return t}function LP(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function ZP(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function qc(t){return this instanceof qc?(this.v=t,this):new qc(t)}function VP(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(v){return Promise.resolve(v).then(p,d)}}function o(p,v){r[p]&&(i[p]=function(m){return new Promise(function(S,y){a.push([p,m,S,y])>1||l(p,m)})},v&&(i[p]=v(i[p])))}function l(p,v){try{u(r[p](v))}catch(m){f(a[0][3],m)}}function u(p){p.value instanceof qc?Promise.resolve(p.value.v).then(c,d):f(a[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function f(p,v){p(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function GP(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=t[i]?function(s){return(n=!n)?{value:qc(t[i](s)),done:!1}:a?a(s):s}:a}}function AP(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof rv=="function"?rv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(u){a({value:u,done:o})},s)}}function MP(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Vce=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},E_=function(t){return E_=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},E_(t)};function XP(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=E_(t),r=0;r<n.length;r++)n[r]!=="default"&&mb(e,t,n[r]);return Vce(e,t),e}function UP(t){return t&&t.__esModule?t:{default:t}}function WP(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function PP(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function zP(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function DP(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Gce=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function jP(t){function e(a){t.error=t.hasError?new Gce(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function BP(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,s){return r?e?".jsx":".js":i&&(!a||!s)?n:i+a+"."+s.toLowerCase()+"js"}):t}const Ace={__extends:SP,__assign:nv,__rest:yd,__decorate:EP,__param:xP,__esDecorate:_P,__runInitializers:CP,__propKey:kP,__setFunctionName:TP,__metadata:RP,__awaiter:te,__generator:NP,__createBinding:mb,__exportStar:OP,__values:rv,__read:Dk,__spread:IP,__spreadArrays:LP,__spreadArray:ZP,__await:qc,__asyncGenerator:VP,__asyncDelegator:GP,__asyncValues:AP,__makeTemplateObject:MP,__importStar:XP,__importDefault:UP,__classPrivateFieldGet:WP,__classPrivateFieldSet:PP,__classPrivateFieldIn:zP,__addDisposableResource:DP,__disposeResources:jP,__rewriteRelativeImportExtension:BP},Mce=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:DP,get __assign(){return nv},__asyncDelegator:GP,__asyncGenerator:VP,__asyncValues:AP,__await:qc,__awaiter:te,__classPrivateFieldGet:WP,__classPrivateFieldIn:zP,__classPrivateFieldSet:PP,__createBinding:mb,__decorate:EP,__disposeResources:jP,__esDecorate:_P,__exportStar:OP,__extends:SP,__generator:NP,__importDefault:UP,__importStar:XP,__makeTemplateObject:MP,__metadata:RP,__param:xP,__propKey:kP,__read:Dk,__rest:yd,__rewriteRelativeImportExtension:BP,__runInitializers:CP,__setFunctionName:TP,__spread:IP,__spreadArray:ZP,__spreadArrays:LP,__values:rv,default:Ace},Symbol.toStringTag,{value:"Module"})),Xce=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Tl(()=>Promise.resolve().then(()=>Fl),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class jk extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class dZ extends jk{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class x_ extends jk{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Yh extends jk{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var __;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(__||(__={}));class Uce{constructor(e,{headers:n={},customFetch:r,region:i=__.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Xce(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return te(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:s,body:o,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let f;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(u["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(u["Content-Type"]="application/json",f=JSON.stringify(o)):f=o;const p=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:f,signal:l}).catch(y=>{throw y.name==="AbortError"?y:new dZ(y)}),v=p.headers.get("x-relay-error");if(v&&v==="true")throw new x_(p);if(!p.ok)throw new Yh(p);let m=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return m==="application/json"?S=yield p.json():m==="application/octet-stream"||m==="application/pdf"?S=yield p.blob():m==="text/event-stream"?S=p:m==="multipart/form-data"?S=yield p.formData():S=yield p.text(),{data:S,error:null,response:p}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new dZ(a)}:{data:null,error:a,response:a instanceof Yh||a instanceof x_?a.context:void 0}}})}}var Yn={};const vd=sV(Mce);var hg={},fg={},pg={},mg={},gg={},Wce=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ed=Wce();const Pce=ed.fetch,FP=ed.fetch.bind(ed),HP=ed.Headers,zce=ed.Request,Dce=ed.Response,Fl=Object.freeze(Object.defineProperty({__proto__:null,Headers:HP,Request:zce,Response:Dce,default:FP,fetch:Pce},Symbol.toStringTag,{value:"Module"})),jce=sV(Fl);var yg={},hZ;function YP(){if(hZ)return yg;hZ=1,Object.defineProperty(yg,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return yg.default=t,yg}var fZ;function JP(){if(fZ)return gg;fZ=1,Object.defineProperty(gg,"__esModule",{value:!0});const t=vd,e=t.__importDefault(jce),n=t.__importDefault(YP());class r{constructor(a){var s,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,f,p;let v=null,m=null,S=null,y=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const _=await u.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?m=_:m=JSON.parse(_))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),E=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&E&&E.length>1&&(S=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(v={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,S=null,y=406,g="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const w=await u.text();try{v=JSON.parse(w),Array.isArray(v)&&u.status===404&&(m=[],v=null,y=200,g="OK")}catch{u.status===404&&w===""?(y=204,g="No Content"):v={message:w}}if(v&&this.isMaybeSingle&&(!((p=v==null?void 0:v.details)===null||p===void 0)&&p.includes("0 rows"))&&(v=null,y=200,g="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:m,count:S,status:y,statusText:g}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,f;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,s)}returns(){return this}overrideTypes(){return this}}return gg.default=r,gg}var pZ;function $P(){if(pZ)return mg;pZ=1,Object.defineProperty(mg,"__esModule",{value:!0});const e=vd.__importDefault(JP());class n extends e.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return mg.default=n,mg}var mZ;function Bk(){if(mZ)return pg;mZ=1,Object.defineProperty(pg,"__esModule",{value:!0});const e=vd.__importDefault($P());class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const s=Array.from(new Set(a)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:s,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${l}fts${u}.${a}`),this}match(i){return Object.entries(i).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(i,a,s){return this.url.searchParams.append(i,`not.${a}.${s}`),this}or(i,{foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,a,s){return this.url.searchParams.append(i,`${a}.${s}`),this}}return pg.default=n,pg}var gZ;function KP(){if(gZ)return fg;gZ=1,Object.defineProperty(fg,"__esModule",{value:!0});const e=vd.__importDefault(Bk());class n{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return fg.default=n,fg}var yZ;function Bce(){if(yZ)return hg;yZ=1,Object.defineProperty(hg,"__esModule",{value:!0});const t=vd,e=t.__importDefault(KP()),n=t.__importDefault(Bk());class r{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){const s=new URL(`${this.url}/${a}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:u}={}){var c;let d;const f=new URL(`${this.url}/rpc/${a}`);let p;o||l?(d=o?"HEAD":"GET",Object.entries(s).filter(([m,S])=>S!==void 0).map(([m,S])=>[m,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([m,S])=>{f.searchParams.append(m,S)})):(d="POST",p=s);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:d,url:f,headers:v,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return hg.default=r,hg}Object.defineProperty(Yn,"__esModule",{value:!0});Yn.PostgrestError=Yn.PostgrestBuilder=Yn.PostgrestTransformBuilder=Yn.PostgrestFilterBuilder=Yn.PostgrestQueryBuilder=Yn.PostgrestClient=void 0;const bd=vd,QP=bd.__importDefault(Bce());Yn.PostgrestClient=QP.default;const qP=bd.__importDefault(KP());Yn.PostgrestQueryBuilder=qP.default;const ez=bd.__importDefault(Bk());Yn.PostgrestFilterBuilder=ez.default;const tz=bd.__importDefault($P());Yn.PostgrestTransformBuilder=tz.default;const nz=bd.__importDefault(JP());Yn.PostgrestBuilder=nz.default;const rz=bd.__importDefault(YP());Yn.PostgrestError=rz.default;var Fce=Yn.default={PostgrestClient:QP.default,PostgrestQueryBuilder:qP.default,PostgrestFilterBuilder:ez.default,PostgrestTransformBuilder:tz.default,PostgrestBuilder:nz.default,PostgrestError:rz.default};const{PostgrestClient:Hce,PostgrestQueryBuilder:jme,PostgrestFilterBuilder:Bme,PostgrestTransformBuilder:Fme,PostgrestBuilder:Hme,PostgrestError:Yme}=Fce;class Yce{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Jce="2.76.1",$ce=`realtime-js/${Jce}`,Kce="1.0.0",C_=1e4,Qce=1e3,qce=100;var Jh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Jh||(Jh={}));var Gt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Gt||(Gt={}));var ui;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ui||(ui={}));var k_;(function(t){t.websocket="websocket"})(k_||(k_={}));var Io;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Io||(Io={}));class ede{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+i));s=s+i;const l=r.decode(e.slice(s,s+a));s=s+a;const u=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class iz{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qe||(qe={}));const vZ=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=tde(s,t,e,i),a),{}):{}},tde=(t,e,n,r)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?az(a,s):T_(s)},az=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ade(e,n)}switch(t){case qe.bool:return nde(e);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return rde(e);case qe.json:case qe.jsonb:return ide(e);case qe.timestamp:return sde(e);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return T_(e);default:return T_(e)}},T_=t=>t,nde=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},rde=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ide=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ade=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>az(e,o))}return t},sde=t=>typeof t=="string"?t.replace(" ","T"):t,sz=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Zw{constructor(e,n,r={},i=C_){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bZ;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(bZ||(bZ={}));class $h{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$h.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=$h.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$h.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),o={},l={};return this.map(a,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const d=a[u];if(d){const f=c.map(S=>S.presence_ref),p=d.map(S=>S.presence_ref),v=c.filter(S=>p.indexOf(S.presence_ref)<0),m=d.filter(S=>f.indexOf(S.presence_ref)<0);v.length>0&&(o[u]=v),m.length>0&&(l[u]=m)}else o[u]=c}),this.syncDiff(a,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const c=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),c.length>0){const d=e[o].map(p=>p.presence_ref),f=c.filter(p=>d.indexOf(p.presence_ref)<0);e[o].unshift(...f)}r(o,c,l)}),this.map(s,(o,l)=>{let u=e[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wZ;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wZ||(wZ={}));var Kh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Kh||(Kh={}));var sa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(sa||(sa={}));class Fk{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zw(this,ui.join,this.params,this.timeout),this.rejoinTimer=new iz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ui.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new $h(this),this.broadcastEndpointURL=sz(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Gt.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Kh.PRESENCE]&&this.bindings[Kh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},f={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(sa.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(sa.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e==null||e(sa.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,S=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,y=[];for(let g=0;g<S;g++){const b=m[g],{filter:{event:w,schema:E,table:_,filter:C}}=b,k=p&&p[g];if(k&&k.event===w&&k.schema===E&&k.table===_&&k.filter===C)y.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=Gt.errored,e==null||e(sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(sa.SUBSCRIBED);return}}).receive("error",p=>{this.state=Gt.errored,e==null||e(sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Gt.joined&&e===Kh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ui.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Zw(this,ui.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Zw(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>qce){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=ui;if(r&&[o,l,u,c].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,m,S;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(m=p.filter)===null||m===void 0?void 0:m.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(p=>p.callback(f,r)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var v,m,S,y,g,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const w=p.id,E=(v=p.filter)===null||v===void 0?void 0:v.event;return w&&((m=n.ids)===null||m===void 0?void 0:m.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:m,table:S,commit_timestamp:y,type:g,errors:b}=v;f=Object.assign(Object.assign({},{schema:m,table:S,commit_timestamp:y,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(v))}p.callback(f,r)})}_isClosed(){return this.state===Gt.closed}_isJoined(){return this.state===Gt.joined}_isJoining(){return this.state===Gt.joining}_isLeaving(){return this.state===Gt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Fk.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ui.close,{},e)}_onError(e){this._on(ui.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=vZ(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=vZ(e.columns,e.old_record)),n}}const Vw=()=>{},vg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ode=[1e3,2e3,5e3,1e4],lde=1e4,ude=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cde{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=C_,this.transport=null,this.heartbeatIntervalMs=vg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vw,this.ref=0,this.reconnectTimer=null,this.logger=Vw,this.conn=null,this.sendBuffer=[],this.serializer=new ede,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>Tl(()=>Promise.resolve().then(()=>Fl),void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${k_.websocket}`,this.httpEndpoint=sz(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yce.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kce}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Jh.connecting:return Io.Connecting;case Jh.open:return Io.Open;case Jh.closing:return Io.Closing;default:return Io.Closed}}isConnected(){return this.connectionState()===Io.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Fk(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Qce,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ui.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ude],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:$ce};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ui.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new iz(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,s,o,l,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:C_,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:vg.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Vw,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>ode[d-1]||lde,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,f)=>f(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Hk extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class dde extends Hk{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class R_ extends Hk{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Yk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Tl(()=>Promise.resolve().then(()=>Fl),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},hde=()=>te(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tl(()=>Promise.resolve().then(()=>Fl),void 0)).Response:Response}),N_=t=>{if(Array.isArray(t))return t.map(n=>N_(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=N_(r)}),e},fde=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Gw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pde=(t,e,n)=>te(void 0,void 0,void 0,function*(){const r=yield hde();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new dde(Gw(i),a,s))}).catch(i=>{e(new R_(Gw(i),i))}):e(new R_(Gw(t),t))}),mde=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(fde(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function jp(t,e,n,r,i,a){return te(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(n,mde(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>pde(l,o,r))})})}function qf(t,e,n,r){return te(this,void 0,void 0,function*(){return jp(t,"GET",e,n,r)})}function ii(t,e,n,r,i){return te(this,void 0,void 0,function*(){return jp(t,"POST",e,r,i,n)})}function O_(t,e,n,r,i){return te(this,void 0,void 0,function*(){return jp(t,"PUT",e,r,i,n)})}function gde(t,e,n,r){return te(this,void 0,void 0,function*(){return jp(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Jk(t,e,n,r,i){return te(this,void 0,void 0,function*(){return jp(t,"DELETE",e,r,i,n)})}class yde{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}})}}var oz;class vde{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[oz]="BlobDownloadBuilder",this.promise=null}asStream(){return new yde(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return te(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}})}}oz=Symbol.toStringTag;const bde=vde,wde={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},SZ={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sde{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Yk(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return te(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},SZ),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?O_:ii)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}upload(e,n,r){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return te(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:SZ.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield O_(this.fetch,o.toString(),l,{headers:c});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return te(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield ii(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new Hk("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}update(e,n,r){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return te(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return te(this,void 0,void 0,function*(){try{return{data:{path:(yield ii(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return te(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ii(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return te(this,void 0,void 0,function*(){try{const i=yield ii(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(e),l=()=>qf(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new bde(l,this.shouldThrowOnError)}info(e){return te(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield qf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:N_(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}exists(e){return te(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield gde(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r)&&r instanceof R_){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return te(this,void 0,void 0,function*(){try{return{data:yield Jk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}list(e,n,r){return te(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},wde),n),{prefix:e||""});return{data:yield ii(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}listV2(e,n){return te(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ii(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const lz="2.76.1",uz={"X-Client-Info":`storage-js/${lz}`};class Ede{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uz),n),this.fetch=Yk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return te(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}})}getBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}createBucket(e){return te(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ii(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return te(this,void 0,void 0,function*(){try{return{data:yield O_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield Jk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}}class xde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uz),n),this.fetch=Yk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}listBuckets(e){return te(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,a=yield qf(this.fetch,i,{headers:this.headers});return{data:Array.isArray(a)?a.filter(o=>o.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield Jk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}}const $k={"X-Client-Info":`storage-js/${lz}`,"Content-Type":"application/json"};class cz extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function or(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Aw extends cz{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _de extends cz{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var EZ;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(EZ||(EZ={}));const Kk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Tl(()=>Promise.resolve().then(()=>Fl),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Cde=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xZ=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kde=(t,e,n)=>te(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";e(new Aw(xZ(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new Aw(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new Aw(o,i,s))}}else e(new _de(xZ(t),t))}),Tde=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Cde(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Rde(t,e,n,r,i,a){return te(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(n,Tde(e,r,i,a)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>kde(l,o,r))})})}function lr(t,e,n,r,i){return te(this,void 0,void 0,function*(){return Rde(t,"POST",e,r,i,n)})}class Nde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$k),n),this.fetch=Kk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return te(this,void 0,void 0,function*(){try{return{data:(yield lr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}getIndex(e,n){return te(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}listIndexes(e){return te(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return te(this,void 0,void 0,function*(){try{return{data:(yield lr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}}class Ode{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$k),n),this.fetch=Kk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return te(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield lr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}getVectors(e){return te(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}listVectors(e){return te(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield lr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}queryVectors(e){return te(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}deleteVectors(e){return te(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield lr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}}class Ide{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$k),n),this.fetch=Kk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return te(this,void 0,void 0,function*(){try{return{data:(yield lr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}getBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}listBuckets(){return te(this,arguments,void 0,function*(e={}){try{return{data:yield lr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:(yield lr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}}class Lde extends Ide{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Zde(this.url,this.headers,e,this.fetch)}}class Zde extends Nde{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return te(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return te(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return te(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return te(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Vde(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Vde extends Ode{constructor(e,n,r,i,a){super(e,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return te(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return te(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return te(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return te(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return te(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Gde extends Ede{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Sde(this.url,this.headers,e,this.fetch)}get vectors(){return new Lde(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xde(this.url+"/iceberg",this.headers,this.fetch)}}const Ade="2.76.1";let hh="";typeof Deno<"u"?hh="deno":typeof document<"u"?hh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hh="react-native":hh="node";const Mde={"X-Client-Info":`supabase-js-${hh}/${Ade}`},Xde={headers:Mde},Ude={schema:"public"},Wde={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pde={},zde=t=>{let e;return t?e=t:typeof fetch>"u"?e=FP:e=fetch,(...n)=>e(...n)},Dde=()=>typeof Headers>"u"?HP:Headers,jde=(t,e,n)=>{const r=zde(n),i=Dde();return async(a,s)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},s),{headers:u}))}};function Bde(t){return t.endsWith("/")?t:t+"/"}function Fde(t,e){var n,r;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:u,realtime:c,global:d}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Hde(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Bde(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const dz="2.76.1",gu=30*1e3,I_=3,Mw=I_*gu,Yde="http://localhost:9999",Jde="supabase.auth.token",$de={"X-Client-Info":`gotrue-js/${dz}`},L_="X-Supabase-Api-Version",hz={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kde=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qde=10*60*1e3;class ep extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class qde extends ep{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ehe(t){return ne(t)&&t.name==="AuthApiError"}class Lo extends ep{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class mo extends ep{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Qa extends mo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function the(t){return ne(t)&&t.name==="AuthSessionMissingError"}class iu extends mo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bg extends mo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wg extends mo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nhe(t){return ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class _Z extends mo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Z_ extends mo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Xw(t){return ne(t)&&t.name==="AuthRetryableFetchError"}class CZ extends mo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class V_ extends mo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const iv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kZ=` 	
\r=`.split(""),rhe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<kZ.length;e+=1)t[kZ[e].charCodeAt(0)]=-2;for(let e=0;e<iv.length;e+=1)t[iv[e].charCodeAt(0)]=e;return t})();function TZ(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(iv[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(iv[r]),e.queuedBits-=6}}function fz(t,e,n){const r=rhe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function RZ(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{she(s,r,n)};for(let s=0;s<t.length;s+=1)fz(t.charCodeAt(s),i,a);return e.join("")}function ihe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ahe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ihe(r,e)}}function she(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function lc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)fz(t.charCodeAt(i),n,r);return new Uint8Array(e)}function ohe(t){const e=[];return ahe(t,n=>e.push(n)),new Uint8Array(e)}function Uo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>TZ(i,n,r)),TZ(null,n,r),e.join("")}function lhe(t){return Math.round(Date.now()/1e3)+t}function uhe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const nr=()=>typeof window<"u"&&typeof document<"u",yo={tested:!1,writable:!1},pz=()=>{if(!nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yo.tested)return yo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yo.tested=!0,yo.writable=!0}catch{yo.tested=!0,yo.writable=!1}return yo.writable};function che(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const mz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Tl(()=>Promise.resolve().then(()=>Fl),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},dhe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",yu=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},vo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ya=async(t,e)=>{await t.removeItem(e)};class gb{constructor(){this.promise=new gb.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}gb.promiseConstructor=Promise;function Uw(t){const e=t.split(".");if(e.length!==3)throw new V_("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Kde.test(e[r]))throw new V_("JWT not in base64url format");return{header:JSON.parse(RZ(e[0])),payload:JSON.parse(RZ(e[1])),signature:lc(e[2]),raw:{header:e[0],payload:e[1]}}}async function hhe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function fhe(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function phe(t){return("0"+t.toString(16)).substr(-2)}function mhe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,phe).join("")}async function ghe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function yhe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ghe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function au(t,e,n=!1){const r=mhe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await yu(t,`${e}-code-verifier`,i);const a=await yhe(r);return[a,r===a?"plain":"s256"]}const vhe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bhe(t){const e=t.headers.get(L_);if(!e||!e.match(vhe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function whe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function She(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ehe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function su(t){if(!Ehe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ww(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function NZ(t){return JSON.parse(JSON.stringify(t))}const To=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xhe=[502,503,504];async function OZ(t){var e;if(!dhe(t))throw new Z_(To(t),0);if(xhe.includes(t.status))throw new Z_(To(t),t.status);let n;try{n=await t.json()}catch(a){throw new Lo(To(a),a)}let r;const i=bhe(t);if(i&&i.getTime()>=hz["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new CZ(To(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Qa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new CZ(To(n),t.status,n.weak_password.reasons);throw new qde(To(n),t.status||500,r)}const _he=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function le(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[L_]||(a[L_]=hz["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Che(t,e,n+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Che(t,e,n,r,i,a){const s=_he(e,r,i,a);let o;try{o=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new Z_(To(l),0)}if(o.ok||await OZ(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await OZ(l)}}function ti(t){var e;let n=null;Rhe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=lhe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function IZ(t){const e=ti(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function khe(t){return{data:t,error:null}}function The(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=yd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function LZ(t){return t}function Rhe(t){return t.access_token&&t.refresh_token&&t.expires_in}const Pw=["global","local","others"];class Nhe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=mz(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Pw[0]){if(Pw.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pw.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fs})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=yd(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:The,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fs})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:LZ});if(c.error)throw c.error;const d=await c.json(),f=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){su(e);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fs})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){su(e);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fs})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){su(e);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fs})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){su(e.userId);try{const{data:n,error:r}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteFactor(e){su(e.userId),su(e.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:LZ});if(c.error)throw c.error;const d=await c.json(),f=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ne(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}}function ZZ(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ou={debug:!!(globalThis&&pz()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gz extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ohe extends gz{}async function Ihe(t,e,n){ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ou.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ohe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ou.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Lhe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yz(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Zhe(t){return parseInt(t,16)}function Vhe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Ghe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=yz(t.address),v=c?`${c}://${r}`:r,m=t.statement?`${t.statement}
`:"",S=`${v} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${d}
Version: ${f}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let g=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);g+=`
- ${b}`}y+=g}return`${S}
${y}`}class Rt extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class av extends Rt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Ahe({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(vz(s)){if(a.rp.id!==s)return new Rt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Mhe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(vz(r)){if(n.rpId!==r)return new Rt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Xhe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Uhe=new Xhe;function Whe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=yd(t,["challenge","user","excludeCredentials"]),a=lc(e).buffer,s=Object.assign(Object.assign({},n),{id:lc(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:lc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Phe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=yd(t,["challenge","allowCredentials"]),i=lc(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const o=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:lc(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function zhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Uo(new Uint8Array(t.response.attestationObject)),clientDataJSON:Uo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Uo(new Uint8Array(i.authenticatorData)),clientDataJSON:Uo(new Uint8Array(i.clientDataJSON)),signature:Uo(new Uint8Array(i.signature)),userHandle:i.userHandle?Uo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vz(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function VZ(){var t,e;return!!(nr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function jhe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new av("Browser returned unexpected credential type",e)}:{data:null,error:new av("Empty credential response",e)}}catch(e){return{data:null,error:Ahe({error:e,options:t})}}}async function Bhe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new av("Browser returned unexpected credential type",e)}:{data:null,error:new av("Empty credential response",e)}}catch(e){return{data:null,error:Mhe({error:e,options:t})}}}const Fhe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Hhe={userVerification:"preferred",hints:["security-key"]};function sv(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(e(s)){const o=r[a];e(o)?r[a]=sv(o,s):r[a]=sv(s)}else r[a]=s}return r}function Yhe(t,e){return sv(Fhe,t,e||{})}function Jhe(t,e){return sv(Hhe,t,e||{})}class $he{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:o};const l=i??Uhe.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=Yhe(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:c,error:d}=await jhe({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=Jhe(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:c,error:d}=await Bhe(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(s){return ne(s)?{data:null,error:s}:{data:null,error:new Lo("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new ep("rpId is required for WebAuthn authentication")};try{if(!VZ())return{data:null,error:new Lo("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(s){return ne(s)?{data:null,error:s}:{data:null,error:new Lo("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new ep("rpId is required for WebAuthn registration")};try{if(!VZ())return{data:null,error:new Lo("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(s){return ne(s)?{data:null,error:s}:{data:null,error:new Lo("Unexpected error in register",s)}}}}Lhe();const Khe={url:Yde,storageKey:Jde,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$de,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function GZ(t,e,n){return await n()}const lu={};class tp{get jwks(){var e,n;return(n=(e=lu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){lu[this.storageKey]=Object.assign(Object.assign({},lu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=lu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){lu[this.storageKey]=Object.assign(Object.assign({},lu[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tp.nextInstanceID,tp.nextInstanceID+=1,this.instanceID>0&&nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Khe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Nhe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=mz(i.fetch),this.lock=i.lock||GZ,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:nr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ihe:this.lock=GZ,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $he(this)},this.persistSession?(i.storage?this.storage=i.storage:pz()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ZZ(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ZZ(this.memoryStorage)),nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dz}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=che(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),nr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),nhe(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ne(n)?{error:n}:{error:new Lo("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ti}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:c,password:d,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await au(this.storage,this.storageKey)),a=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:ti})}else if("phone"in e){const{phone:c,password:d,options:f}=e;a=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ti})}else throw new bg("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:o}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:IZ})}else if("phone"in e){const{phone:a,password:s,options:o}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:IZ})}else throw new bg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new iu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,s,o,l,u,c,d,f;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:m,wallet:S,statement:y,options:g}=e;let b;if(nr())if(typeof S=="object")b=S;else{const x=window;if("ethereum"in x&&typeof x.ethereum=="object"&&"request"in x.ethereum&&typeof x.ethereum.request=="function")b=x.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=S}const w=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),E=await b.request({method:"eth_requestAccounts"}).then(x=>x).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=yz(E[0]);let C=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const x=await b.request({method:"eth_chainId"});C=Zhe(x)}const k={domain:w.host,address:_,statement:y,uri:w.href,version:"1",chainId:C,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=Ghe(k),v=await b.request({method:"personal_sign",params:[Vhe(p),_]})}try{const{data:m,error:S}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ti});if(S)throw S;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new iu}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:S})}catch(m){if(ne(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(e){var n,r,i,a,s,o,l,u,c,d,f,p;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:S,wallet:y,statement:g,options:b}=e;let w;if(nr())if(typeof y=="object")w=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))w=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const E=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const _=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),g?{statement:g}:null));let C;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")C=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)C=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(c=b==null?void 0:b.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const _=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:S,error:y}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Uo(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ti});if(y)throw y;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new iu}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:y})}catch(S){if(ne(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await vo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ti});if(await Ya(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new iu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ne(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,o=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ti}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new iu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await au(this.storage,this.storageKey));const{error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:c}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new bg("You must provide either an email or phone number.")}catch(o){if(ne(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:o}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ti});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await au(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:khe})}catch(a){if(ne(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Qa;const{error:i}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ne(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:o}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new bg("You must provide either an email or phone number and a type")}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await vo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Mw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await vo(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Ww()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fs}):await this._useSession(async n=>{var r,i,a;const{data:s,error:o}=n;if(o)throw o;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qa}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:fs})})}catch(n){if(ne(n))return the(n)&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Qa;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await au(this.storage,this.storageKey));const{data:u,error:c}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:fs});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qa;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=Uw(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ne(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:o}=n;if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Qa;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!nr())throw new wg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _Z("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _Z("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=e;if(!a||!o||!s||!u)throw new wg("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let f=c+d;l&&(f=parseInt(l));const p=f-c;p*1e3<=gu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=f-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:m,error:S}=await this._getUser(a);if(S)throw S;const y={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:f,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(ne(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await vo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(ehe(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=uhe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await au(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ne(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,o,l,u,c;const{data:d,error:f}=a;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return nr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ne(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:o,token:l,access_token:u,nonce:c}=e,d=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ti}),{data:f,error:p}=d;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new iu}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fhe(async i=>(i>0&&await hhe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ti})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Xw(a)&&Date.now()+s-r<gu})}catch(r){if(this._debug(n,"error",r),ne(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),nr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await vo(this.storage,this.storageKey);if(i&&this.userStorage){let s=await vo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await yu(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Ww()}else if(i&&!i.user&&!i.user){const s=await vo(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Ya(this.storage,this.storageKey+"-user"),await yu(this.storage,this.storageKey,i)):i.user=Ww()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Mw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Mw}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Xw(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Qa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new gb;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Qa;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),ne(a)){const s={data:null,error:a};return Xw(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await yu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=NZ(i);await yu(this.storage,this.storageKey,a)}else{const i=NZ(n);await yu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ya(this.storage,this.storageKey),await Ya(this.storage,this.storageKey+"-code-verifier"),await Ya(this.storage,this.storageKey+"-user"),this.userStorage&&await Ya(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),gu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/gu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${gu}ms, refresh threshold is ${I_} ticks`),i<=I_&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gz)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await au(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await le(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zhe(e.webauthn.credential_response):Dhe(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(ne(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const s=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Whe(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Phe(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ne(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Uw(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Qde>i)return r;const{data:a,error:s}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};r=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Uw(r);n!=null&&n.allowExpired||whe(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const c=She(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,ohe(`${o}.${l}`)))throw new V_("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}}tp.nextInstanceID=0;const Qhe=tp;class qhe extends Qhe{constructor(e){super(e)}}class efe{constructor(e,n,r){var i,a,s;this.supabaseUrl=e,this.supabaseKey=n;const o=Hde(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:Ude,realtime:Pde,auth:Object.assign(Object.assign({},Wde),{storageKey:l}),global:Xde},c=Fde(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=c.auth)!==null&&s!==void 0?s:{},this.headers,c.global.fetch),this.fetch=jde(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Hce(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Gde(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Uce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qhe({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:o,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new cde(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tfe=(t,e,n)=>new efe(t,e,n);function nfe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}nfe()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rfe="https://sriycekxdqnesdsgwiuc.supabase.co",bz="sb_publishable_GaGU6ZiyiO6ncO7kU2qAvA_SFuCyYaM",tt=tfe(rfe,bz,{auth:{persistSession:!0,autoRefreshToken:!0}}),ife=bz,afe=30,G_=t=>typeof t!="string"?t??null:t.replace(/^Bearer\s+/i,"").trim(),wz=t=>{if(!t)return!1;const e=Math.floor(Date.now()/1e3);return t<=e+afe},Sz=async()=>{const t=await tt.auth.getSession();let e=t.data.session;if(t.error)return console.error("Error getting session:",t.error),null;if(!(e!=null&&e.access_token)||wz(e.expires_at)){const n=await tt.auth.refreshSession();if(n.error)return console.error("Failed to refresh session:",n.error),(e==null?void 0:e.access_token)??null;e=n.data.session??e}return G_(e==null?void 0:e.access_token)??null},Ez=async()=>{var r;const t=await tt.auth.getSession(),e=t.data.session;if(t.error)return console.error("Failed to read session:",t.error),!1;if(e!=null&&e.access_token&&!wz(e.expires_at))return!0;const n=await tt.auth.refreshSession();return n.error?(console.error("Failed to refresh session:",n.error),!!(e!=null&&e.access_token)):!!((r=n.data.session)!=null&&r.access_token)},Qk={BASE:{name:"Base",price:.15,stages:["business-verification","company-data"],description:"Essential Business Data - Perfect for targeted outreach campaigns",features:["Business verification","Company data (name, industry, size)","Phone & address validation","Generic company email"],badge:"Most Popular",hasOwnershipData:!1},PROFESSIONAL:{name:"Professional",price:.45,stages:["business-verification","company-data","email-discovery","email-verification"],description:"Enhanced Sales Intelligence - Verified contacts for higher conversion rates",features:["Everything in Base","Professional email discovery & verification","Email deliverability verification","Enhanced company enrichment"],badge:"",hasOwnershipData:!1},ENTERPRISE:{name:"Enterprise",price:2.5,stages:["business-verification","company-data","email-discovery","email-verification","executive-enrichment","compliance-verification"],description:"Premium Executive Access - Compliance-grade data with C-suite contacts",features:["Everything in Professional","Executive contact enrichment","Full compliance verification","Advanced data validation"],badge:"Premium",hasOwnershipData:!0}};async function A_(t,e,n={}){var u,c,d;const r=(f,p)=>{console.warn(`Edge function auth failure (${f})`,p)},i=async f=>{var p;try{const v=f.clone(),m=((p=v.headers.get("Content-Type"))==null?void 0:p.split(";")[0].trim())??"text/plain";if(m==="application/json")return await v.json();if(m==="text/plain"){const S=await v.text();return S?{message:S}:null}return await v.text()}catch(v){return console.warn("Failed to parse edge function error payload",v),null}},a=async f=>{if(typeof f=="string"&&f.trim().length>0){const v=G_(f);if(v)return v}const p=await Sz();if(typeof p=="string"&&p.trim().length>0){const v=G_(p);if(v)return v}throw new Error("Unable to determine Supabase session. Please sign in.")},s=async f=>{let p=null;try{p=await a(f)}catch(y){return{data:null,error:y instanceof Error?y:new Error(String(y)),response:void 0}}const v=new Headers(n.headers??{});v.set("apikey",ife),v.set("Authorization",`Bearer ${p}`);const m=await tt.functions.invoke(t,{body:e,headers:Object.fromEntries(v.entries())});if(!m.error)return{data:m.data??null,error:null,response:void 0};const S=m.error;if(S instanceof x_)return{data:null,error:S,response:S.context};if(S instanceof Yh&&S.context){const y=await i(S.context.clone());if(y)try{S.payload=y}catch{}return S.context.status===401&&r("http",{functionName:t,payload:S.payload??y}),{data:null,error:S,response:S.context}}return{data:null,error:S,response:void 0}};let o=await s(n.token);if(o.error instanceof Yh&&((u=o.error.context)==null?void 0:u.status)===401){r("retry_initiated",{functionName:t,payload:o.error.payload});const f=await tt.auth.refreshSession();!f.error&&((c=f.data.session)!=null&&c.access_token)&&(o=await s(f.data.session.access_token))}return o.error instanceof Yh&&((d=o.error.context)==null?void 0:d.status)===401&&r("retry_failed",{functionName:t,payload:o.error.payload}),o}const xz=Z.createContext(void 0),sfe=({children:t})=>{const[e,n]=Z.useState(null),[r,i]=Z.useState(null),[a,s]=Z.useState(null),[o,l]=Z.useState(!0),u=Z.useRef(null),c=Z.useRef({event:null,userId:null}),d=Z.useRef(new Set(["SIGNED_IN","SIGNED_OUT","TOKEN_REFRESHED","PASSWORD_RECOVERY","USER_UPDATED"]));Z.useEffect(()=>{(async()=>{try{const{data:{session:g},error:b}=await tt.auth.getSession();b&&console.error("Session error:",b),g!=null&&g.user?(i(g),n(g.user),s(g.user.id)):(i(null),n(null),s(null)),l(!1)}catch(g){console.error("Auth initialization error:",g),i(null),n(null),s(null),l(!1)}})();const{data:{subscription:y}}=tt.auth.onAuthStateChange(async(g,b)=>{var _;const w=((_=b==null?void 0:b.user)==null?void 0:_.id)??null;(d.current.has(g)||w!==c.current.userId||g==="SIGNED_IN"&&c.current.event!=="SIGNED_IN")&&console.log("Auth state changed:",g,w),c.current={event:g,userId:w},b!=null&&b.user?(i(b),n(b.user),s(b.user.id)):(i(null),n(null),s(null))});return()=>y.unsubscribe()},[]),Z.useEffect(()=>{var y;if(!Zce())return;if(!e){u.current=null;return}const S=e.email??e.id;S&&u.current!==S&&(u.current=S,Lce(S,{id:e.id,email:e.email??void 0,aud:e.aud??void 0,role:e.role??void 0,highlightDisplayName:typeof((y=e.user_metadata)==null?void 0:y.full_name)=="string"?e.user_metadata.full_name:e.email??void 0,isEmailConfirmed:!!e.email_confirmed_at,hasPhone:!!e.phone,lastSignInAt:e.last_sign_in_at??void 0}))},[e]);const m={user:e,session:r,sessionUserId:a,loading:o,signIn:async(S,y)=>{const{error:g}=await tt.auth.signInWithPassword({email:S,password:y});if(g)throw g},signUp:async(S,y)=>{const{error:g}=await tt.auth.signUp({email:S,password:y});if(g)throw g},signOut:async()=>{const{error:S}=await tt.auth.signOut();if(S)throw S;i(null),n(null),s(null)}};return h.createElement(xz.Provider,{value:m},t)},Da=()=>{const t=Z.useContext(xz);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},AZ=t=>{let e;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(v=>v(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{n.clear()}},u=e=t(r,i,l);return l},ofe=t=>t?AZ(t):AZ;var _z={exports:{}},Cz={},kz={exports:{}},Tz={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=j;function lfe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ufe=typeof Object.is=="function"?Object.is:lfe,cfe=td.useState,dfe=td.useEffect,hfe=td.useLayoutEffect,ffe=td.useDebugValue;function pfe(t,e){var n=e(),r=cfe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return hfe(function(){i.value=n,i.getSnapshot=e,zw(i)&&a({inst:i})},[t,n,e]),dfe(function(){return zw(i)&&a({inst:i}),t(function(){zw(i)&&a({inst:i})})},[t]),ffe(n),n}function zw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ufe(t,n)}catch{return!0}}function mfe(t,e){return e()}var gfe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mfe:pfe;Tz.useSyncExternalStore=td.useSyncExternalStore!==void 0?td.useSyncExternalStore:gfe;kz.exports=Tz;var yfe=kz.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb=j,vfe=yfe;function bfe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wfe=typeof Object.is=="function"?Object.is:bfe,Sfe=vfe.useSyncExternalStore,Efe=yb.useRef,xfe=yb.useEffect,_fe=yb.useMemo,Cfe=yb.useDebugValue;Cz.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=Efe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=_fe(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return d=v}return d=p}if(v=d,wfe(c,p))return v;var m=r(p);return i!==void 0&&i(v,m)?(c=p,v):(c=p,d=m)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=Sfe(t,a[0],a[1]);return xfe(function(){s.hasValue=!0,s.value=o},[o]),Cfe(o),o};_z.exports=Cz;var kfe=_z.exports;const Tfe=lv(kfe),{useDebugValue:Rfe}=AV,{useSyncExternalStoreWithSelector:Nfe}=Tfe;const Ofe=t=>t;function Ife(t,e=Ofe,n){const r=Nfe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Rfe(r),r}const MZ=t=>{const e=typeof t=="function"?ofe(t):t,n=(r,i)=>Ife(e,r,i);return Object.assign(n,e),n},Rz=t=>t?MZ(t):MZ,Kd=(t,e="")=>typeof t=="string"?t:e,Dw=t=>typeof t=="string"&&t.length>0?t:void 0,XZ=(t,e=0)=>{const n=Number(t);return Number.isFinite(n)?n:e},UZ=new Set(["pending","validating","validated","failed"]),Lfe=t=>{if(!(t==null||typeof t!="object"))try{return JSON.parse(JSON.stringify(t))}catch(e){console.error("⚠️ Unable to sanitize enrichment data payload",e);return}},Zfe=(t,e)=>{var o,l;const n=Array.isArray(t.data_sources)?t.data_sources.filter(u=>typeof u=="string").map(u=>u.trim()).filter(u=>u.length>0):[],r=Array.isArray((o=e==null?void 0:e.processingMetadata)==null?void 0:o.servicesUsed)?((l=e==null?void 0:e.processingMetadata)==null?void 0:l.servicesUsed)??[]:[],i=Array.isArray(e==null?void 0:e.verificationSources)?(e==null?void 0:e.verificationSources)??[]:[],a=Array.isArray(e==null?void 0:e.dataSources)?(e==null?void 0:e.dataSources)??[]:[],s=[...n,...r,...i,...a].filter(u=>typeof u=="string").map(u=>u.trim()).filter(u=>u.length>0);return s.length===0?["google_places"]:Array.from(new Set(s))},Vfe=(t,e)=>{if(typeof t=="string"&&UZ.has(t))return t;const n=e==null?void 0:e.validationStatus;return typeof n=="string"&&UZ.has(n)?n:"validated"},Gfe=(t,e)=>{if(!t||t.id==null)return null;const n=t.campaign_id??e;if(!n)return null;const r=Lfe(t.enrichment_data);return{id:String(t.id),campaign_id:String(n),business_name:Kd(t.business_name,"Unknown Business"),address:Kd(t.address),phone:Kd(t.phone),website:Kd(t.website),email:Kd(t.email),industry:Dw(t.industry),confidence_score:XZ(t.confidence_score,0),validation_status:Vfe(t.validation_status,r),created_at:typeof t.created_at=="string"?t.created_at:new Date().toISOString(),cost_to_acquire:XZ(t.cost_to_acquire??t.validation_cost,0),data_sources:Zfe(t,r),enrichment_tier:Dw(t.enrichment_tier)??Dw(r==null?void 0:r.enrichmentTier),vault_secured:typeof t.vault_secured=="boolean"?t.vault_secured:!0,enrichment_data:r}},np=(t,e,n="campaign store")=>{if(!Array.isArray(t))return console.error(`⚠️ ${n} received a non-array leads payload`,{type:typeof t}),[];const r=t.map(i=>Gfe(i,e)).filter(i=>!!i);return r.length<t.length&&console.warn(`🧹 Filtered invalid leads before updating ${n}`,{received:t.length,retained:r.length}),r},WZ={campaigns:[],currentCampaign:null,currentCampaignId:null,leads:[],isLoading:!1,error:null},Afe=t=>{if(t.campaign_id)return t.campaign_id;const e=t.id;return e!=null?String(e):null},jw=t=>{const e=new Set,n=[];for(const r of t){const i=Afe(r);if(i===null){n.push(r);continue}e.has(i)||(e.add(i),n.push(r))}return n},tn=Rz()(t=>({...WZ,addCampaign:e=>t(n=>({campaigns:jw([e,...n.campaigns])})),updateCampaign:(e,n)=>t(r=>{var i;return{campaigns:jw(r.campaigns.map(a=>a.campaign_id===e?{...a,...n}:a)),currentCampaign:((i=r.currentCampaign)==null?void 0:i.campaign_id)===e?{...r.currentCampaign,...n}:r.currentCampaign}}),setCurrentCampaign:e=>t({currentCampaign:e,currentCampaignId:(e==null?void 0:e.campaign_id)??null}),setCurrentCampaignId:e=>t({currentCampaignId:e}),addLeads:e=>t(n=>{if(!Array.isArray(e))return console.warn("[campaignStore] addLeads called with non-array",{type:typeof e}),n;try{const r=new Map,i=n.leads||[],a=np(e,null);for(const s of i)(s==null?void 0:s.id)!=null&&r.set(String(s.id),s);for(const s of a)r.set(String(s.id),s);return{leads:Array.from(r.values())}}catch(r){return console.error("[campaignStore] addLeads error",{error:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0}),n}}),setCampaignLeads:(e,n)=>t(r=>{if(!e)return console.warn("[campaignStore] setCampaignLeads called without campaignId",{leadsType:typeof n}),r;if(!Array.isArray(n))return console.warn("[campaignStore] Non-array leads payload ignored",{campaignId:e,payload:n}),r;try{const i=new Map,a=r.leads||[],s=np(n,e);for(const o of a)(o==null?void 0:o.campaign_id)!==e&&(o==null?void 0:o.id)!=null&&i.set(String(o.id),o);s.length===0&&n.length>0&&console.warn("[campaignStore] All incoming leads dropped by sanitizer",{campaignId:e,originalSize:n.length});for(const o of s)i.set(String(o.id),o);return{leads:Array.from(i.values())}}catch(i){return console.error("[campaignStore] setCampaignLeads error",{campaignId:e,error:i instanceof Error?i.message:String(i),stack:i instanceof Error?i.stack:void 0}),r}}),updateLead:(e,n)=>t(r=>{try{return{leads:r.leads.map(i=>i.id===e?{...i,...n}:i)}}catch(i){return console.error("[campaignStore] updateLead error",{leadId:e,error:i instanceof Error?i.message:String(i)}),r}}),setLoading:e=>t({isLoading:e}),setError:e=>t({error:e}),clearLeads:()=>t({leads:[]}),reset:()=>t(WZ),ensureUniqueCampaignHistory:()=>t(e=>({campaigns:jw(e.campaigns)}))})),Mfe=async t=>{var e,n;try{const{data:r}=await tt.from("user_profiles").select("id").eq("id",t.id).single();if(!r){const{error:i}=await tt.from("user_profiles").insert({id:t.id,email:t.email,full_name:((e=t.user_metadata)==null?void 0:e.full_name)||null,avatar_url:((n=t.user_metadata)==null?void 0:n.avatar_url)||null});i&&console.error("Error creating user profile:",i)}}catch(r){console.error("Error in createUserProfile:",r)}},Xfe=({onAuthChange:t})=>{const{user:e,loading:n,signIn:r,signUp:i,signOut:a}=Da(),[s,o]=Z.useState(!1),[l,u]=Z.useState(!1),[c,d]=Z.useState(""),[f,p]=Z.useState(""),[v,m]=Z.useState(""),[S,y]=Z.useState(""),[g,b]=Z.useState(null),[w,E]=Z.useState(null),[_,C]=Z.useState(!1),[k,x]=Z.useState(!1),T=Z.useRef(null),A=Z.useRef(!1),M=Z.useRef(null),z=n||s,N=Z.useCallback(()=>{u(!1),d(""),p(""),m(""),y(""),b(null),E(null),window.hcaptcha&&M.current&&window.hcaptcha.reset(M.current)},[]);return Z.useEffect(()=>{t&&t(e??null)},[e,t]),Z.useEffect(()=>{e&&!A.current&&(A.current=!0,Mfe(e)),e||(A.current=!1,x(!1),C(!1),N())},[e,N]),Z.useEffect(()=>{if(!k)return;const I=X=>{T.current&&!T.current.contains(X.target)&&(x(!1),C(!1),N())},O=X=>{X.key==="Escape"&&(x(!1),C(!1),N())};return document.addEventListener("mousedown",I),document.addEventListener("keydown",O),()=>{document.removeEventListener("mousedown",I),document.removeEventListener("keydown",O)}},[k,N]),z?h.createElement("div",{className:"flex items-center justify-center p-4"},h.createElement("div",{className:"text-center"},h.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),h.createElement("p",{className:"mt-2 text-sm text-gray-600"},"Loading..."))):h.createElement("div",{ref:T,className:"relative"},e?h.createElement("div",{className:"flex items-center space-x-4"},h.createElement("button",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 hover:text-gray-900",onClick:()=>x(!k)},h.createElement("span",null,e.email),h.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M19 9l-7 7-7-7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}))),k&&h.createElement("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50"},h.createElement("div",{className:"py-1"},h.createElement("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>{a(),x(!1)}},"Sign Out")))):h.createElement("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700",onClick:()=>C(!0)},"Sign In"),_&&!e&&h.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},h.createElement("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4"},h.createElement("h2",{className:"text-xl font-semibold mb-4"},l?"Create Account":"Sign In"),g&&h.createElement("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded"},g),w&&h.createElement("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded"},w),h.createElement("form",{onSubmit:async I=>{I.preventDefault(),o(!0),b(null);try{if(l){if(f!==v)throw new Error("Passwords don't match");await i(c,f),E("Check your email for confirmation!")}else await r(c,f)}catch(O){b(O instanceof Error?O.message:"An error occurred")}finally{o(!1)}}},h.createElement("div",{className:"mb-4"},h.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Email"),h.createElement("input",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",type:"email",value:c,onChange:I=>d(I.target.value)})),h.createElement("div",{className:"mb-4"},h.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),h.createElement("input",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",type:"password",value:f,onChange:I=>p(I.target.value)})),l&&h.createElement(h.Fragment,null,h.createElement("div",{className:"mb-4"},h.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Confirm Password"),h.createElement("input",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",type:"password",value:v,onChange:I=>m(I.target.value)})),h.createElement("div",{className:"mb-4"},h.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Full Name"),h.createElement("input",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",type:"text",value:S,onChange:I=>y(I.target.value)}))),h.createElement("div",{className:"flex justify-between items-center mb-4"},h.createElement("button",{className:"text-sm text-blue-600 hover:text-blue-800",type:"button",onClick:()=>{u(!l),N()}},l?"Already have an account?":"Need an account?")),h.createElement("div",{className:"flex space-x-3"},h.createElement("button",{className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",type:"button",onClick:()=>{C(!1),N()}},"Cancel"),h.createElement("button",{className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:s,type:"submit"},s?"Loading...":l?"Sign Up":"Sign In"))))))},Ufe=()=>{const[t,e]=Z.useState(!1);Z.useEffect(()=>{const r=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches;r==="dark"||!r&&i?(e(!0),document.documentElement.classList.add("dark")):(e(!1),document.documentElement.classList.remove("dark"))},[]);const n=()=>{const r=!t;e(r),r?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return h.createElement("button",{"aria-label":"Toggle dark mode",className:"p-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:n},t?h.createElement("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",fillRule:"evenodd"})):h.createElement("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})))},Wfe=({children:t})=>{const e=Al(),{user:n}=Da(),{currentCampaign:r,campaigns:i}=tn(o=>({currentCampaign:o.currentCampaign,campaigns:o.campaigns}));let a=null;if((r==null?void 0:r.status)==="running")a=r.campaign_id;else{const o=i.find(l=>l.status==="running");a=(o==null?void 0:o.campaign_id)??null}const s=[{name:"Start Discovery",href:"/discovery",isActive:o=>o==="/"||o==="/discovery"},{name:"My Campaigns",href:"/dashboard",disabled:!n}];return a&&s.push({name:"Live Progress",href:`/campaign/${a}/progress`,isActive:o=>o.startsWith(`/campaign/${a}/progress`)}),s.push({name:"Results",href:"/results"}),h.createElement("div",{className:"min-h-screen bg-gray-100 text-gray-900 transition-colors dark:bg-slate-900 dark:text-slate-100"},h.createElement("header",{className:"border-b border-yellow-400 bg-[#f9ed69] text-gray-900 dark:border-yellow-500 dark:bg-[#f9ed69] dark:text-gray-900"},h.createElement("div",{className:"mx-auto flex h-16 max-w-5xl items-center justify-between px-6"},h.createElement(iO,{"aria-label":"ProspectPro home",className:"flex h-full items-center",to:"/"},h.createElement("img",{alt:"ProspectPro",className:"h-16 w-auto",src:"/logo-full.svg"})),h.createElement("div",{className:"flex items-center space-x-3"},h.createElement(Xfe,null),h.createElement("div",{"aria-hidden":"true",className:"h-10 w-px bg-gray-300"}),h.createElement(Ufe,null)))),h.createElement("nav",{className:"border-b border-gray-200 bg-white text-sm font-medium transition-colors dark:border-slate-700 dark:bg-slate-900"},h.createElement("div",{className:"mx-auto flex max-w-5xl items-center px-6"},s.map(o=>{const l=!o.disabled&&(o.isActive?o.isActive(e.pathname):e.pathname===o.href);return o.disabled?h.createElement("span",{key:o.name,"aria-disabled":"true",className:"flex items-center border-b-2 border-transparent px-4 py-3 text-gray-400"},o.name):h.createElement(iO,{key:o.name,className:`flex items-center border-b-2 px-4 py-3 transition-colors ${l?"border-blue-600 text-blue-700 dark:border-sky-400 dark:text-sky-300":"border-transparent text-gray-600 hover:text-gray-900 dark:text-slate-400 dark:hover:text-slate-50"}`,to:o.href},o.name)}))),h.createElement("main",{className:"mx-auto max-w-5xl px-6 pb-12 pt-8 sm:pb-16 sm:pt-10"},t))},Nz=()=>({campaigns:[],currentCampaign:null,currentCampaignId:null,leads:[],isLoading:!1,error:null,jobProgress:{},apiUsageMetrics:[],lastMetricsCleanup:new Date}),Pfe=Nz(),zfe=t=>{if(t.campaign_id)return t.campaign_id;const e=t.id;return e!=null?String(e):null},PZ=t=>{const e=new Set,n=[];for(const r of t){const i=zfe(r);if(i===null){n.push(r);continue}e.has(i)||(e.add(i),n.push(r))}return n},Dfe=Rz()((t,e)=>({...Pfe,addCampaign:n=>t(r=>({campaigns:PZ([n,...r.campaigns])})),updateCampaign:(n,r)=>t(i=>{var a;return{campaigns:PZ(i.campaigns.map(s=>s.campaign_id===n?{...s,...r}:s)),currentCampaign:((a=i.currentCampaign)==null?void 0:a.campaign_id)===n?{...i.currentCampaign,...r}:i.currentCampaign}}),setCurrentCampaign:n=>t({currentCampaign:n,currentCampaignId:(n==null?void 0:n.campaign_id)??null}),setCurrentCampaignId:n=>t({currentCampaignId:n}),addLeads:n=>t(r=>{if(!Array.isArray(n))return console.warn("[enhancedCampaignStore] addLeads called with non-array",{type:typeof n}),r;try{const i=new Map,a=r.leads||[],s=np(n,null,"enhanced campaign store");for(const o of a)(o==null?void 0:o.id)!=null&&i.set(String(o.id),o);for(const o of s)i.set(String(o.id),o);return{leads:Array.from(i.values())}}catch(i){return console.error("[enhancedCampaignStore] addLeads error",{error:i instanceof Error?i.message:String(i),stack:i instanceof Error?i.stack:void 0}),r}}),setCampaignLeads:(n,r)=>t(i=>{if(!n)return console.warn("[enhancedCampaignStore] setCampaignLeads called without campaignId",{leadsType:typeof r}),i;if(!Array.isArray(r))return console.warn("[enhancedCampaignStore] Non-array leads payload ignored",{campaignId:n,payload:r}),i;try{const a=new Map,s=i.leads||[],o=np(r,n,"enhanced campaign store");for(const l of s)(l==null?void 0:l.campaign_id)!==n&&(l==null?void 0:l.id)!=null&&a.set(String(l.id),l);o.length===0&&r.length>0&&console.warn("[enhancedCampaignStore] All incoming leads dropped by sanitizer",{campaignId:n,originalSize:r.length});for(const l of o)a.set(String(l.id),l);return{leads:Array.from(a.values())}}catch(a){return console.error("[enhancedCampaignStore] setCampaignLeads error",{campaignId:n,error:a instanceof Error?a.message:String(a),stack:a instanceof Error?a.stack:void 0}),i}}),updateLead:(n,r)=>t(i=>{try{return{leads:i.leads.map(a=>a.id===n?{...a,...r}:a)}}catch(a){return console.error("[enhancedCampaignStore] updateLead error",{leadId:n,error:a instanceof Error?a.message:String(a)}),i}}),setLoading:n=>t({isLoading:n}),setError:n=>t({error:n}),clearLeads:()=>t({leads:[]}),reset:()=>t(Nz()),addJobProgress:(n,r)=>t(i=>({jobProgress:{...i.jobProgress,[n]:r}})),updateJobProgress:(n,r)=>t(i=>({jobProgress:{...i.jobProgress,[n]:i.jobProgress[n]?{...i.jobProgress[n],...r}:{id:n,campaignId:"",status:"pending",progress:0,currentStage:"",startedAt:new Date,...r}}})),getJobProgress:n=>e().jobProgress[n],addApiUsageMetric:n=>t(r=>({apiUsageMetrics:[n,...r.apiUsageMetrics]})),getApiUsageStats:()=>{const n=e().apiUsageMetrics,r=n.reduce((d,f)=>d+f.cost,0),i=n.reduce((d,f)=>d+f.requestCount,0),a=n.reduce((d,f)=>d+f.responseTimeMs,0),s=n.filter(d=>d.success).length,o={},l={},u={},c={};return n.forEach(d=>{o[d.service]=(o[d.service]||0)+d.cost,l[d.service]=(l[d.service]||0)+d.requestCount;const f=d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp);if(Number.isNaN(f.getTime()))return;const p=f.toISOString().split("T")[0],v=p.substring(0,7);u[p]=(u[p]||0)+d.cost,c[v]=(c[v]||0)+d.cost}),{totalCost:r,totalRequests:i,averageResponseTime:n.length>0?a/n.length:0,successRate:n.length>0?s/n.length:0,costByService:o,requestsByService:l,dailySpend:u,monthlySpend:c}},clearOldMetrics:(n=30)=>{const r=new Date;r.setDate(r.getDate()-n),t(i=>({apiUsageMetrics:i.apiUsageMetrics.filter(a=>{const s=a.timestamp instanceof Date?a.timestamp:new Date(a.timestamp);return Number.isNaN(s.getTime())?!0:s>r}),lastMetricsCleanup:new Date}))}})),jfe=({className:t=""})=>{const{getApiUsageStats:e,clearOldMetrics:n,apiUsageMetrics:r}=Dfe(),i=e();return Z.useEffect(()=>{n(30)},[n]),Object.entries(i.costByService).map(([a,s])=>({service:a,cost:s,requests:i.requestsByService[a]||0,avgCostPerRequest:s/(i.requestsByService[a]||1)})),Object.entries(i.monthlySpend).sort(([a],[s])=>s.localeCompare(a)).slice(0,6),Object.entries(i.dailySpend).sort(([a],[s])=>s.localeCompare(a)).slice(0,7),h.createElement("div",{className:`space-y-6 ${t}`},h.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900"}),h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900"}),h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900"}),h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900"})),h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900"}),h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900"}),h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900"}),h.createElement("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 dark:border-sky-800 dark:bg-sky-900/20"}))},Bfe=()=>{var l,u;const{user:t,loading:e}=Da();if(e)return h.createElement("div",{className:"flex items-center justify-center min-h-64"},h.createElement("div",{className:"flex items-center space-x-3"},h.createElement("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}),h.createElement("span",{className:"text-gray-600 dark:text-slate-400"},"Loading account...")));if(!t)return h.createElement("div",{className:"flex items-center justify-center min-h-64"},h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-8 text-center shadow-sm dark:border-slate-700 dark:bg-slate-900"},h.createElement("h1",{className:"text-xl font-semibold text-gray-900 dark:text-slate-100"},"Sign in to manage your account"),h.createElement("p",{className:"mt-2 text-sm text-gray-600 dark:text-slate-400"},"Access your billing, usage analytics, and profile settings after signing in.")));const n=((l=t==null?void 0:t.user_metadata)==null?void 0:l.full_name)||"ProspectPro User",r=(t==null?void 0:t.email)||"Not provided",i=(u=t==null?void 0:t.user_metadata)==null?void 0:u.avatar_url,a=t!=null&&t.created_at?new Date(t.created_at):null,s=t!=null&&t.last_sign_in_at?new Date(t.last_sign_in_at):null,o=n.split(" ").map(c=>c.charAt(0)).join("").slice(0,2).toUpperCase();return h.createElement("div",{className:"max-w-6xl mx-auto space-y-8"},h.createElement("div",{className:"border-b border-gray-200 pb-6 dark:border-slate-700"},h.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100"},"Account Settings"),h.createElement("p",{className:"mt-2 text-gray-600 dark:text-slate-400"},"Manage your account, view usage analytics, and configure preferences.")),h.createElement("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3"},h.createElement("div",{className:"lg:col-span-1"},h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900"},h.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100 mb-4"},"Profile Information"),h.createElement("div",{className:"flex items-center space-x-4 mb-6"},h.createElement("div",{className:"relative flex h-16 w-16 items-center justify-center overflow-hidden rounded-full border-2 border-blue-200 bg-blue-100 text-xl font-bold text-blue-700 shadow-sm dark:border-sky-500/60 dark:bg-sky-500/10 dark:text-sky-200"},i?h.createElement("img",{alt:n,className:"absolute inset-0 h-full w-full object-cover",src:i}):o||"PP"),h.createElement("div",null,h.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100"},n),h.createElement("p",{className:"text-sm text-gray-600 dark:text-slate-400"},r))),h.createElement("div",{className:"space-y-4"},h.createElement("div",null,h.createElement("dt",{className:"text-sm font-medium text-gray-500 dark:text-slate-400"},"Account Created"),h.createElement("dd",{className:"text-sm text-gray-900 dark:text-slate-100"},a?a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown")),h.createElement("div",null,h.createElement("dt",{className:"text-sm font-medium text-gray-500 dark:text-slate-400"},"Last Sign In"),h.createElement("dd",{className:"text-sm text-gray-900 dark:text-slate-100"},s?s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown")),h.createElement("div",null,h.createElement("dt",{className:"text-sm font-medium text-gray-500 dark:text-slate-400"},"User ID"),h.createElement("dd",{className:"text-xs font-mono text-gray-700 dark:text-slate-300 break-all"},(t==null?void 0:t.id)||"Not available")))),h.createElement("div",{className:"mt-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900"},h.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100 mb-4"},"Quick Actions"),h.createElement("div",{className:"space-y-3"},h.createElement("button",{className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",type:"button",onClick:()=>{alert("Profile editing will be available in a future update.")}},"Edit Profile"),h.createElement("button",{className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",type:"button",onClick:()=>{alert("Password management will be available in a future update.")}},"Change Password"),h.createElement("button",{className:"w-full rounded-md border border-red-300 bg-white px-4 py-2 text-sm font-medium text-red-600 transition-colors hover:bg-red-50 dark:border-red-600 dark:bg-slate-800 dark:text-red-400 dark:hover:bg-red-900/20",type:"button",onClick:()=>{confirm("Are you sure you want to delete your account? This action cannot be undone.")&&alert("Account deletion will be available in a future update.")}},"Delete Account")))),h.createElement("div",{className:"lg:col-span-2"},h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900"},h.createElement("div",{className:"mb-6"},h.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100"},"API Usage & Cost Analytics"),h.createElement("p",{className:"text-sm text-gray-600 dark:text-slate-400"},"Monitor your API usage patterns and costs across all services.")),h.createElement(jfe,null)))),h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900"},h.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100 mb-4"},"Subscription & Billing"),h.createElement("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 dark:border-sky-800 dark:bg-sky-900/20"},h.createElement("div",{className:"flex"},h.createElement("div",{className:"flex-shrink-0"},h.createElement("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",fillRule:"evenodd"}))),h.createElement("div",{className:"ml-3"},h.createElement("h3",{className:"text-sm font-medium text-blue-800 dark:text-sky-200"},"Current Plan: Pay-per-Use"),h.createElement("p",{className:"mt-1 text-sm text-blue-700 dark:text-sky-300"},"You're currently on a pay-per-use billing model with no monthly subscription. API costs are charged based on actual usage. Subscription plans with fixed pricing and enhanced features coming soon."))))))},Ffe=()=>h.createElement("div",{className:"space-y-6"},h.createElement("div",null,h.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Admin Panel"),h.createElement("p",{className:"mt-1 text-sm text-gray-500"},"System monitoring and API usage analytics")),h.createElement("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},h.createElement("div",{className:"bg-white shadow rounded-lg p-6"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"API Status"),h.createElement("div",{className:"space-y-3"},h.createElement("div",{className:"flex justify-between items-center"},h.createElement("span",{className:"text-sm text-gray-600"},"Google Places API"),h.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Active")),h.createElement("div",{className:"flex justify-between items-center"},h.createElement("span",{className:"text-sm text-gray-600"},"ZeroBounce API"),h.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Active")),h.createElement("div",{className:"flex justify-between items-center"},h.createElement("span",{className:"text-sm text-gray-600"},"State Registry APIs"),h.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Active")))),h.createElement("div",{className:"bg-white shadow rounded-lg p-6"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Usage Quotas"),h.createElement("div",{className:"space-y-3"},h.createElement("div",null,h.createElement("div",{className:"flex justify-between text-sm"},h.createElement("span",{className:"text-gray-600"},"Google Places"),h.createElement("span",{className:"text-gray-900"},"1,247 / 10,000")),h.createElement("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2"},h.createElement("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"12.5%"}}))),h.createElement("div",null,h.createElement("div",{className:"flex justify-between text-sm"},h.createElement("span",{className:"text-gray-600"},"Email Validation"),h.createElement("span",{className:"text-gray-900"},"342 / 1,000")),h.createElement("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2"},h.createElement("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"34.2%"}}))))),h.createElement("div",{className:"bg-white shadow rounded-lg p-6"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"System Health"),h.createElement("div",{className:"space-y-3"},h.createElement("div",{className:"flex justify-between items-center"},h.createElement("span",{className:"text-sm text-gray-600"},"Database"),h.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Healthy")),h.createElement("div",{className:"flex justify-between items-center"},h.createElement("span",{className:"text-sm text-gray-600"},"Edge Functions"),h.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"4/4 Active")),h.createElement("div",{className:"flex justify-between items-center"},h.createElement("span",{className:"text-sm text-gray-600"},"Response Time"),h.createElement("span",{className:"text-sm text-gray-900"},"~2.3s avg"))))),h.createElement("div",{className:"bg-white shadow rounded-lg p-6"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Recent Activity"),h.createElement("div",{className:"space-y-4"},h.createElement("div",{className:"flex items-start space-x-3"},h.createElement("div",{className:"flex-shrink-0 w-2 h-2 mt-2 bg-green-400 rounded-full"}),h.createElement("div",{className:"flex-1 min-w-0"},h.createElement("p",{className:"text-sm text-gray-900"},"Campaign completed successfully"),h.createElement("p",{className:"text-sm text-gray-500"},"47 leads discovered, $12.34 total cost • 2 minutes ago"))),h.createElement("div",{className:"flex items-start space-x-3"},h.createElement("div",{className:"flex-shrink-0 w-2 h-2 mt-2 bg-blue-400 rounded-full"}),h.createElement("div",{className:"flex-1 min-w-0"},h.createElement("p",{className:"text-sm text-gray-900"},"New campaign started"),h.createElement("p",{className:"text-sm text-gray-500"},"Searching for restaurants in San Francisco • 5 minutes ago"))),h.createElement("div",{className:"flex items-start space-x-3"},h.createElement("div",{className:"flex-shrink-0 w-2 h-2 mt-2 bg-yellow-400 rounded-full"}),h.createElement("div",{className:"flex-1 min-w-0"},h.createElement("p",{className:"text-sm text-gray-900"},"API rate limit warning"),h.createElement("p",{className:"text-sm text-gray-500"},"Google Places API approaching daily limit • 1 hour ago")))))),Hfe=()=>{const t=Ml(),[e]=UC(),[n,r]=Z.useState(!0),[i,a]=Z.useState(null);return Z.useEffect(()=>{(async()=>{try{const{data:o,error:l}=await tt.auth.getSession();if(l)throw l;if(o!=null&&o.session)t("/dashboard",{replace:!0});else{const u=e.get("error_description"),c=e.get("error");if(c)throw new Error(u||`Authentication error: ${c}`);t("/",{replace:!0})}}catch(o){console.error("Auth callback error:",o),a(o.message)}finally{r(!1)}})()},[t,e]),n?h.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900"},h.createElement("div",{className:"max-w-md w-full space-y-8 p-8"},h.createElement("div",{className:"text-center"},h.createElement("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"}),h.createElement("h2",{className:"mt-6 text-xl font-semibold text-gray-900 dark:text-gray-100"},"Completing Sign In..."),h.createElement("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400"},"Please wait while we authenticate your account.")))):i?h.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900"},h.createElement("div",{className:"max-w-md w-full space-y-8 p-8"},h.createElement("div",{className:"text-center"},h.createElement("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mx-auto"},h.createElement("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.866-.833-2.536 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}))),h.createElement("h2",{className:"mt-6 text-xl font-semibold text-gray-900 dark:text-gray-100"},"Authentication Failed"),h.createElement("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400"},i),h.createElement("div",{className:"mt-6"},h.createElement("button",{className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>t("/",{replace:!0})},"Return to Home"))))):null},uc=({title:t,subtitle:e,children:n,defaultOpen:r=!1,isOpen:i,onToggle:a,icon:s,persistKey:o,className:l="",disabled:u=!1,isLoading:c=!1})=>{const d=Z.useId(),f=i!==void 0;let p=r;if(f)p=i;else if(o&&typeof window<"u")try{const E=localStorage.getItem(`collapsible-${o}`);E!==null&&(p=JSON.parse(E))}catch(E){console.warn("Failed to load collapsed state from localStorage:",E)}const[v,m]=Z.useState(p),S=f?i:v;Z.useEffect(()=>{if(o&&!f&&typeof window<"u")try{localStorage.setItem(`collapsible-${o}`,JSON.stringify(v))}catch(E){console.warn("Failed to save collapsed state to localStorage:",E)}},[v,o,f]);const y=()=>{if(u)return;const E=!S;f||m(E),a==null||a(E)},g=E=>{(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),y())},b=`${d}-header`,w=`${d}-content`;return h.createElement("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 shadow-sm transition-shadow hover:shadow-md ${l}`},h.createElement("button",{"aria-controls":w,"aria-disabled":u,"aria-expanded":S,className:`w-full flex items-center justify-between px-4 py-3 text-left transition-colors ${u?"cursor-not-allowed opacity-50":"hover:bg-gray-50 dark:hover:bg-slate-700/50 cursor-pointer"} focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-inset dark:focus-visible:ring-sky-400`,disabled:u,id:b,type:"button",onClick:y,onKeyDown:g},h.createElement("div",{className:"flex items-center gap-3 flex-1 min-w-0"},s&&h.createElement("span",{"aria-hidden":"true",className:"flex-shrink-0 text-gray-500 dark:text-slate-400"},s),h.createElement("div",{className:"flex-1 min-w-0"},h.createElement("h3",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100"},t),e&&h.createElement("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-0.5"},e))),h.createElement("svg",{"aria-hidden":"true",className:`flex-shrink-0 w-5 h-5 text-gray-500 dark:text-slate-400 transition-transform ${S?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M19 9l-7 7-7-7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}))),S&&h.createElement("div",{"aria-labelledby":b,className:"px-4 pb-4 pt-2",id:w,role:"region"},c?h.createElement("div",{className:"flex items-center justify-center py-8"},h.createElement("div",{className:"flex flex-col items-center gap-2"},h.createElement("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),h.createElement("p",{className:"text-sm text-gray-500 dark:text-slate-400"},"Loading..."))):n))};function Yfe(t,e){t.src=e}const Jfe=t=>{var e,n,r,i="The Google Maps JavaScript API",a="google",s="importLibrary",o="__ib__",l=document,u=window,c=u[a]||(u[a]={}),d=c.maps||(c.maps={}),f=new Set,p=new URLSearchParams,v=()=>e||(e=new Promise(async(m,S)=>{var y;await(n=l.createElement("script")),p.set("libraries",[...f]+"");for(r in t)p.set(r.replace(/[A-Z]/g,g=>"_"+g[0].toLowerCase()),t[r]);p.set("callback",a+".maps."+o),Yfe(n,"https://maps.googleapis.com/maps/api/js?"+p),d[o]=m,n.onerror=()=>e=S(Error(i+" could not load.")),n.nonce=((y=l.querySelector("script[nonce]"))==null?void 0:y.nonce)||"",l.head.append(n)}));d[s]?console.warn(i+" only loads once. Ignoring:",t):d[s]=(m,...S)=>f.add(m)&&v().then(()=>d[s](m,...S))},$fe=t=>`The setOptions() function should only be called once. The options passed to the additional call (${JSON.stringify(t)}) will be ignored.`,Kfe=t=>`The google.maps.importLibrary() function is already defined, and @googlemaps/js-api-loader will use the existing function instead of overwriting it. The options passed to setOptions (${JSON.stringify(t)}) will be ignored.`,Qfe=()=>{},qfe=()=>{};let zZ=!1;function epe(t){if(zZ){Qfe($fe(t));return}tpe(t),zZ=!0}async function Bw(t){var e,n;if(!((n=(e=window==null?void 0:window.google)==null?void 0:e.maps)!=null&&n.importLibrary))throw new Error("google.maps.importLibrary is not installed.");return await google.maps.importLibrary(t)}function tpe(t){var n,r;const e=!!((r=(n=window.google)==null?void 0:n.maps)!=null&&r.importLibrary);e&&qfe(Kfe(t)),e||Jfe(t)}const npe=({onLocationChange:t,initialLocation:e={lat:40.7128,lng:-74.006,address:"New York, NY"},initialRadius:n=10})=>{var G;const r={}.VITE_GOOGLE_MAPS_API_KEY||{}.VITE_GOOGLE_PLACES_API_KEY,i={}.VITE_GOOGLE_MAP_ID,a=!1,[s,o]=Z.useState(e),[l,u]=Z.useState(n),[c,d]=Z.useState(e.address),[f,p]=Z.useState(!1),[v,m]=Z.useState(r&&!a?"loading":"idle"),[S,y]=Z.useState(null),g=Z.useRef(null),b=Z.useRef(null),w=Z.useRef(null),E=Z.useRef(null),_=Z.useRef(((G=window.google)==null?void 0:G.maps)??null),C=Z.useRef(null),k=Z.useRef(null),x=V=>{},T=async()=>{},A=V=>{u(V);const P=V*1609.34;E.current&&(E.current.setRadius(P),typeof E.current.setCenter=="function"&&E.current.setCenter({lat:s.lat,lng:s.lng})),t(s,V)},M=Z.useMemo(()=>[{value:1,label:"1 mile"},{value:5,label:"5 miles"},{value:10,label:"10 miles"},{value:25,label:"25 miles"},{value:50,label:"50 miles"},{value:100,label:"100 miles"}],[]),z=Z.useCallback(V=>V*1609.34,[]),N=()=>{const V=P=>Math.min(P*3.6,160);return h.createElement("div",{className:"relative h-full w-full overflow-hidden bg-gradient-to-br from-green-100 via-blue-50 to-blue-100"},h.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 via-white to-blue-100 opacity-60"}),h.createElement("div",{className:"absolute inset-0 opacity-20"},[...Array(6)].map((P,F)=>h.createElement("div",{key:`h-${F}`,className:"absolute border-t border-gray-400/70",style:{top:`${F*20}%`,width:"100%"}})),[...Array(8)].map((P,F)=>h.createElement("div",{key:`v-${F}`,className:"absolute border-l border-gray-400/70",style:{left:`${F*12.5}%`,height:"100%"}}))),h.createElement("div",{className:"absolute left-1/2 top-1/2 z-10 -translate-x-1/2 -translate-y-1/2"},h.createElement("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 rounded-full border-2 border-blue-500 border-dashed bg-blue-200/40",style:{width:`${V(l)}px`,height:`${V(l)}px`}}),h.createElement("div",{className:"relative h-4 w-4 rounded-full border-2 border-white bg-red-500 shadow-lg"},h.createElement("div",{className:"absolute left-1/2 top-full -ml-[2px] border-l-[2px] border-r-[2px] border-t-[6px] border-l-transparent border-r-transparent border-t-red-500"}))),h.createElement("div",{className:"absolute bottom-3 left-3 right-3 rounded-md bg-white/90 px-3 py-2 text-xs font-medium text-gray-800 shadow-sm"},s.address))},O={idle:{label:"Static preview",className:"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300"},loading:{label:"Loading maps",className:"bg-amber-100 text-amber-700 dark:bg-amber-500/10 dark:text-amber-200"},ready:{label:"Live map",className:"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-200"},error:{label:"Fallback preview",className:"bg-rose-100 text-rose-700 dark:bg-rose-500/10 dark:text-rose-200"}}[v];Z.useEffect(()=>{if(!r||a){_.current=null,C.current=null,k.current=null,m("idle");return}m("loading");let V=!1;const P=async()=>{var F;try{epe({key:r,...i?{mapIds:[i]}:{}}),console.info("Loading Google Maps",{hasKey:!!r,mapId:i?`${i.slice(0,8)}…`:"none"});const[{Map:ie,Circle:re},{AdvancedMarkerElement:ve},{Geocoder:ce}]=await Promise.all([Bw("maps"),Bw("marker"),Bw("geocoding")]);if(V)return;_.current=((F=window.google)==null?void 0:F.maps)??null,C.current={Map:ie,Circle:re,AdvancedMarkerElement:ve,Geocoder:ce},y(null),m("ready")}catch(ie){if(V)return;console.error("Google Maps load error:",ie),_.current=null,C.current=null,k.current=null,y(ie instanceof Error?ie.message:"Failed to load Google Maps"),m("error")}};return k.current=P(),()=>{V=!0}},[r,a,i]);const X=Z.useCallback(V=>V<=1?14:V<=5?12:V<=10?11:V<=25?9:V<=50?8:7,[]);Z.useEffect(()=>{var ve,ce,H;if(v!=="ready"||!g.current)return;const V=_.current,P=C.current;if(!V||!P){m("error");return}const F={lat:s.lat,lng:s.lng},re=(()=>P!=null&&P.Circle?P.Circle:V!=null&&V.Circle?V.Circle:null)();if(re||E.current||console.warn("[GeographicSelector] Google Maps Circle class not available."),b.current)b.current.setCenter(F),b.current.setZoom(X(l)),(ve=w.current)!=null&&ve.setPosition?w.current.setPosition(F):w.current&&(w.current.position=F),!E.current&&re&&b.current&&(E.current=new re({center:F,radius:z(l),strokeColor:"#2563EB",strokeOpacity:.8,strokeWeight:2,fillColor:"#60A5FA",fillOpacity:.2}),E.current&&(typeof E.current.setMap=="function"?E.current.setMap(b.current):E.current.map=b.current)),(ce=E.current)==null||ce.setCenter(F),(H=E.current)==null||H.setRadius(z(l));else{const pe={center:F,zoom:X(l),disableDefaultUI:!0,zoomControl:!0};i&&(pe.mapId=i),b.current=new P.Map(g.current,pe),P.AdvancedMarkerElement?w.current=new P.AdvancedMarkerElement({position:F,map:b.current}):V&&V.Marker&&(w.current=new V.Marker({position:F,map:b.current})),re&&(E.current=new re({center:F,radius:z(l),strokeColor:"#2563EB",strokeOpacity:.8,strokeWeight:2,fillColor:"#60A5FA",fillOpacity:.2}),E.current&&(typeof E.current.setMap=="function"?E.current.setMap(b.current):E.current.map=b.current))}},[X,i,v,z,l,s]);const L=()=>null;return h.createElement("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,380px),1fr]"},h.createElement("div",{className:"flex flex-col gap-4"},h.createElement("section",{className:"rounded-2xl border border-slate-200 bg-white/90 p-5 shadow-sm backdrop-blur dark:border-slate-700 dark:bg-slate-900/60"},h.createElement("div",{className:"space-y-5"},h.createElement("div",null,h.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"},"Primary Location"),h.createElement("label",{className:"mt-1 block text-base font-semibold text-slate-900 dark:text-slate-100"},"Where should we focus discovery?"),h.createElement("div",{className:"mt-3 flex flex-col gap-3 sm:flex-row"},h.createElement("div",{className:"flex flex-1 items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 shadow-sm transition focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500 dark:border-slate-600 dark:bg-slate-900"},h.createElement("svg",{"aria-hidden":"true",className:"h-5 w-5 text-blue-500 dark:text-sky-300",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M10 2a6 6 0 00-6 6c0 4.08 4.2 9.07 5.36 10.47a.84.84 0 001.28 0C11.8 17.07 16 12.08 16 8a6 6 0 00-6-6zm0 8.5a2.5 2.5 0 110-5 2.5 2.5 0 010 5z",fillRule:"evenodd"})),h.createElement("input",{"aria-label":"Location search input",className:"flex-1 border-none bg-transparent text-sm text-slate-900 outline-none placeholder:text-slate-400 focus:ring-0 dark:text-slate-100 dark:placeholder:text-slate-500",placeholder:"Enter city, state, or address",type:"text",value:c,onBlur:T,onChange:V=>x(V.target.value),onKeyPress:V=>V.key==="Enter"&&T()})),h.createElement("button",{className:"inline-flex items-center justify-center rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-60 dark:bg-sky-500 dark:hover:bg-sky-600",disabled:f,type:"button",onClick:T},f?"Searching…":"Search")),h.createElement("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400"},"Use a city, full address, or landmark. We’ll automatically match nearby businesses.")),h.createElement("div",null,h.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"},"Search Radius"),h.createElement("label",{className:"mt-1 block text-base font-semibold text-slate-900 dark:text-slate-100"},"How wide should we scan?"),h.createElement("div",{"aria-label":"Search radius in miles",className:"mt-3 grid grid-cols-2 gap-2 sm:grid-cols-3",role:"radiogroup"},M.map(V=>{const P=l===V.value;return h.createElement("button",{key:V.value,"aria-checked":P,className:`flex items-center justify-center rounded-lg border px-3 py-2 text-sm font-medium transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-slate-900 ${P?"border-blue-600 bg-blue-600 text-white shadow-sm dark:border-sky-400 dark:bg-sky-500":"border-slate-200 bg-white text-slate-600 hover:border-blue-400 hover:text-blue-600 dark:border-slate-600 dark:bg-slate-900 dark:text-slate-200 dark:hover:border-sky-400"}`,role:"radio",type:"button",onClick:()=>A(V.value)},V.label)})),h.createElement("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400"},"Tip: 10–25 miles captures metro areas, 50+ miles is ideal for statewide searches.")))),h.createElement("section",{className:"relative overflow-hidden rounded-2xl border border-blue-100 bg-gradient-to-br from-blue-50 via-white to-blue-100 p-5 shadow-sm dark:border-sky-500/30 dark:from-slate-900 dark:via-slate-900/70 dark:to-slate-900"},h.createElement("div",{className:"relative z-10 flex flex-col gap-2"},h.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-blue-600 dark:text-sky-300"},"Approximate Coverage"),h.createElement("p",{className:"text-2xl font-semibold text-blue-900 dark:text-slate-100"},"~",Math.round(Math.PI*l*l)," square miles"),h.createElement("p",{className:"text-sm text-blue-700 dark:text-sky-200"},"Radius: ",l," miles · ",s.address)),h.createElement("div",{className:"pointer-events-none absolute -right-16 -top-16 h-32 w-32 rounded-full border border-blue-200/70 bg-blue-200/40 dark:border-sky-500/40 dark:bg-sky-500/10"}),h.createElement("div",{className:"pointer-events-none absolute -bottom-20 -left-10 h-28 w-28 rounded-full border border-blue-100/60 bg-blue-100/30 dark:border-sky-500/20 dark:bg-sky-500/10"}))),h.createElement("section",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-700 dark:bg-slate-900/60"},h.createElement("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-3"},h.createElement("div",null,h.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400"},"Geographic Coverage"),h.createElement("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100"},"Visualize your target radius"),h.createElement("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400"},"The preview updates instantly as you adjust the radius or address.")),h.createElement("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold ${O.className}`},O.label)),h.createElement("div",{className:"relative overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900/80"},h.createElement("div",{className:"relative aspect-[4/3] w-full max-h-[360px]"},h.createElement("div",{ref:g,className:`absolute inset-0 h-full w-full transition-opacity duration-300 ${v==="ready"?"opacity-100":"pointer-events-none opacity-0"}`}),v!=="ready"&&h.createElement("div",{className:"absolute inset-0"},h.createElement(N,null),r&&v==="loading"&&h.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-slate-900/80"},h.createElement("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-200"},h.createElement("span",{className:"inline-flex h-4 w-4 animate-spin rounded-full border-2 border-blue-400 border-t-transparent"}),h.createElement("span",null,"Loading interactive map…"))),r&&v==="error"&&h.createElement("div",{className:"absolute inset-0 flex items-center justify-center px-4 text-center"},h.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm font-medium text-red-600 dark:border-red-800 dark:bg-red-900/30 dark:text-red-300"},"Unable to load Google Maps."," ",S??"Check API key, Map ID, and browser extensions.",h.createElement("button",{className:"mt-3 rounded-md border border-red-300 px-3 py-1 text-xs font-semibold text-red-600 transition hover:bg-red-100",type:"button",onClick:()=>{y(null),m("loading")}},"Retry")))),!r&&h.createElement("div",{className:"absolute left-3 top-3 rounded-full bg-gray-900/70 px-3 py-1 text-xs font-semibold text-white shadow"},"Add a Google Maps API key for live coverage")))),h.createElement(L,null))},Oz={"Automotive Services":["Auto Body Shop","Auto Detailing","Auto Parts Store","Automotive Glass Service","Car Dealer","Car Rental","Car Repair","Car Wash","Electric Vehicle Charging Station","Gas Station","Motorcycle Dealer","Oil Change Service","Rv Dealer","Smog Check Station","Tire Shop","Towing Service","Transmission Shop","Truck Dealer"],"Education & Training":["Art School","Charter School","College","Community College","Cooking School","Dance Studio","Daycare","Driving School","Kindergarten","Language School","Library","Music School","Preschool","Primary School","Private School","Public School","School","Secondary School","Summer Camp Organizer","Technical School","Training Center","Tutoring Center","University","Vocational School"],"Entertainment & Recreation":["Amusement Park","Aquarium","Arcade","Arena","Art Gallery","Banquet Hall","Beach","Botanical Garden","Bowling Alley","Casino","Comedy Club","Concert Hall","Convention Center","Escape Room","Event Venue","Fitness Center","Golf Course","Gym","Karaoke Venue","Marina","Mini Golf","Movie Theater","Museum","Night Club","Paintball","Park","Rock Climbing Gym","Ski Resort","Sports Complex","Stadium","Swimming Pool","Tennis Court","Theater","Tourist Attraction","Trampoline Park","Wedding Venue","Yoga Studio","Zoo"],"Financial Services":["Atm","Bank","Check Cashing Service","Credit Union","Cryptocurrency Exchange","Financial Planner","Investment Firm","Money Transfer Service","Mortgage Broker","Payday Lender","Stock Broker"],"Food & Dining":["Bakery","Bar","Barbecue Restaurant","Brewery","Brunch Restaurant","Buffet","Burger Joint","Cafe","Catering Service","Chinese Restaurant","Cocktail Bar","Coffee Shop","Deli","Dessert Shop","Distillery","Donut Shop","Fast Food Restaurant","Food Court","Food Stand","Food Truck","Ice Cream Shop","Indian Restaurant","Italian Restaurant","Japanese Restaurant","Juice Bar","Meal Delivery","Meal Takeaway","Mexican Restaurant","Pizza Restaurant","Pub","Restaurant","Sandwich Shop","Seafood Restaurant","Smoothie Shop","Steakhouse","Sushi Restaurant","Taco Place","Tea House","Wine Bar","Winery"],"Government & Public Services":["City Hall","Consulate","Courthouse","County Office","Dmv","Embassy","Fire Station","Government Office","Municipal Building","Passport Office","Police Station","Post Office","Public Library","Public School","Public Works","Social Services Office","Tax Office","Voter Registration Office"],"Healthcare & Medical":["Acupuncture Clinic","Chiropractor","Dental Clinic","Dentist","Doctor","Drugstore","Health Insurance Office","Hospital","Medical Center","Medical Equipment Supplier","Medical Lab","Mental Health Clinic","Occupational Therapist","Optical Clinic","Optometrist","Orthodontist","Pharmacy","Physical Therapy","Physiotherapist","Psychiatrist","Psychologist","Skin Care Clinic","Speech Therapist","Urgent Care","Veterinary Care","Wellness Center"],"Home & Property Services":["Appliance Repair","Carpet Cleaning","Cleaning Service","Dry Cleaning","Electrician","Fence Contractor","Flooring Contractor","Gardener","General Contractor","Gutter Service","Handyman","Home Inspector","Hvac Contractor","Landscaping","Laundry","Locksmith","Moving Company","Painter","Pest Control","Plumber","Pool Service","Property Management","Roofing Contractor","Storage","Window Cleaning"],"Hospitality & Lodging":["Bed And Breakfast","Boutique Hotel","Campground","Extended Stay Hotel","Guest House","Hostel","Hotel","Inn","Lodge","Motel","Resort","Rv Park","Vacation Rental"],"Personal Care & Beauty":["Barber Shop","Beauty Salon","Beautician","Body Art Service","Cosmetics Store","Day Spa","Eyebrow Threading","Facial Spa","Hair Care","Hair Salon","Makeup Artist","Massage","Nail Salon","Piercing Shop","Sauna","Spa","Tanning Studio","Tattoo Parlor","Waxing Salon"],"Professional Services":["Accounting","Advertising Agency","Architecture Firm","Attorney","Business Center","Consultant","Corporate Office","Employment Agency","Engineering Office","Financial Advisor","Insurance Agency","Lawyer","Marketing Agency","Notary","Real Estate Agency","Recruiter","Tax Preparation"],"Religious & Community":["Cemetery","Church","Civic Organization","Community Center","Crematorium","Funeral Home","Meditation Center","Mosque","Non-Profit Organization","Place Of Worship","Religious Center","Social Club","Spiritual Center","Synagogue","Temple"],"Retail & Shopping":["Antique Shop","Art Supply Store","Bicycle Store","Book Store","Boutique","Clothing Store","Convenience Store","Craft Store","Department Store","Discount Store","Dollar Store","Electronics Store","Florist","Furniture Store","Garden Center","Gift Shop","Grocery Store","Hardware Store","Hobby Shop","Home Goods Store","Jewelry Store","Liquor Store","Music Store","Office Supply Store","Optical Store","Outlet Store","Party Supply Store","Pet Store","Second Hand Store","Shoe Store","Shopping Mall","Sporting Goods Store","Supermarket","Thrift Store","Tobacco Shop","Toy Store","Vape Shop"],"Technology & IT Services":["App Development","Cell Phone Store","Co-Working Space","Computer Repair","Cybersecurity Firm","Data Center","Internet Cafe","It Services","Managed Services Provider","Software Company","Tech Support","Telecommunications Service Provider","Web Design"],"Transportation & Transit":["Airport","Bike Rental","Bus Station","Bus Tour Agency","Car Sharing","Cruise Agency","Ferry Terminal","Limousine Service","Parking Garage","Parking Lot","Rest Area","Ride Share Location","Scooter Rental","Shuttle Service","Subway Station","Taxi Stand","Train Station","Travel Agency","Truck Stop"]},rpe=({selectedCategories:t,selectedBusinessTypes:e,onCategoriesChange:n,onBusinessTypesChange:r,disabled:i=!1})=>{const[a,s]=Z.useState(null),o=u=>{s(c=>c===u?null:u)},l=u=>{e.includes(u)?r(e.filter(c=>c!==u)):r([...e,u])};return h.createElement("div",{className:"space-y-2"},Object.entries(Oz).map(([u,c])=>h.createElement("div",{key:u},h.createElement("button",{className:"w-full flex items-center justify-between px-3 py-2 bg-gray-100 dark:bg-gray-800 rounded-md focus:outline-none",disabled:i,type:"button",onClick:()=>o(u)},h.createElement("span",{className:"font-medium"},u),h.createElement("span",{className:"text-xs text-gray-500"},a===u?"▲":"▼")),a===u&&h.createElement("div",{className:"pl-4 mt-1 space-y-1"},c.map(d=>h.createElement("label",{key:d,className:"flex items-center space-x-2"},h.createElement("input",{checked:e.includes(d),disabled:i,type:"checkbox",onChange:()=>l(d)}),h.createElement("span",null,d)))))))},qk=({isDiscovering:t,progress:e,currentStage:n,cacheStats:r})=>!t&&!r?null:h.createElement("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},t&&h.createElement(h.Fragment,null,h.createElement("div",{className:"flex items-center mb-4"},h.createElement("div",{className:"flex-shrink-0"},h.createElement("svg",{className:"animate-spin h-5 w-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},h.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.createElement("path",{className:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"}))),h.createElement("div",{className:"ml-3"},h.createElement("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200"},"Progressive Enrichment in Progress"),h.createElement("p",{className:"text-sm text-blue-600 dark:text-blue-300"},n||`${e}% complete`))),h.createElement("div",{className:"w-full bg-blue-200 dark:bg-blue-800 rounded-full h-2"},h.createElement("div",{className:"bg-blue-600 dark:bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${e}%`}}))),r&&h.createElement("div",{className:"mt-4"},h.createElement("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2"},"🚀 Cache Performance (90-Day Intelligent Caching)"),h.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3"},h.createElement("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600"},h.createElement("div",{className:"text-lg font-bold text-green-600 dark:text-green-400"},r.cache_hit_ratio.toFixed(1),"%"),h.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400"},"Hit Ratio")),h.createElement("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600"},h.createElement("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400"},r.cache_hits),h.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400"},"Cache Hits")),h.createElement("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600"},h.createElement("div",{className:"text-lg font-bold text-yellow-600 dark:text-yellow-400"},r.cache_misses),h.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400"},"Cache Misses")),h.createElement("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600"},h.createElement("div",{className:"text-lg font-bold text-green-600 dark:text-green-400"},"$",r.cost_savings.toFixed(2)),h.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400"},"Saved"))))),ipe=({chips:t,onRemove:e,onClearAll:n,maxVisible:r=10,showTooltips:i=!0,className:a="",ariaLabel:s="Selected filters"})=>{const[o,l]=Z.useState(!1);return Z.useState(null),Z.useRef(new Map),o||t.slice(0,r),t.length>r,t.length-r,t.length===0?null:h.createElement("div",{"aria-label":s,className:`flex flex-wrap items-center gap-2 ${a}`,role:"group"})},ape=t=>{const e=[];return t.categories&&t.categories.length>0&&t.categories.forEach((n,r)=>{e.push({id:`category-${r}`,label:"Category",value:n,category:"Category"})}),t.location&&e.push({id:"location",label:"Location",value:t.location,category:"Location"}),t.radius&&e.push({id:"radius",label:"Radius",value:`${t.radius} miles`,category:"Radius"}),t.minConfidence&&e.push({id:"confidence",label:"Min Confidence",value:`${t.minConfidence}%`,category:"Confidence"}),e},spe=({steps:t,activeStep:e,onStepChange:n,keyboardNavigation:r=!0,allowBackNavigation:i=!0,className:a=""})=>{const s=Z.useId(),o=Z.useRef([]),l=Z.useRef(null);Z.useEffect(()=>{var m;const v=o.current[e];v&&((m=document.activeElement)==null?void 0:m.closest('[role="group"]'))===l.current&&v.focus()},[e]);const u=v=>{n&&(i||v>e)&&n(v)},c=(v,m)=>{if(!r||!n)return;let S=null;switch(v.key){case"ArrowLeft":v.preventDefault(),S=Math.max(0,m-1);break;case"ArrowRight":v.preventDefault(),S=Math.min(t.length-1,m+1);break;case"Home":v.preventDefault(),S=0;break;case"End":v.preventDefault(),S=t.length-1;break;case"Enter":case" ":v.preventDefault(),u(m);return}if(S!==null){const y=o.current[S];y&&y.focus()}},d=v=>t[v].status?t[v].status:v<e?"completed":v===e?"active":"pending",f=v=>{const m=d(v),S=v===e||i&&v<e,y="flex items-center justify-center w-10 h-10 rounded-full font-medium text-sm transition-all";switch(m){case"completed":return`${y} bg-blue-600 text-white dark:bg-sky-500 ${S?"cursor-pointer hover:bg-blue-700 dark:hover:bg-sky-600":""}`;case"active":return`${y} bg-blue-600 text-white dark:bg-sky-500 ring-4 ring-blue-200 dark:ring-sky-900`;case"error":return`${y} bg-red-600 text-white dark:bg-red-500`;default:return`${y} bg-gray-200 text-gray-600 dark:bg-slate-700 dark:text-slate-400`}},p=v=>{const m=d(v),S="flex-1 h-0.5 mx-2 transition-colors";return m==="completed"?`${S} bg-blue-600 dark:bg-sky-500`:`${S} bg-gray-200 dark:bg-slate-700`};return h.createElement("div",{className:`w-full ${a}`},h.createElement("nav",{ref:l,"aria-label":"Progress steps",className:"flex items-center justify-between",role:"group"},t.map((v,m)=>{const S=d(m),y=`${s}-step-${m}`,g=m===e||i&&m<e,b=m===t.length-1;return h.createElement(h.Fragment,{key:v.id||y},h.createElement("div",{className:"flex flex-col items-center flex-shrink-0"},h.createElement("button",{ref:w=>o.current[m]=w,"aria-current":S==="active"?"step":void 0,"aria-label":`${v.label}${v.description?`: ${v.description}`:""}`,className:`${f(m)} focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-slate-900`,disabled:!g&&!r,id:y,tabIndex:m===e?0:-1,type:"button",onClick:()=>u(m),onKeyDown:w=>c(w,m)},S==="completed"?h.createElement("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",fillRule:"evenodd"})):S==="active"?h.createElement("span",{className:"text-sm font-semibold"},m+1):h.createElement("span",{className:"text-sm font-semibold text-gray-400 dark:text-gray-500"},m+1)),v.label&&h.createElement("div",{className:"mt-2 text-center"},h.createElement("div",{className:`text-xs font-medium ${S==="active"?"text-blue-600 dark:text-sky-400":S==="completed"?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400"}`},v.label),v.description&&h.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},v.description))),!b&&h.createElement("div",{className:p(m)}))})))},ope={BASE:["Business verification","Company data (name, industry, size)","Phone & address validation","Generic company email"],PROFESSIONAL:["Everything in Base","Professional email discovery & verification","Email deliverability verification","Enhanced company enrichment"],ENTERPRISE:["Everything in Professional","Executive contact enrichment","Full compliance verification","Advanced data validation"]},lpe=({selectedTier:t,onTierChange:e,numberOfLeads:n})=>{const r=i=>i>=1?`$${i.toFixed(2)}`:i>=.01?`$${i.toFixed(3)}`:`$${i.toFixed(4)}`;return h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Data Enhancement Tiers"),h.createElement("div",{className:"space-y-2"},Object.entries(Qk).map(([i,a])=>{const s=i,o=n*a.price,l=ope[s];return h.createElement("div",{key:i,className:`rounded-lg p-4 cursor-pointer transition-all border-l-4 ${t===i?"bg-blue-50 dark:bg-blue-950/30 border-l-blue-500 shadow-md dark:shadow-gray-900/20":"bg-gray-100 dark:bg-gray-700 border-l-gray-200 dark:border-l-gray-600 hover:bg-gray-200 dark:hover:bg-gray-600 hover:border-l-gray-300 dark:hover:border-l-gray-500"}`,onClick:()=>e(s)},h.createElement("div",{className:"flex items-center justify-between mb-3"},h.createElement("div",{className:"flex items-center space-x-3"},h.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},a.name),a.badge&&h.createElement("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a.badge==="Most Popular"?"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200":a.badge==="Premium"?"bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-200":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`},a.badge),h.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},r(a.price)," per lead"),t===i&&h.createElement("div",{className:"flex items-center text-sm text-blue-600 dark:text-blue-400"},h.createElement("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",fillRule:"evenodd"})),"Selected")),h.createElement("div",{className:"text-right"},h.createElement("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400"},"$",o.toFixed(2)),h.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},"Total cost"))),h.createElement("div",{className:"flex items-start justify-between"},h.createElement("div",{className:"flex-1"},h.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2"},a.description),h.createElement("div",{className:"flex flex-wrap gap-2"},l.map((u,c)=>h.createElement("div",{key:c,className:"flex items-center text-xs bg-white dark:bg-gray-800 rounded-full px-2 py-1 border border-gray-200 dark:border-gray-600"},h.createElement("svg",{className:"w-3 h-3 text-green-500 dark:text-green-400 mr-1 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",fillRule:"evenodd"})),h.createElement("span",{className:"text-gray-700 dark:text-gray-200"},u)))))))})))},upe=t=>{if(!Array.isArray(t))return[];const e=[];for(const n of t){const r=typeof n.email=="string"?n.email:null;r&&e.push({email:r,confidence:typeof n.confidence=="number"?n.confidence:0,verified:!!n.verified,type:typeof n.type=="string"?n.type:void 0,firstName:typeof n.firstName=="string"?n.firstName:void 0,lastName:typeof n.lastName=="string"?n.lastName:void 0,position:typeof n.position=="string"?n.position:void 0})}return e},cpe=(t,e,n)=>{var i,a,s,o;return{id:(()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`legacy-${e}-${Math.random().toString(36).slice(2,11)}`)(),campaign_id:e,business_name:t.businessName??"Unknown business",address:t.address,phone:t.phone,website:t.website,email:t.email,confidence_score:t.optimizedScore??0,validation_status:"validated",created_at:new Date().toISOString(),cost_to_acquire:t.validationCost??0,data_sources:((i=t.enhancementData)==null?void 0:i.verificationSources)??t.dataSources??[],enrichment_tier:n,vault_secured:!0,enrichment_data:{emails:upe(t.emails??((a=t.enhancementData)==null?void 0:a.emails)),verificationSources:((s=t.enhancementData)==null?void 0:s.verificationSources)??[],processingMetadata:(o=t.enhancementData)==null?void 0:o.processingMetadata,dataSources:t.dataSources}}},dpe=({legacyData:t,requestConfig:e,tierConfig:n})=>{var c,d,f,p,v,m,S;if(!(t!=null&&t.campaignId))throw new Error("Legacy discovery payload missing campaignId");const r=(t.leads??[]).map(y=>cpe(y,t.campaignId,n.name)),i=((c=t.results)==null?void 0:c.totalFound)??r.length,a=((d=t.results)==null?void 0:d.qualified)??r.length,s=((f=t.optimization)==null?void 0:f.totalCost)??r.reduce((y,g)=>y+(g.cost_to_acquire??0),0),o=((p=t.metadata)==null?void 0:p.timestamp)??new Date().toISOString(),l={campaign_id:t.campaignId,business_type:e.business_type||e.search_terms||((v=t.requirements)==null?void 0:v.businessType)||"",location:e.location||((m=t.requirements)==null?void 0:m.location)||"",status:"completed",progress:100,total_cost:s,leads_found:i,leads_qualified:a,leads_validated:a,created_at:o,completed_at:o,tier_used:n.name,vault_secured:!0},u={campaign_id:t.campaignId,job_id:void 0,status:"completed",estimated_time:void 0,realtime_channel:void 0,total_found:i,qualified_count:a,total_cost:s,processing_time:((S=t.optimization)==null?void 0:S.processingTime)??"< 5s",tier_used:n.name,vault_status:"secured",businesses:r};return u.__legacyMeta={campaign:l,leads:r},u},Iz=t=>{const{user:e}=Da(),{setLoading:n,setError:r,clearLeads:i,setCurrentCampaign:a,setCurrentCampaignId:s,setCampaignLeads:o,addCampaign:l}=tn(),[u,c]=Z.useState(0),[d,f]=Z.useState(""),[p]=Z.useState(null),v=zV({mutationFn:async m=>{var S,y,g,b;n(!0),r(null),c(10),f("Initializing user-aware discovery..."),i(),a(null),s(null);try{console.log("🚀 Starting user-aware business discovery:",m),console.log("📊 Current user state:",{userId:e==null?void 0:e.id,userEmail:e==null?void 0:e.email});const w=await Ez();if(console.log("🔑 Session check result:",{hasSession:w,userId:e==null?void 0:e.id}),!w||!(e!=null&&e.id))throw new Error("Please sign in to run a discovery campaign.");const E=m.selectedTier||"PROFESSIONAL",_=Qk[E],C=m.keywords?m.keywords.split(",").map(P=>P.trim()).filter(Boolean):void 0,k={tradeAssociation:m.trade_association??!1,professionalLicense:m.professional_license??!1,chamberVerification:m.chamber_verification??!1,apolloDiscovery:E==="ENTERPRISE"};f(`Using ${_.name} tier ($${_.price}/lead)`),c(20);const x=await Sz();console.log("🎫 Retrieved session token:",{hasToken:!!x,tokenLength:x==null?void 0:x.length,tokenPreview:x?`${x.substring(0,20)}...${x.substring(x.length-20)}`:null});const T={tier:E,tierName:_.name,unitPrice:_.price,estimatedBudget:m.max_results*_.price,currency:"USD"},A={businessType:m.business_type||m.search_terms,location:m.location,keywords:C,searchRadius:m.search_radius,expandGeography:m.expand_geography,maxResults:m.max_results,budgetLimit:m.max_results*_.price,minConfidenceScore:m.min_confidence_score||50,tierKey:E,tierName:_.name,tierPrice:_.price,options:k,sessionUserId:e.id,userId:e.id,billingContext:T};if(!x)throw new Error("Unable to read session token. Please sign in again.");console.log("📤 Calling edge function with:",{functionName:"business-discovery-background",hasToken:!!x,userId:e.id,businessType:A.businessType,location:A.location,maxResults:A.maxResults});const{data:M,error:z}=await A_("business-discovery-background",A,{token:x}),N=z==null?void 0:z.context;let I=null;if(N)try{const F=await N.clone().text();try{I=JSON.parse(F)}catch{I=F}}catch(P){console.warn("Unable to parse edge error payload",P)}const O={hasData:!!M,hasError:!!z,errorDetails:z?{message:z.message,status:z.status,name:z.name,statusCode:N==null?void 0:N.status,statusText:N==null?void 0:N.statusText,payload:I}:null,responsePreview:M?{success:M.success,campaignId:M.campaignId,jobId:M.jobId,error:M.error}:null};if(console.log("📥 Edge function response:",O),(N==null?void 0:N.status)===401&&typeof((S=O.errorDetails)==null?void 0:S.payload)=="object"&&((g=(y=O.errorDetails)==null?void 0:y.payload)==null?void 0:g.message)==="Invalid JWT"){console.warn("⚠️ Falling back to legacy user-aware discovery due to Invalid JWT");const P={...A,sessionUserId:e.id,userId:e.id},{data:F,error:ie}=await A_("business-discovery-user-aware",P,{token:x});if(ie)throw console.error("❌ Legacy discovery invoke failed:",ie),new Error(ie.message||"Legacy discovery fallback failed with unknown error.");if(!F)throw new Error("Legacy discovery returned no data");if(F.success===!1)throw new Error(F.error||"Legacy discovery fallback reported failure.");const re=dpe({legacyData:F,requestConfig:m,tierConfig:_});return console.log("✅ Legacy discovery fallback succeeded",{campaignId:re.campaign_id,leadCount:re.businesses.length}),c(100),f("Legacy discovery completed ✅"),re}if(z)throw console.error("❌ Background discovery error:",z),(b=z.message)!=null&&b.includes("JWT")||z.status===401?(await tt.auth.signOut(),new Error("Your session expired. Please sign back in to run discovery.")):new Error(z.message||`Edge function request failed: ${z.status??500}`);if(!M)throw new Error("No data returned from background discovery");if(!M.success){const P=typeof M.error=="string"?M.error:"Background discovery did not confirm success.";throw new Error(P)}if(!M.campaignId||!M.jobId)throw new Error("Background discovery response missing job metadata.");const L=typeof M.estimatedTime=="number"?M.estimatedTime:void 0,G=M.status??"processing";console.log("✅ Background discovery response:",M);const V={campaign_id:M.campaignId,job_id:M.jobId,status:G,estimated_time:L,realtime_channel:M.realtimeChannel,total_found:0,qualified_count:0,total_cost:0,processing_time:"< 100ms",tier_used:_.name,cache_performance:void 0,vault_status:"secured",census_intelligence:void 0,businesses:[]};return c(100),f("Complete! 🎉"),V}catch(w){throw console.error("❌ User-aware discovery error:",w),f("Failed ❌"),w}finally{n(!1)}},onSuccess:m=>{const S=m;if(console.log("✅ Discovery result received:",S),S.__legacyMeta){const{campaign:y,leads:g}=S.__legacyMeta;l(y),a(y),s(y.campaign_id),o(y.campaign_id,g),c(100),f("Campaign completed! ✅");return}if(c(100),f("Background processing started! 🚀"),S.job_id&&S.campaign_id){const y={jobId:S.job_id,campaignId:S.campaign_id,status:S.status||"pending",estimatedTime:S.estimated_time};console.log("Job started:",y),t&&t(y),s(S.campaign_id)}},onError:m=>{r(m instanceof Error?m.message:"User-aware discovery failed"),c(0),f("Failed ❌")}});return{startDiscovery:v.mutate,isDiscovering:v.isPending,progress:u,currentStage:d,cacheStats:p,error:v.error,data:v.data}},jt=t=>t==null?"":`"${String(t).replace(/"/g,'""')}"`,hpe=t=>{var n,r,i,a,s;if(t.email)return t.email;const e=(r=(n=t.enrichment_data)==null?void 0:n.emails)==null?void 0:r.find(o=>o.verified);return(e==null?void 0:e.email)||((s=(a=(i=t.enrichment_data)==null?void 0:i.emails)==null?void 0:a[0])==null?void 0:s.email)||""},fpe=t=>{var i,a;const e=t.owner_data||{};if(e&&Object.keys(e).length>0)return e;const n=(a=(i=t.enrichment_data)==null?void 0:i.emails)==null?void 0:a.find(s=>{var o;return(o=s.type)==null?void 0:o.toLowerCase().includes("owner")});return n?{name:[n.firstName,n.lastName].filter(Boolean).join(" "),email:n.email,phone:n.phone,confidence_score:n.confidence}:{}},eT=(t,e={})=>{if(!t.length){console.warn("No leads provided for export.");return}const n=["Business Name","Address","Phone","Website","Email","Confidence Score","Validation Status","Cost to Acquire","Data Sources","Enrichment Tier","Vault Secured","Hunter Verified","NeverBounce Verified","License Verified","Owner Name","Owner Email","Owner Phone","Owner Confidence Score"],r=t.map(l=>{var d,f,p,v;const u=((d=l.enrichment_data)==null?void 0:d.dataSources)||l.data_sources||[],c=fpe(l);return[jt(l.business_name),jt(l.address||""),jt(l.phone||""),jt(l.website||""),jt(hpe(l)),jt(l.confidence_score??""),jt(l.validation_status||""),jt((l.cost_to_acquire??0).toFixed(3)),jt(u.join("; ")),jt(l.enrichment_tier||""),jt(l.vault_secured?"Yes":"No"),jt((f=l.enrichment_data)!=null&&f.hunterVerified?"Yes":"No"),jt((p=l.enrichment_data)!=null&&p.neverBounceVerified?"Yes":"No"),jt((v=l.enrichment_data)!=null&&v.licenseVerified?"Yes":"No"),jt(c.name||""),jt(c.email||""),jt(c.phone||""),jt(c.confidence_score??"")].join(",")}),i=[n.join(","),...r].join(`
`),a=new Blob([i],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),o=URL.createObjectURL(a);s.href=o,s.download=e.fileName||`campaign-leads-${new Date().toISOString().split("T")[0]}.csv`,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o)},Fw="Home & Property Services",Hw={lat:40.7128,lng:-74.006,address:"New York, NY"},Yw=10,ppe=[{id:"targeting",label:"Targeting",description:"Audience & geography"},{id:"setup",label:"Campaign Setup",description:"Tier & quantity"},{id:"results",label:"Results",description:"Leads & export"}],mpe=t=>t>=90?"border border-emerald-200 bg-emerald-50 text-emerald-700 dark:border-emerald-400 dark:bg-transparent dark:text-emerald-300":t>=80?"border border-sky-200 bg-sky-50 text-sky-700 dark:border-sky-400 dark:bg-transparent dark:text-sky-300":t>=70?"border border-amber-200 bg-amber-50 text-amber-700 dark:border-amber-400 dark:bg-transparent dark:text-amber-300":"border border-rose-200 bg-rose-50 text-rose-700 dark:border-rose-400 dark:bg-transparent dark:text-rose-300",gpe=t=>{switch(t){case"validated":return"border border-emerald-200 bg-emerald-50 text-emerald-700 dark:border-emerald-400 dark:bg-transparent dark:text-emerald-300";case"validating":return"border border-sky-200 bg-sky-50 text-sky-700 dark:border-sky-400 dark:bg-transparent dark:text-sky-300";case"pending":return"border border-amber-200 bg-amber-50 text-amber-700 dark:border-amber-400 dark:bg-transparent dark:text-amber-300";case"failed":return"border border-rose-200 bg-rose-50 text-rose-700 dark:border-rose-400 dark:bg-transparent dark:text-rose-300";default:return"border border-gray-200 bg-gray-50 text-gray-700 dark:border-slate-500 dark:bg-transparent dark:text-slate-300"}},DZ=()=>{const t=Ml(),{user:e,loading:n}=Da(),r=Y=>{console.log("🚀 Job created, navigating to progress page:",Y),t(`/campaign/${Y.campaignId}/progress?jobId=${Y.jobId}`)},{startDiscovery:i,isDiscovering:a,progress:s,currentStage:o,cacheStats:l,error:u}=Iz(r),c=Oz[Fw]||[],[d,f]=Z.useState([Fw]),[p,v]=Z.useState(c.length>0?[c[0]]:[]),[m,S]=Z.useState(""),[y,g]=Z.useState(Hw),[b,w]=Z.useState(Yw),[E,_]=Z.useState(!1),[C,k]=Z.useState(3),[x,T]=Z.useState("BASE"),[A,M]=Z.useState(1),z=Qk[x],N=C*z.price,I=(C-1)/9*100,{leads:O,currentCampaign:X}=tn(Y=>({leads:Y.leads,currentCampaign:Y.currentCampaign})),L=tn(Y=>Y.setCurrentCampaign),G=tn(Y=>Y.clearLeads),V=Z.useMemo(()=>X?O.filter(Y=>Y.campaign_id===X.campaign_id):[],[O,X]),P=Z.useMemo(()=>V.filter(Y=>Y.confidence_score>=70).length,[V]),F=X?V.length>0:!1;Z.useEffect(()=>{F&&A===2&&!a&&M(3)},[F,A,a]);const ie=()=>{V.length&&eT(V,{fileName:`campaign-${(X==null?void 0:X.campaign_id)||Date.now()}-results.csv`})},re=()=>{X&&t(`/campaign?id=${X.campaign_id}`)},ce=m.split(",").map(Y=>Y.trim()).filter(Y=>Y.length>0).join(", "),H=p.join(", "),pe=Math.round(Math.PI*b*b),he=p.length>0&&y.address.trim().length>0,Pe=A-1,An=Z.useMemo(()=>ape({categories:d,location:y.address,radius:b}).concat(p.map((Y,oe)=>({id:`type-${oe}`,label:"Type",value:Y,category:"Business Type"}))),[d,y.address,b,p]),$r=(Y,oe)=>{g(Y),w(oe)},ja=()=>{if(!he){alert("Please select at least one business type and provide a location.");return}L(null),G(),M(2)},wi=()=>{M(1)},Bp=()=>{if(!e){alert("Please sign in to run a discovery campaign.");return}if(!he){M(1),alert("Please complete targeting details before running the campaign.");return}const Y={search_terms:`${H}${ce?` ${ce}`:""}`.trim(),location:y.address.trim(),business_type:H,budget_limit:N,max_results:C,include_email_validation:x==="PROFESSIONAL"||x==="ENTERPRISE",include_website_validation:!0,min_confidence_score:70,chamber_verification:!0,trade_association:!0,professional_license:!0,keywords:ce,search_radius:`${b} miles`,expand_geography:E,selectedTier:x};console.log("🚀 Starting campaign:",Y),i(Y)},Fp=p.length?(()=>{const Y=p.slice(0,5).join(", "),oe=p.length-5;return oe>0?`${Y} +${oe} more`:Y})():"No business types selected",vb=[{label:"Business categories",value:d.length>0?d.join(", "):"No categories selected"},{label:"Business types",value:Fp},{label:"Keywords",value:ce.length>0?ce:"None"},{label:"Location",value:y.address},{label:"Radius",value:`${b} miles`},{label:"Geography",value:E?"Auto-expand enabled":"Stay within radius"},{label:"Coverage",value:`~${pe} square miles`}];if(n)return h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-6 text-center shadow-sm dark:border-slate-700 dark:bg-slate-900"},h.createElement("div",{className:"flex items-center justify-center space-x-3 text-gray-600 dark:text-slate-300"},h.createElement("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}),h.createElement("span",null,"Loading your workspace…")));if(!e)return h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-8 text-center shadow-sm dark:border-slate-700 dark:bg-slate-900"},h.createElement("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},"Sign in required"),h.createElement("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300"},"Create an account or sign in to launch new campaigns and access verified leads."));const Bi=Y=>{if(Y.startsWith("type-")){const oe=parseInt(Y.split("-")[1]);v(yn=>yn.filter((ct,Ke)=>Ke!==oe))}else if(Y==="location")g(Hw);else if(Y==="radius")w(Yw);else if(Y.startsWith("category-")){const oe=parseInt(Y.split("-")[1]);f(yn=>yn.filter((ct,Ke)=>Ke!==oe))}},Fi=()=>{f([Fw]),v(c.length>0?[c[0]]:[]),g(Hw),w(Yw),S("")},wd=ppe.map((Y,oe)=>({...Y,status:oe<Pe?"completed":oe===Pe?"active":oe===1&&!he?"error":"pending"}));return h.createElement("div",{className:"space-y-6"},An.length>0&&h.createElement(ipe,{showTooltips:!0,ariaLabel:"Active discovery filters",chips:An,maxVisible:6,onClearAll:Fi,onRemove:Bi}),h.createElement("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900"},h.createElement("div",{className:"border-b border-gray-200 px-6 py-4 dark:border-slate-700"},h.createElement(spe,{allowBackNavigation:!0,keyboardNavigation:!0,activeStep:Pe,steps:wd,onStepChange:Y=>{if(Y===1&&!he){alert("Please complete targeting details before proceeding.");return}M(Y+1)}})),h.createElement("div",{className:"p-6 space-y-8"},h.createElement("section",{"aria-hidden":A!==1,className:`space-y-6 ${A===1?"":"hidden"}`},h.createElement("header",null,h.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Targeting & Geography"),h.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1"},"Choose the businesses and regions you want ProspectPro to discover.")),h.createElement(uc,{defaultOpen:!0,icon:h.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),persistKey:"discovery-business-types",subtitle:`${p.length} business type${p.length!==1?"s":""} selected from ${d.length} categor${d.length!==1?"ies":"y"}`,title:"Business Categories & Types"},h.createElement(rpe,{selectedBusinessTypes:p,selectedCategories:d,onBusinessTypesChange:v,onCategoriesChange:f})),h.createElement(uc,{defaultOpen:!1,icon:h.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),persistKey:"discovery-keywords",subtitle:"Optional filters to narrow your search",title:"Keywords & Refinements"},h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Additional Keywords (Optional)"),h.createElement("input",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",placeholder:"e.g., luxury, organic, 24-hour (comma-separated)",type:"text",value:m,onChange:Y=>S(Y.target.value)}),h.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Add comma-separated keywords to refine your search."))),h.createElement(uc,{defaultOpen:!0,icon:h.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}),h.createElement("path",{d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),persistKey:"discovery-geography",subtitle:`${y.address} • ${b} mile radius`,title:"Geographic Targeting"},h.createElement("div",{className:"space-y-4"},h.createElement(npe,{initialLocation:y,initialRadius:b,onLocationChange:$r}),h.createElement("div",{className:"flex items-center"},h.createElement("input",{checked:E,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700",id:"expandGeography",type:"checkbox",onChange:Y=>_(Y.target.checked)}),h.createElement("label",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",htmlFor:"expandGeography"},"Expand geography automatically if initial results are limited")))),h.createElement("div",{className:"flex justify-end"},h.createElement("button",{className:"px-5 py-2 rounded-md bg-blue-600 text-white font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!he,type:"button",onClick:ja},"Continue to Campaign Setup"))),h.createElement("section",{"aria-hidden":A!==2,className:`space-y-6 ${A===2?"":"hidden"}`},h.createElement("header",{className:"flex items-center justify-between"},h.createElement("div",null,h.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Campaign Setup"),h.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1"},"Review your targeting, then select enrichment tier and lead quantity.")),h.createElement("button",{className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-300",type:"button",onClick:wi},"← Edit targeting")),h.createElement("div",{className:"rounded-md border border-gray-200 bg-gray-50 p-4 dark:border-slate-700 dark:bg-slate-900/80"},h.createElement("h3",{className:"mb-3 text-sm font-semibold text-gray-800 dark:text-slate-200"},"Campaign summary"),h.createElement("dl",{className:"grid gap-3 sm:grid-cols-2"},vb.map(Y=>h.createElement("div",{key:Y.label,className:"flex flex-col"},h.createElement("dt",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-slate-400"},Y.label),h.createElement("dd",{className:"text-sm text-gray-800 dark:text-slate-100"},Y.value))))),h.createElement(lpe,{numberOfLeads:C,selectedTier:x,onTierChange:T}),h.createElement("div",null,h.createElement("label",{className:"mb-2 block text-sm font-medium text-gray-700 dark:text-slate-200"},"Number of Leads"),h.createElement("div",{className:"flex items-center gap-4"},h.createElement("input",{className:"h-2 flex-1 cursor-pointer appearance-none rounded-full bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",max:"10",min:"1",style:{background:`linear-gradient(90deg, #2563eb 0%, #2563eb ${I}%, #d1d5db ${I}%, #d1d5db 100%)`,accentColor:"#2563eb"},type:"range",value:C,onChange:Y=>k(parseInt(Y.target.value,10))}),h.createElement("div",{className:"min-w-fit rounded-full border border-blue-200 bg-blue-50 px-3 py-1 text-sm font-medium text-blue-700 dark:border-sky-400 dark:bg-slate-900 dark:text-sky-300"},C," leads"))),h.createElement("div",{className:"rounded-lg border-2 border-yellow-400 bg-white p-4 shadow-sm dark:border-amber-400 dark:bg-slate-900"},h.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},h.createElement("div",null,h.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-slate-300"},"Estimated cost"),h.createElement("div",{className:"mt-1 flex items-baseline gap-x-3"},h.createElement("span",{className:"text-3xl font-bold text-blue-700 dark:text-sky-300"},"$",N.toFixed(2)))),h.createElement("div",{className:"flex w-full flex-col items-start gap-2 sm:w-auto sm:items-end"},h.createElement("span",{className:"text-sm text-gray-600 dark:text-slate-400"},C," leads × $",z.price.toFixed(2)),h.createElement("div",{className:"flex flex-wrap items-center gap-2"},h.createElement("span",{className:"rounded-full border border-blue-200 bg-blue-50 px-3 py-1 text-xs font-medium text-blue-700 dark:border-sky-400 dark:bg-slate-900 dark:text-sky-300"},z.name),h.createElement("button",{className:"inline-flex items-center justify-center rounded-md bg-blue-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-60 dark:bg-sky-500 dark:hover:bg-sky-600",disabled:a,type:"button",onClick:Bp},a?h.createElement(h.Fragment,null,h.createElement("svg",{className:"-ml-1 mr-2 h-4 w-4 animate-spin text-white",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},h.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.createElement("path",{className:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})),"Running…"):"Run Campaign"))))),h.createElement(qk,{cacheStats:l,currentStage:o,isDiscovering:a,progress:s})),h.createElement("section",{"aria-hidden":A!==3,className:`space-y-6 ${A===3?"":"hidden"}`},h.createElement("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},h.createElement("div",null,h.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Campaign Results"),h.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1"},F?`${V.length} leads captured • ${P} qualified`:a?"We're still enriching this campaign. Hang tight while ProspectPro verifies contacts.":"Results will appear here once a campaign finishes. You can keep working in the meantime.")),h.createElement("div",{className:"flex flex-wrap gap-3"},X&&h.createElement("button",{className:"inline-flex items-center gap-2 rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50 dark:border-slate-600 dark:bg-transparent dark:text-slate-200 dark:hover:border-sky-400",type:"button",onClick:re},"View full campaign"),F&&h.createElement("button",{className:"inline-flex items-center gap-2 rounded-md border border-emerald-400 px-4 py-2 text-sm font-semibold text-emerald-700 transition-colors hover:bg-emerald-50 dark:border-emerald-400 dark:text-emerald-300 dark:hover:bg-transparent",type:"button",onClick:ie},"📊 Export CSV"))),X&&h.createElement("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-slate-700 dark:bg-slate-900/70"},h.createElement("div",{className:"flex flex-wrap items-start justify-between gap-4"},h.createElement("div",null,h.createElement("div",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-slate-400"},"Campaign ID"),h.createElement("div",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100"},X.campaign_id),h.createElement("div",{className:"mt-2 text-xs text-gray-500 dark:text-slate-400"},"Status • ",X.status)),h.createElement("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4"},h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-lg font-bold text-gray-900 dark:text-slate-100"},X.leads_found??V.length),h.createElement("div",{className:"text-xs text-gray-600 dark:text-slate-400"},"Total Leads")),h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-lg font-bold text-blue-600 dark:text-sky-300"},X.leads_qualified??P),h.createElement("div",{className:"text-xs text-gray-600 dark:text-slate-400"},"Qualified")),h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-lg font-bold text-green-600 dark:text-emerald-300"},X.leads_validated??0),h.createElement("div",{className:"text-xs text-gray-600 dark:text-slate-400"},"Validated")),h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-lg font-bold text-purple-600 dark:text-violet-300"},X.tier_used||x),h.createElement("div",{className:"text-xs text-gray-600 dark:text-slate-400"},"Tier"))))),h.createElement("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden shadow-sm"},F?h.createElement("div",{className:"overflow-x-auto"},h.createElement("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},h.createElement("thead",{className:"bg-gray-50 dark:bg-gray-900/40"},h.createElement("tr",null,h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-300"},"Business"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-300"},"Contact"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-300"},"Confidence"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-300"},"Enrichment"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-300"},"Status"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-300"},"Cost"))),h.createElement("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},V.map(Y=>h.createElement("tr",{key:Y.id,className:"hover:bg-gray-50 dark:hover:bg-gray-900/30"},h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Y.business_name),h.createElement("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400"},Y.address)),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("div",{className:"text-sm text-gray-900 dark:text-gray-100 space-y-1"},Y.phone&&h.createElement("div",null,"📞 ",Y.phone),Y.website&&h.createElement("div",null,"🌐"," ",h.createElement("a",{className:"text-blue-600 dark:text-blue-400 hover:underline",href:Y.website,rel:"noopener noreferrer",target:"_blank"},Y.website.replace(/^https?:\/\//,""))),Y.email&&h.createElement("div",null,"📧 ",Y.email))),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${mpe(Y.confidence_score)}`},Y.confidence_score,"%")),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("div",{className:"flex flex-col space-y-1"},h.createElement("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-300"},Y.enrichment_tier||z.name),Y.vault_secured&&h.createElement("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300"},"🔐 Vault Secured"))),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${gpe(Y.validation_status)}`},Y.validation_status||"pending")),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-200"},"$",Y.cost_to_acquire.toFixed(2))))))):h.createElement("div",{className:"flex flex-col items-center justify-center py-16 text-center"},h.createElement("span",{className:"text-4xl mb-2"},"🔍"),h.createElement("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100"},a?"ProspectPro is working on your campaign":"No leads yet"),h.createElement("p",{className:"mt-2 max-w-md text-sm text-gray-600 dark:text-gray-300"},a?"Please keep this tab open. We'll move results here automatically once enrichment finishes.":"Launch or complete a campaign to populate results with verified leads.")))),u&&h.createElement("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md"},h.createElement("div",{className:"flex"},h.createElement("div",{className:"flex-shrink-0"},h.createElement("svg",{className:"h-5 w-5 text-red-400 dark:text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",fillRule:"evenodd"}))),h.createElement("div",{className:"ml-3"},h.createElement("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200"},"Discovery Failed"),h.createElement("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300"},h.createElement("p",null,u instanceof Error?u.message:String(u)))))))))},ype=()=>{const{user:t}=Da(),[e,n]=Z.useState(0),[r,i]=Z.useState(""),[a,s]=Z.useState(0),[o,l]=Z.useState(0),u=zV({mutationFn:async f=>{var p,v,m,S,y,g;n(10),i(`Enriching ${f.businessName}...`);try{if(console.log("🔄 Starting enrichment for:",f.businessName),!await Ez()||!(t!=null&&t.id))throw new Error("Please sign in to run lead enrichment.");const w={tier:f.tier??"professional",maxCostPerBusiness:f.maxCostPerBusiness??.5,currency:"USD"},{data:E,error:_}=await A_("enrichment-orchestrator",{businessName:f.businessName,domain:(p=f.domain)==null?void 0:p.replace(/^https?:\/\//,"").replace(/\/$/,""),address:f.address,phone:f.phone,website:f.website,industry:f.industry,state:f.state,includeBusinessLicense:f.includeBusinessLicense??!0,discoverEmails:f.discoverEmails??!0,verifyEmails:f.verifyEmails??!0,includeCompanyEnrichment:f.includeCompanyEnrichment??!1,includePersonEnrichment:f.includePersonEnrichment??!1,apolloEnrichment:f.apolloEnrichment??!1,maxCostPerBusiness:f.maxCostPerBusiness??.5,minConfidenceScore:f.minConfidenceScore??50,tier:f.tier??"professional",sessionUserId:t.id,userId:t.id,billingContext:w});if(_)throw console.error("❌ Enrichment error:",_),new Error(`Enrichment failed: ${_.message}`);if(!E||!E.success)throw new Error(((S=(m=(v=E==null?void 0:E.processingMetadata)==null?void 0:v.errors)==null?void 0:m[0])==null?void 0:S.error)||"Enrichment service returned no data");return console.log("✅ Enrichment complete:",E),n(100),i(`Found ${((g=(y=E.enrichedData)==null?void 0:y.emails)==null?void 0:g.length)||0} emails`),E}catch(b){throw console.error("❌ Enrichment error:",b),i("Enrichment failed"),b}},onSuccess:f=>{s(p=>p+1),l(p=>p+f.totalCost)}}),c=async(f,p)=>{var S;const v=[],m=[];n(0),s(0),l(0);for(let y=0;y<f.length;y++){const g=f[y];i(`Enriching ${y+1}/${f.length}: ${g.businessName}...`),n(Math.round(y/f.length*100));try{const b=await u.mutateAsync({businessName:g.businessName,website:g.website,domain:(S=g.website)==null?void 0:S.replace(/^https?:\/\//,"").replace(/\/$/,""),address:g.address,phone:g.phone,...p});v.push(b)}catch(b){console.error(`❌ Failed to enrich ${g.businessName}:`,b),m.push({businessName:g.businessName,error:b instanceof Error?b.message:"Unknown error"})}}return n(100),i(`Enriched ${v.length}/${f.length} leads`),{results:v,errors:m}},d=()=>{n(0),i(""),s(0),l(0)};return{enrichLead:u.mutate,enrichLeadAsync:u.mutateAsync,enrichMultipleLeads:c,isEnriching:u.isPending,progress:e,currentStage:r,enrichedCount:a,totalCost:o,error:u.error,data:u.data,reset:d}},vpe=({campaignId:t,onComplete:e})=>{const{leads:n,updateLead:r}=tn(),{enrichMultipleLeads:i,isEnriching:a,progress:s,currentStage:o,enrichedCount:l,totalCost:u,reset:c}=ype(),[d,f]=Z.useState(!1),v=n.filter(S=>S.campaign_id===t).filter(S=>{var y;return!((y=S.enrichment_data)!=null&&y.hunterVerified)}),m=async()=>{if(v.length===0){alert("All leads are already enriched!");return}f(!0),c();try{const{results:S,errors:y}=await i(v.map(g=>({businessName:g.business_name,website:g.website,address:g.address,phone:g.phone})),{includeBusinessLicense:!0,discoverEmails:!0,verifyEmails:!0,maxCostPerBusiness:.5});S.forEach((g,b)=>{var E,_,C,k,x,T,A,M,z,N,I;const w=v[b];w&&r(w.id,{email:((C=(_=(E=g.enrichedData)==null?void 0:E.emails)==null?void 0:_[0])==null?void 0:C.email)||w.email,enrichment_data:{...w.enrichment_data||{},emails:((k=g.enrichedData)==null?void 0:k.emails)||[],businessLicense:(x=g.enrichedData)==null?void 0:x.businessLicense,hunterVerified:(((A=(T=g.enrichedData)==null?void 0:T.emails)==null?void 0:A.length)||0)>0,neverBounceVerified:(z=(M=g.enrichedData)==null?void 0:M.emails)==null?void 0:z.some(O=>O.verified),licenseVerified:((I=(N=g.enrichedData)==null?void 0:N.businessLicense)==null?void 0:I.isValid)||!1,processingMetadata:{...g.processingMetadata,totalCost:g.totalCost,enrichmentCostBreakdown:g.costBreakdown}}})}),setTimeout(()=>{alert(`Enrichment Complete!

✅ Enriched: ${S.length} leads
❌ Failed: ${y.length} leads
💰 Total Cost: $${u.toFixed(3)}
📧 Emails Found: ${S.reduce((g,b)=>{var w,E;return g+(((E=(w=b.enrichedData)==null?void 0:w.emails)==null?void 0:E.length)||0)},0)}`),f(!1),e==null||e()},1e3)}catch(S){console.error("Enrichment error:",S),alert(`Enrichment failed: ${S instanceof Error?S.message:"Unknown error"}`),f(!1)}};return v.length===0?h.createElement("button",{disabled:!0,className:"px-4 py-2 bg-gray-300 text-gray-600 rounded-lg cursor-not-allowed"},"✅ All Leads Enriched"):h.createElement("div",{className:"space-y-3"},h.createElement("button",{className:`px-6 py-3 rounded-lg font-semibold transition-all ${a?"bg-blue-400 cursor-wait":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700"} text-white shadow-md`,disabled:a,onClick:m},a?h.createElement("span",{className:"flex items-center gap-2"},h.createElement("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},h.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.createElement("path",{className:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})),"Enriching..."):`🚀 Enrich ${v.length} Leads`),d&&h.createElement("div",{className:"bg-white border border-blue-200 rounded-lg p-4 shadow-sm"},h.createElement("div",{className:"space-y-2"},h.createElement("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden"},h.createElement("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-300",style:{width:`${s}%`}})),h.createElement("div",{className:"flex justify-between items-center text-sm"},h.createElement("span",{className:"text-gray-700 font-medium"},o),h.createElement("span",{className:"text-gray-600"},s,"%")),h.createElement("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-gray-200"},h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-2xl font-bold text-blue-600"},l),h.createElement("div",{className:"text-xs text-gray-600"},"Enriched")),h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-2xl font-bold text-green-600"},"$",u.toFixed(3)),h.createElement("div",{className:"text-xs text-gray-600"},"Total Cost"))))),h.createElement("div",{className:"text-sm text-gray-600 bg-blue-50 border border-blue-200 rounded-lg p-3"},h.createElement("div",{className:"font-semibold mb-1"},"✨ Progressive Enrichment"),h.createElement("ul",{className:"space-y-1 text-xs"},h.createElement("li",null,"📧 ",h.createElement("strong",null,"Email Discovery")," (Hunter.io) - $0.034/lead"),h.createElement("li",null,"✅ ",h.createElement("strong",null,"Email Verification")," (NeverBounce) - $0.008/lead"),h.createElement("li",null,"📜 ",h.createElement("strong",null,"License Validation")," - $0.03/lead"),h.createElement("li",{className:"pt-1 border-t border-blue-200 font-semibold"},"💰 Estimated: $",(v.length*.072).toFixed(2)," total"))))},bpe=t=>{switch(t){case"running":case"completed":case"failed":case"cancelled":return t;default:return"completed"}},wpe=t=>{switch(t){case"pending":case"validating":case"validated":case"failed":return t;default:return"validated"}},Spe=t=>{var i;if(!t)return["google_places"];const e=Array.isArray((i=t==null?void 0:t.processingMetadata)==null?void 0:i.servicesUsed)?t.processingMetadata.servicesUsed:[],n=Array.isArray(t==null?void 0:t.verificationSources)?t.verificationSources:[],r=[...e,...n].filter(Boolean);return r.length>0?r:["google_places"]},Sg=(t,e=0)=>{const n=Number(t);return Number.isFinite(n)?n:e},Epe=t=>{if(t!=null&&typeof t=="object")try{return JSON.parse(JSON.stringify(t))}catch(e){console.error("⚠️ Unable to sanitize enrichment data in transform",e);return}},xpe=t=>{const e=(t==null?void 0:t.id)??(t==null?void 0:t.lead_id)??null;return e==null?null:String(e)},p0=(t,e=[],n={})=>{var u,c;if(!t)throw new Error("Campaign record is required");const r=n.metrics??{},i=[];for(const d of e){const f=xpe(d);if(f==null){console.warn("⚠️ Dropping lead without identifier before hydration",{campaignId:t.id,lead:d});continue}const p=d??{},v=Epe(p.enrichment_data),m=p.validation_cost??((u=v==null?void 0:v.processingMetadata)==null?void 0:u.totalCost)??0,S=((c=v==null?void 0:v.processingMetadata)==null?void 0:c.enrichmentTier)??(v==null?void 0:v.enrichmentTier),y=String(p.campaign_id??t.id??"");if(!y){console.warn("⚠️ Dropping lead without campaign association",{campaignId:t.id,leadId:f});continue}i.push({id:f,campaign_id:y,business_name:p.business_name??"Unknown Business",address:p.address??"",phone:p.phone??"",website:p.website??"",email:p.email??"",confidence_score:Sg(p.confidence_score,0),validation_status:wpe((v==null?void 0:v.validationStatus)??p.validation_status),created_at:p.created_at??new Date().toISOString(),cost_to_acquire:Sg(m,0),data_sources:Spe(v),enrichment_tier:S??(r==null?void 0:r.tier)??(r==null?void 0:r.tier_name)??void 0,vault_secured:!0,enrichment_data:v})}const a=i.filter(d=>d.confidence_score>=70).length,s=i.filter(d=>d.validation_status==="validated").length,o=t.results_count??i.length??0;return{campaignResult:{campaign_id:t.id,business_type:t.business_type??void 0,location:t.location??void 0,status:bpe(t.status),progress:100,total_cost:Sg(t.total_cost??(r==null?void 0:r.total_cost)??0,0),leads_found:Sg(o,i.length),leads_qualified:a,leads_validated:s,created_at:t.created_at??new Date().toISOString(),completed_at:t.updated_at??void 0,tier_used:(r==null?void 0:r.tier)??(r==null?void 0:r.tier_name)??void 0,vault_secured:!0,cache_performance:void 0},leads:i}},Lz=(t,e={})=>{var u,c,d;const{user:n}=Da(),r=Math.max(e.pageSize??50,1),i=Math.max(e.page??0,0),a=!!(e.enabled??!0),s=w4({queryKey:["campaign-results",(n==null?void 0:n.id)??"anonymous",t??"none",i,r],enabled:!!(n!=null&&n.id)&&!!t&&a,staleTime:60*1e3,queryFn:async()=>{if(!(n!=null&&n.id)||!t)return console.log("[useCampaignResults] Early exit: no user or campaignId",{hasUser:!!(n!=null&&n.id),campaignId:t}),{campaign:null,leads:[],count:0};console.log("[useCampaignResults] Fetching campaign:",{campaignId:t,userId:n.id,page:i,pageSize:r});const{data:f,error:p}=await tt.from("campaigns").select("id,business_type,location,status,total_cost,results_count,created_at,updated_at").eq("id",t).eq("user_id",n.id).maybeSingle();if(console.log("[useCampaignResults] Campaign query result:",{campaignId:t,hasCampaignRecord:!!f,campaignError:p?String(p.message):null,campaignData:f?{id:f.id,business_type:f.business_type,location:f.location,status:f.status,results_count:f.results_count}:null}),p)throw console.error("[useCampaignResults] Campaign fetch error:",{campaignId:t,error:p,message:p.message,details:p.details,hint:p.hint}),p;if(!f)return console.warn("[useCampaignResults] No campaign found:",{campaignId:t,userId:n.id}),{campaign:null,leads:[],count:0};const v=i*r,m=v+r-1;console.log("[useCampaignResults] Fetching leads:",{campaignId:t,userId:n.id,rangeStart:v,rangeEnd:m});const{data:S,error:y,count:g}=await tt.from("leads").select("id,campaign_id,business_name,address,phone,website,email,confidence_score,validation_cost,enrichment_data,created_at",{count:"exact"}).eq("campaign_id",t).eq("user_id",n.id).order("confidence_score",{ascending:!1}).range(v,m);if(console.log("[useCampaignResults] Leads query result:",{campaignId:t,hasLeadsData:!!S,leadsIsArray:Array.isArray(S),leadsCount:Array.isArray(S)?S.length:"not-array",totalCount:g,leadsError:y?String(y.message):null,firstLead:Array.isArray(S)&&S.length>0?{id:S[0].id,campaign_id:S[0].campaign_id,business_name:S[0].business_name,confidence_score:S[0].confidence_score}:null}),y)throw console.error("[useCampaignResults] Leads fetch error:",{campaignId:t,error:y,message:y.message,details:y.details,hint:y.hint}),y;if(!Array.isArray(S))return console.warn("[useCampaignResults] Non-array leads response",{campaignId:t,typeofData:typeof S,raw:S}),{campaign:p0(f,[],{}).campaignResult,leads:[],count:g??0};console.log("[useCampaignResults] About to transform data:",{campaignId:t,campaignRecordId:f.id,leadsDataLength:S.length});let b;try{b=p0(f,S,{}),console.log("[useCampaignResults] Transform SUCCESS:",{campaignId:t,hasCampaignResult:!!b.campaignResult,leadsIsArray:Array.isArray(b.leads),leadsLength:Array.isArray(b.leads)?b.leads.length:"not-array"})}catch(_){return console.error("[useCampaignResults] Transform error",{campaignId:t,error:_ instanceof Error?_.message:String(_),errorStack:_ instanceof Error?_.stack:void 0,leadsDataType:typeof S,leadsDataLength:Array.isArray(S)?S.length:"not-array"}),{campaign:p0(f,[],{}).campaignResult,leads:[],count:g??0}}const{campaignResult:w,leads:E}=b;return Array.isArray(E)?(console.log("[useCampaignResults] Returning final result:",{campaignId:t,campaign:{campaign_id:w.campaign_id,status:w.status,leads_found:w.leads_found,leads_qualified:w.leads_qualified},leadsCount:E.length,totalCount:g}),{campaign:w,leads:E,count:g??0}):(console.error("[useCampaignResults] Transform returned non-array leads",{campaignId:t,transformedLeadsType:typeof E}),{campaign:w,leads:[],count:g??0})}}),o=((u=s.data)==null?void 0:u.count)??0,l=o>0?Math.ceil(o/r):0;return{campaign:((c=s.data)==null?void 0:c.campaign)??null,leads:((d=s.data)==null?void 0:d.leads)??[],totalLeads:o,totalPages:l,page:i,pageSize:r,isLoading:s.isLoading,isFetching:s.isFetching,isError:s.isError,error:s.error,refetch:s.refetch}},_pe=()=>{const t=Ml(),[e]=UC(),n=e.get("id"),{currentCampaign:r,campaigns:i,leads:a,setCurrentCampaign:s,setCampaignLeads:o}=tn(),{isDiscovering:l,progress:u,currentStage:c,cacheStats:d,error:f}=Iz(),[p,v]=Z.useState(!1),{campaign:m,leads:S}=Lz(n,{page:0,pageSize:500,enabled:!!n});Z.useEffect(()=>{m&&s(m)},[m,s]),Z.useEffect(()=>{n&&S.length>0&&o(n,S)},[n,S,o]);const y=r?a.filter(b=>b.campaign_id===r.campaign_id):[];Z.useEffect(()=>{if(!r&&n){const b=i.find(w=>w.campaign_id===n);b&&s(b)}},[n,i,r,s]),Z.useEffect(()=>{(y.length>0||S.length>0)&&v(!0)},[y.length,S.length]);const g=()=>{y.length&&eT(y,{fileName:`campaign-${(r==null?void 0:r.campaign_id)||Date.now()}-results.csv`})};return h.createElement("div",{className:"space-y-6"},h.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("div",null,h.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Campaign Progress"),h.createElement("p",{className:"text-gray-600 mt-1"},r?`Campaign ${r.campaign_id}`:"Running campaign...")),h.createElement("div",{className:"flex space-x-3"},h.createElement("button",{className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200",onClick:()=>t("/discovery")},"Back to Discovery"),p&&h.createElement("button",{className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",onClick:g},"Export CSV")))),l&&h.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},h.createElement(qk,{cacheStats:d,currentStage:c,isDiscovering:l,progress:u})),r&&h.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},h.createElement("div",{className:"flex items-center justify-between mb-4"},h.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Campaign Summary"),h.createElement("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",type:"button",onClick:()=>t("/results",{state:{campaignId:r.campaign_id}})},"View Results")),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4"},h.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},h.createElement("div",{className:"text-sm text-blue-600 font-medium"},"Status"),h.createElement("div",{className:"text-lg font-bold text-blue-900 capitalize"},r.status)),h.createElement("div",{className:"bg-green-50 p-4 rounded-lg"},h.createElement("div",{className:"text-sm text-green-600 font-medium"},"Leads Found"),h.createElement("div",{className:"text-lg font-bold text-green-900"},r.leads_found||0)),h.createElement("div",{className:"bg-yellow-50 p-4 rounded-lg"},h.createElement("div",{className:"text-sm text-yellow-600 font-medium"},"Qualified"),h.createElement("div",{className:"text-lg font-bold text-yellow-900"},r.leads_qualified||0)),h.createElement("div",{className:"bg-purple-50 p-4 rounded-lg"},h.createElement("div",{className:"text-sm text-purple-600 font-medium"},"Total Cost"),h.createElement("div",{className:"text-lg font-bold text-purple-900"},"$",(r.total_cost||0).toFixed(2))))),r&&p&&y.length>0&&h.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6"},h.createElement("h2",{className:"text-lg font-semibold text-gray-900 mb-4"},"Progressive Enrichment"),h.createElement("div",{className:"flex items-start justify-between gap-6"},h.createElement("div",{className:"flex-1"},h.createElement("p",{className:"text-gray-600 mb-4"},"Enrich your leads with verified emails, business license validation, and more. Only pay for successful enrichments."),h.createElement("div",{className:"grid grid-cols-3 gap-3 text-sm"},h.createElement("div",{className:"bg-blue-50 p-3 rounded"},h.createElement("div",{className:"font-semibold text-blue-900"},y.filter(b=>{var w,E;return(E=(w=b.enrichment_data)==null?void 0:w.emails)==null?void 0:E.length}).length),h.createElement("div",{className:"text-blue-600 text-xs"},"With Emails")),h.createElement("div",{className:"bg-green-50 p-3 rounded"},h.createElement("div",{className:"font-semibold text-green-900"},y.filter(b=>{var w;return(w=b.enrichment_data)==null?void 0:w.neverBounceVerified}).length),h.createElement("div",{className:"text-green-600 text-xs"},"Email Verified")),h.createElement("div",{className:"bg-purple-50 p-3 rounded"},h.createElement("div",{className:"font-semibold text-purple-900"},y.filter(b=>{var w;return(w=b.enrichment_data)==null?void 0:w.licenseVerified}).length),h.createElement("div",{className:"text-purple-600 text-xs"},"License Verified")))),h.createElement("div",{className:"flex-shrink-0"},h.createElement(vpe,{campaignId:r.campaign_id,onComplete:()=>{console.log("Enrichment completed for campaign:",r.campaign_id)}})))),p&&y.length>0&&h.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden"},h.createElement("div",{className:"px-6 py-4 border-b border-gray-200"},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Campaign Results"),h.createElement("div",{className:"text-sm text-gray-500"},y.length," leads found"))),h.createElement("div",{className:"overflow-x-auto"},h.createElement("table",{className:"min-w-full divide-y divide-gray-200"},h.createElement("thead",{className:"bg-gray-50"},h.createElement("tr",null,h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Business"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Contact Info"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Score"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cost"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"))),h.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},y.map(b=>h.createElement("tr",{key:b.id,className:"hover:bg-gray-50"},h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("div",null,h.createElement("div",{className:"text-sm font-medium text-gray-900"},b.business_name),h.createElement("div",{className:"text-sm text-gray-500 truncate max-w-xs"},b.address))),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("div",{className:"space-y-1"},b.phone&&h.createElement("div",{className:"text-sm text-gray-900"},b.phone),b.email&&h.createElement("div",{className:"text-sm text-blue-600"},b.email),b.website&&h.createElement("div",{className:"text-sm text-gray-500 truncate max-w-xs"},h.createElement("a",{className:"hover:text-blue-600",href:b.website,rel:"noopener noreferrer",target:"_blank"},b.website)))),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("div",{className:"flex items-center"},h.createElement("div",{className:"text-sm font-medium text-gray-900"},b.confidence_score,"%"),h.createElement("div",{className:"ml-2 w-16 bg-gray-200 rounded-full h-2"},h.createElement("div",{className:`h-2 rounded-full ${b.confidence_score>=80?"bg-green-500":b.confidence_score>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${b.confidence_score}%`}})))),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},"$",(b.cost_to_acquire||0).toFixed(2)),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b.validation_status==="validated"?"bg-green-100 text-green-800":b.validation_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`},b.validation_status||"unknown")))))))),f&&h.createElement("div",{className:"bg-red-50 border border-red-200 rounded-md p-4"},h.createElement("div",{className:"flex"},h.createElement("div",{className:"flex-shrink-0"},h.createElement("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",fillRule:"evenodd"}))),h.createElement("div",{className:"ml-3"},h.createElement("h3",{className:"text-sm font-medium text-red-800"},"Campaign Failed"),h.createElement("div",{className:"mt-2 text-sm text-red-700"},h.createElement("p",null,f instanceof Error?f.message:String(f)))))),p&&y.length===0&&h.createElement("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center"},h.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),h.createElement("h3",{className:"mt-2 text-sm font-medium text-gray-900"},"No results found"),h.createElement("p",{className:"mt-1 text-sm text-gray-500"},"Try adjusting your search criteria or location."),h.createElement("div",{className:"mt-6"},h.createElement("button",{className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",onClick:()=>t("/discovery")},"Start New Campaign"))))},Cpe={pending:"pending",processing:"processing",completed:"completed",failed:"failed"};function kpe(t){return t?Cpe[t]??"processing":"processing"}function Tpe(t){const[e,n]=Z.useState(null),[r,i]=Z.useState(!0),a=Z.useRef(null),s=Z.useRef(null),o=Z.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]),l=Z.useCallback(d=>{if(!d)return;const f={jobId:d.id,status:kpe(d.status),progress:d.progress??0,currentStage:d.current_stage??"processing",metrics:d.metrics??void 0,error:d.error??void 0,completedAt:d.completed_at??void 0};n(f),(f.status==="completed"||f.status==="failed")&&o()},[o]),u=Z.useCallback(async()=>{if(!t)return null;const{data:d,error:f}=await tt.from("discovery_jobs").select("*").eq("id",t).single();return f?(console.error("Error fetching job status:",f),null):(l(d),d)},[t,l]),c=Z.useCallback(()=>{a.current!==null||!t||(a.current=window.setInterval(()=>{u()},4e3))},[u,t]);return Z.useEffect(()=>{if(!t){i(!1),o(),n(null);return}let d=!0;return(async()=>{const v=await u();d&&(i(!1),v&&v.status!=="completed"&&v.status!=="failed"&&c())})(),(async()=>{const{data:{session:v}}=await tt.auth.getSession(),m=(v==null?void 0:v.access_token)??null,S=m?{auth:{accessToken:m}}:void 0,y=tt.channel(`discovery_jobs_${t}`,{config:{broadcast:{ack:!1}},...S});s.current=y,y.on("postgres_changes",{event:"*",schema:"public",table:"discovery_jobs",filter:`id=eq.${t}`},g=>{console.log("✅ Realtime job update:",g.new),g.new&&typeof g.new=="object"&&l(g.new)}).on("system",{event:"channel_error"},g=>{console.warn("Realtime channel error",{jobId:t,payload:g}),c()}).on("system",{event:"close"},g=>{console.warn("Realtime channel closed",{jobId:t,payload:g}),c()}),y.subscribe(g=>{if(console.log("🔌 Realtime subscription status:",g,"for job:",t),g==="SUBSCRIBED"){console.log("✅ Realtime updates active for job:",t),o();return}(g==="TIMED_OUT"||g==="CHANNEL_ERROR"||g==="CLOSED")&&(console.warn("⚠️ Realtime subscription failed. Falling back to polling.",{status:g,jobId:t}),c())})})(),()=>{d=!1,s.current&&(tt.removeChannel(s.current),s.current=null),o()}},[u,t,c,o,l]),{progress:e,isLoading:r}}const jZ={initializing:"Initializing campaign...",discovering_businesses:"Discovering businesses...",scoring_businesses:"Scoring and qualifying leads...",enriching_contacts:"Enriching contact information...",storing_results:"Storing results...",exhausted_results:"All unique results already delivered for this search.",completed:"Campaign complete!"},Rpe=()=>{const{campaignId:t}=ZY(),[e]=UC(),n=Ml(),r=e.get("jobId"),{progress:i}=Tpe(r||""),a=tn(G=>G.campaigns),s=tn(G=>G.addCampaign),o=tn(G=>G.updateCampaign),l=tn(G=>G.setCurrentCampaign),u=tn(G=>G.ensureUniqueCampaignHistory),c=tn(G=>G.setCampaignLeads),d=tn(G=>G.setLoading),f=tn(G=>G.setError),{user:p,loading:v}=Da(),m=(p==null?void 0:p.id)??null,[S,y]=Z.useState(!1),[g,b]=Z.useState(null),w=Z.useRef(!1),E=Z.useRef(!0);Z.useEffect(()=>()=>{E.current=!1},[]);const _=(i==null?void 0:i.progress)||0,C=(i==null?void 0:i.status)||"pending",k=(i==null?void 0:i.currentStage)||"Initializing...",x=i==null?void 0:i.metrics,T=C==="completed",A=i==null?void 0:i.error,M=!!(x!=null&&x.exhausted),z=k&&jZ[k]?jZ[k]:k,N=S?"Preparing final results...":z,I=S?Math.min(100,Math.max(_,96)):_,O=!T||S,X=Z.useCallback(async()=>{if(!t)return;if(!m){b("Sign in again to view campaign results.");return}w.current=!0,y(!0),b(null),d(!0);const G=V=>new Promise(P=>{setTimeout(P,V)});try{let P=null,F=[];for(let ce=0;ce<5;ce+=1){const H=tt.from("campaigns").select("id,business_type,location,status,total_cost,results_count,created_at,updated_at").eq("id",t).eq("user_id",m),{data:pe,error:he}=await H.maybeSingle();if(he)throw he;const Pe=tt.from("leads").select("id,campaign_id,business_name,address,phone,website,email,confidence_score,validation_cost,enrichment_data,created_at").eq("campaign_id",t).eq("user_id",m).order("confidence_score",{ascending:!1}),{data:An,error:$r}=await Pe;if($r)throw $r;if(P=pe,F=An??[],P&&(F.length>0||x!=null&&x.exhausted||ce===5-1))break;await G(2e3)}if(!P)throw new Error("Campaign record not available yet. Please try again in a moment.");const{campaignResult:ie,leads:re}=p0(P,F,{metrics:x??null});a.some(ce=>ce.campaign_id===ie.campaign_id)?o(ie.campaign_id,ie):s(ie),u(),c(ie.campaign_id,re),l(ie),E.current&&(b(null),n("/results",{replace:!0,state:{campaignId:t}}))}catch(V){console.error("⚠️ Unable to load campaign results",V);const P=V instanceof Error?V.message:"Unable to load campaign results. Please try again.";E.current&&b(P),f(P),w.current=!1}finally{E.current&&(y(!1),d(!1))}},[s,m,t,a,u,x,n,l,c,f,d,o]);Z.useEffect(()=>{!T||!t||!r||m&&(w.current||X())},[m,t,X,T,r]);const L=()=>{if(t){if(!m){b("Sign in again to re-establish your session.");return}X()}};return v?h.createElement("div",{className:"container mx-auto px-4 py-12"},h.createElement("div",{className:"flex items-center justify-center"},h.createElement("div",{className:"flex items-center space-x-3 text-gray-600"},h.createElement("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}),h.createElement("span",null,"Loading campaign...")))):m?!r||!t?h.createElement("div",{className:"container mx-auto px-4 py-8"},h.createElement("div",{className:"text-center"},h.createElement("h1",{className:"text-2xl font-bold text-red-600 mb-4"},"Invalid Campaign"),h.createElement("p",{className:"text-gray-600 mb-4"},"Missing job or campaign information."),h.createElement("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>n("/")},"Return Home"))):A?h.createElement("div",{className:"container mx-auto px-4 py-8"},h.createElement("div",{className:"text-center"},h.createElement("h1",{className:"text-2xl font-bold text-red-600 mb-4"},"Processing Error"),h.createElement("p",{className:"text-gray-600 mb-4"},A),h.createElement("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>n("/")},"Start New Campaign"))):h.createElement("div",{className:"container mx-auto px-4 py-8 max-w-4xl"},h.createElement("div",{className:"text-center mb-8"},h.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Campaign Discovery in Progress")),S&&!g&&h.createElement("div",{className:"mb-6 rounded-lg border border-blue-200 bg-blue-50 p-4 text-sm text-blue-700"},"Finalizing campaign results and syncing verified leads to your vault..."),T&&M&&!g&&h.createElement("div",{className:"mb-6 rounded-lg border border-amber-200 bg-amber-50 p-4 text-sm text-amber-800"},h.createElement("div",{className:"font-semibold"},"All verified leads already delivered"),h.createElement("p",{className:"mt-1"},"We already shared every unique business that matches this search for your account. Try broadening the location, adjusting keywords, or selecting a different tier to open up new sources.")),g&&h.createElement("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700"},h.createElement("div",{className:"font-semibold"},"Unable to load campaign results"),h.createElement("p",{className:"mt-1"},g),h.createElement("button",{className:"mt-3 inline-flex items-center rounded border border-red-300 bg-white px-3 py-1.5 text-xs font-medium text-red-700 shadow-sm transition hover:bg-red-100",onClick:L},"Retry syncing results")),h.createElement(qk,{cacheStats:null,currentStage:N,isDiscovering:O,progress:I}),x&&h.createElement("div",{className:"mt-6 bg-white border border-gray-200 rounded-lg p-6"},h.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},"📊 Live Discovery Metrics"),h.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-2xl font-bold text-blue-600"},x.total_found||0),h.createElement("div",{className:"text-sm text-gray-600"},"Total Found")),h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-2xl font-bold text-green-600"},x.qualified_leads||0),h.createElement("div",{className:"text-sm text-gray-600"},"Qualified")),h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-2xl font-bold text-purple-600"},x.avg_confidence?`${x.avg_confidence}%`:"0%"),h.createElement("div",{className:"text-sm text-gray-600"},"Avg Confidence")),h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-2xl font-bold text-orange-600"},"$",(x.total_cost||0).toFixed(2)),h.createElement("div",{className:"text-sm text-gray-600"},"Total Cost")))),h.createElement("div",{className:"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-4"},h.createElement("h4",{className:"font-semibold text-gray-900 mb-2"},"Status Updates"),h.createElement("div",{className:"space-y-2"},h.createElement("div",{className:"flex items-center text-sm"},h.createElement("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),h.createElement("span",{className:"text-gray-600"},"Campaign started at ",new Date().toLocaleTimeString())),N&&h.createElement("div",{className:"flex items-center text-sm"},h.createElement("div",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2 animate-pulse"}),h.createElement("span",{className:"text-gray-900 font-medium"},N)),S&&h.createElement("div",{className:"flex items-center text-sm"},h.createElement("div",{className:"w-2 h-2 bg-purple-400 rounded-full mr-2 animate-pulse"}),h.createElement("span",{className:"text-purple-600 font-medium"},"Finalizing leads and preparing results...")),C==="completed"&&h.createElement("div",{className:"flex items-center text-sm"},h.createElement("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),h.createElement("span",{className:"text-green-600 font-medium"},"✅ Discovery completed! Redirecting to results...")),T&&M&&h.createElement("div",{className:"flex items-center text-sm"},h.createElement("div",{className:"w-2 h-2 bg-amber-400 rounded-full mr-2"}),h.createElement("span",{className:"text-amber-600 font-medium"},"No new verified businesses remain for this exact search.")),g&&h.createElement("div",{className:"flex items-center text-sm"},h.createElement("div",{className:"w-2 h-2 bg-red-400 rounded-full mr-2"}),h.createElement("span",{className:"text-red-600 font-medium"},g)))),h.createElement("div",{className:"mt-8 text-center space-x-4"},h.createElement("button",{className:"px-4 py-2 text-gray-600 bg-gray-100 rounded hover:bg-gray-200",onClick:()=>n("/")},"Start New Campaign"),!O&&h.createElement("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>n("/results",{state:{campaignId:t}})},"View Complete Results"))):h.createElement("div",{className:"container mx-auto px-4 py-12"},h.createElement("div",{className:"max-w-xl mx-auto rounded-lg border border-gray-200 bg-white p-8 text-center shadow-sm dark:border-gray-700 dark:bg-gray-800"},h.createElement("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},"Sign in required"),h.createElement("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300"},"Please sign in to review campaign progress and download results.")))},Npe=({campaigns:t,onRowClick:e,isLoading:n=!1,pageSize:r=25})=>{const[i,a]=Z.useState("created_at"),[s,o]=Z.useState("desc"),[l,u]=Z.useState(0),c=Z.useMemo(()=>{const f=[...t];return f.sort((p,v)=>{const m=p[i],S=v[i];if(i==="business_type"||i==="status"){const b=(m||"").toLowerCase(),w=(S||"").toLowerCase();return b===w?0:s==="asc"?b.localeCompare(w):w.localeCompare(b)}if(i==="created_at"){const b=m?new Date(m):new Date(0),w=S?new Date(S):new Date(0);return s==="asc"?b.getTime()-w.getTime():w.getTime()-b.getTime()}const y=typeof m=="number"?m:0,g=typeof S=="number"?S:0;return y===g?0:s==="asc"?y-g:g-y}),f},[t,i,s]),d=c.length===0?0:Math.ceil(c.length/r);return Z.useEffect(()=>{u(0)},[c.length,r]),Z.useEffect(()=>{if(d===0){u(0);return}l>d-1&&u(d-1)},[l,d]),Z.useMemo(()=>{if(d===0)return[];const f=l*r;return c.slice(f,f+r)},[c,l,r,d]),c.length===0||l*r+1,c.length===0||Math.min(c.length,(l+1)*r),h.createElement("div",{className:"overflow-hidden border border-gray-200 dark:border-gray-700 rounded-lg"})},BZ=t=>t&&t.trim().length>0?t:"Not provided",Ope=({lead:t,isOpen:e,onClose:n})=>!t||!e?null:h.createElement(h.Fragment,null,h.createElement("div",{className:"fixed inset-0 bg-black/40 z-40",role:"presentation",onClick:n}),h.createElement("aside",{"aria-label":"Lead details",className:"fixed inset-y-0 right-0 w-full max-w-md z-50 shadow-2xl bg-white dark:bg-gray-900 overflow-y-auto"},h.createElement("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-200 dark:border-gray-700"},h.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Lead Details"),h.createElement("button",{"aria-label":"Close lead details",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-gray-900 rounded-full",type:"button",onClick:n},h.createElement("span",{"aria-hidden":"true"},"×"))),h.createElement("div",{className:"px-6 py-6 space-y-8"},h.createElement("section",null,h.createElement("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Business Summary"),h.createElement("div",{className:"mt-4 space-y-3 text-sm text-gray-700 dark:text-gray-200"},h.createElement("div",null,h.createElement("span",{className:"font-medium text-gray-900 dark:text-gray-100"},"Name:")," ",BZ(t.business_name)),h.createElement("div",null,h.createElement("span",{className:"font-medium text-gray-900 dark:text-gray-100"},"Address:")," ",BZ(t.address)))),h.createElement("section",null,h.createElement("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Contact Details"),h.createElement("div",{className:"mt-4 space-y-3 text-sm text-gray-700 dark:text-gray-200"},h.createElement("div",null,h.createElement("span",{className:"font-medium text-gray-900 dark:text-gray-100"},"Phone:")," ",t.phone?h.createElement("a",{className:"text-blue-600 hover:underline dark:text-blue-400",href:`tel:${t.phone}`},t.phone):"Not provided"),h.createElement("div",null,h.createElement("span",{className:"font-medium text-gray-900 dark:text-gray-100"},"Email:")," ",t.email?h.createElement("a",{className:"text-blue-600 hover:underline dark:text-blue-400",href:`mailto:${t.email}`},t.email):"Not provided"),h.createElement("div",null,h.createElement("span",{className:"font-medium text-gray-900 dark:text-gray-100"},"Website:")," ",t.website?h.createElement("a",{className:"text-blue-600 hover:underline dark:text-blue-400",href:t.website,rel:"noopener noreferrer",target:"_blank"},t.website):"Not provided")))))),FZ={ESSENTIAL:{bg:"bg-gray-100 dark:bg-slate-700",text:"text-gray-700 dark:text-slate-300",border:"border-gray-300 dark:border-slate-600",badge:"bg-gray-500"},PROFESSIONAL:{bg:"bg-blue-50 dark:bg-blue-900/30",text:"text-blue-700 dark:text-blue-300",border:"border-blue-200 dark:border-blue-800",badge:"bg-blue-600 dark:bg-blue-500"},BUSINESS:{bg:"bg-purple-50 dark:bg-purple-900/30",text:"text-purple-700 dark:text-purple-300",border:"border-purple-200 dark:border-purple-800",badge:"bg-purple-600 dark:bg-purple-500"},ENTERPRISE:{bg:"bg-amber-50 dark:bg-amber-900/30",text:"text-amber-700 dark:text-amber-300",border:"border-amber-200 dark:border-amber-800",badge:"bg-amber-600 dark:bg-amber-500"}},Ipe=({lead:t,onClick:e,isSelected:n=!1,showActions:r=!1,onExport:i,onViewDetails:a})=>{var b;const s=((b=t.enrichment_tier)==null?void 0:b.toUpperCase())||"ESSENTIAL",o=FZ[s]||FZ.ESSENTIAL,l=t.confidence_score||0,u=Math.round(l),c=w=>w>=90?"Excellent":w>=75?"Very Good":w>=60?"Good":w>=40?"Fair":"Low",d=w=>w>=75?"text-green-600 dark:text-green-400":w>=50?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400",f=t.data_sources||[],p=f.length>0,v=t.enrichment_data,S=((v==null?void 0:v.emails)||[]).find(w=>w.verified),y=()=>{e&&e(t)},g=w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),y())};return h.createElement("article",{"aria-label":`Lead: ${t.business_name}`,className:`relative bg-white dark:bg-slate-800 rounded-lg border-2 transition-all ${n?`${o.border} ring-2 ${o.badge.replace("bg-","ring-")}`:"border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600"} ${e?"cursor-pointer":""} focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2`,role:"button",tabIndex:e?0:void 0,onClick:y,onKeyDown:g},h.createElement("div",{className:"absolute -top-3 -right-3"},h.createElement("span",{"aria-label":`${s} tier lead`,className:`inline-flex items-center gap-1.5 px-3 py-1 ${o.badge} text-white text-xs font-bold rounded-full shadow-md`},s==="ENTERPRISE"&&h.createElement("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})),s)),h.createElement("div",{className:"p-4 space-y-3"},h.createElement("div",{className:"flex items-start justify-between gap-3"},h.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100 flex-1"},t.business_name),p&&h.createElement("span",{"aria-label":"Verified contact data",className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs font-medium rounded",title:`Verified via: ${f.join(", ")}`},h.createElement("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",fillRule:"evenodd"})),"Verified")),h.createElement("div",{className:"space-y-1.5 text-sm"},t.address&&h.createElement("div",{className:"flex items-start gap-2 text-gray-600 dark:text-slate-400"},h.createElement("svg",{className:"w-4 h-4 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}),h.createElement("path",{d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),h.createElement("span",{className:"flex-1"},t.address)),t.phone&&h.createElement("div",{className:"flex items-center gap-2 text-gray-600 dark:text-slate-400"},h.createElement("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),h.createElement("span",null,t.phone)),S&&h.createElement("div",{className:"flex items-center gap-2 text-gray-600 dark:text-slate-400"},h.createElement("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),h.createElement("span",{className:"flex-1 truncate"},S.email),h.createElement("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-400"},h.createElement("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",fillRule:"evenodd"})),"Verified")),t.website&&h.createElement("div",{className:"flex items-center gap-2 text-gray-600 dark:text-slate-400"},h.createElement("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),h.createElement("a",{className:"flex-1 truncate hover:text-blue-600 dark:hover:text-blue-400 hover:underline",href:t.website,rel:"noopener noreferrer",target:"_blank",onClick:w=>w.stopPropagation()},t.website))),h.createElement("div",{className:"pt-2 border-t border-gray-200 dark:border-slate-700"},h.createElement("div",{className:"flex items-center justify-between mb-1"},h.createElement("span",{className:"text-xs font-medium text-gray-600 dark:text-slate-400"},"Confidence Score"),h.createElement("span",{className:`text-xs font-semibold ${d(u)}`},u,"% •"," ",c(u))),h.createElement("div",{className:"w-full h-2 bg-gray-200 dark:bg-slate-700 rounded-full overflow-hidden"},h.createElement("div",{"aria-label":`Confidence score: ${u}%`,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":u,className:`h-full transition-all ${u>=75?"bg-green-500 dark:bg-green-400":u>=50?"bg-blue-500 dark:bg-blue-400":"bg-orange-500 dark:bg-orange-400"}`,role:"progressbar",style:{width:`${Math.max(u,5)}%`}}))),f.length>0&&h.createElement("div",{className:"flex flex-wrap gap-1.5"},f.map((w,E)=>h.createElement("span",{key:`${w}-${E}`,className:"inline-flex items-center px-2 py-0.5 bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-400 text-xs rounded",title:`Data verified via ${w}`},w))),r&&h.createElement("div",{className:"flex gap-2 pt-2"},a&&h.createElement("button",{className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white text-sm font-medium rounded transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",type:"button",onClick:w=>{w.stopPropagation(),a(t)}},"View Details"),i&&h.createElement("button",{"aria-label":"Export lead",className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-300 text-sm font-medium rounded transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2",type:"button",onClick:w=>{w.stopPropagation(),i(t)}},h.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}))))),h.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-900/50 border-t border-gray-200 dark:border-slate-700 rounded-b-lg"},h.createElement("p",{className:"text-xs text-gray-500 dark:text-slate-500 flex items-center gap-1.5"},h.createElement("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",fillRule:"evenodd"})),h.createElement("span",null,"Verified professional contact • Zero fake data • Cost: $",(t.cost_to_acquire||0).toFixed(2)))))},Lpe={business_name:"Business Name",confidence_score:"Confidence Score",enrichment_tier:"Enrichment Tier"},Zpe=({leads:t,onRowClick:e,isLoading:n=!1,pageSize:r=24})=>{const[i,a]=Z.useState("confidence_score"),[s,o]=Z.useState("desc"),[l,u]=Z.useState(0),[c,d]=Z.useState("grid"),[f,p]=Z.useState(!1),[v,m]=Z.useState([0,100]),[S,y]=Z.useState(new Set),[g,b]=Z.useState(null),[w,E]=Z.useState(null),_=Z.useMemo(()=>t.filter(O=>{var G;const X=O.confidence_score??0;if(X<v[0]||X>v[1])return!1;const L=O.enrichment_tier||((G=O.enrichment_data)==null?void 0:G.enrichmentTier)||"ESSENTIAL";return!(S.size>0&&!S.has(L)||g!==null&&(g?!O.email:O.email)||w!==null&&(w?!O.phone:O.phone))}),[t,v,S,g,w]),C=Z.useMemo(()=>{const O=[..._];return O.sort((X,L)=>{var ie,re;const G=X[i],V=L[i];if(i==="business_name"||i==="enrichment_tier"){const ve=(i==="enrichment_tier"?X.enrichment_tier||((ie=X.enrichment_data)==null?void 0:ie.enrichmentTier)||"":G||"").toLowerCase(),ce=(i==="enrichment_tier"?L.enrichment_tier||((re=L.enrichment_data)==null?void 0:re.enrichmentTier)||"":V||"").toLowerCase();return ve===ce?0:s==="asc"?ve.localeCompare(ce):ce.localeCompare(ve)}const P=typeof G=="number"?G:0,F=typeof V=="number"?V:0;return P===F?0:s==="asc"?P-F:F-P}),O},[_,i,s]),k=C.length===0?0:Math.ceil(C.length/r);Z.useEffect(()=>{u(0)},[C.length,r]),Z.useEffect(()=>{if(k===0){u(0);return}l>k-1&&u(k-1)},[l,k]);const x=Z.useMemo(()=>{if(k===0)return[];const O=l*r;return C.slice(O,O+r)},[C,l,r,k]),T=O=>{y(X=>{const L=new Set(X);return L.has(O)?L.delete(O):L.add(O),L})},A=()=>{m([0,100]),y(new Set),b(null),E(null)},M=(v[0]!==0||v[1]!==100?1:0)+S.size+(g!==null?1:0)+(w!==null?1:0),z=C.length===0?0:l*r+1,N=C.length===0?0:Math.min(C.length,(l+1)*r);Z.useEffect(()=>{if(!f)return;const O=L=>{L.key==="Escape"&&p(!1)};document.addEventListener("keydown",O);const X=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",O),document.body.style.overflow=X}},[f]);const I=()=>h.createElement(h.Fragment,null,h.createElement(uc,{defaultOpen:!0,persistKey:"lead-explorer-confidence-filter",title:"Confidence Score"},h.createElement("div",{className:"space-y-4"},h.createElement("div",null,h.createElement("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-2"},"Range: ",v[0],"% - ",v[1],"%"),h.createElement("div",{className:"space-y-2"},h.createElement("input",{className:"w-full",max:"100",min:"0",type:"range",value:v[0],onChange:O=>m([parseInt(O.target.value),v[1]])}),h.createElement("input",{className:"w-full",max:"100",min:"0",type:"range",value:v[1],onChange:O=>m([v[0],parseInt(O.target.value)])}))))),h.createElement(uc,{defaultOpen:!0,persistKey:"lead-explorer-tier-filter",subtitle:S.size>0?`${S.size} selected`:void 0,title:"Enrichment Tier"},h.createElement("div",{className:"space-y-2"},["ESSENTIAL","PROFESSIONAL","BUSINESS","ENTERPRISE"].map(O=>h.createElement("label",{key:O,className:"flex items-center gap-2 text-sm"},h.createElement("input",{checked:S.has(O),className:"rounded border-gray-300 dark:border-gray-600",type:"checkbox",onChange:()=>T(O)}),h.createElement("span",{className:"text-gray-700 dark:text-gray-300"},O))))),h.createElement(uc,{defaultOpen:!0,persistKey:"lead-explorer-contact-filter",subtitle:(g!==null?1:0)+(w!==null?1:0)>0?`${(g!==null?1:0)+(w!==null?1:0)} filters active`:void 0,title:"Contact Data"},h.createElement("div",{className:"space-y-3"},h.createElement("div",null,h.createElement("span",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-2"},"Email Available"),h.createElement("div",{className:"flex gap-2"},h.createElement("button",{className:`px-3 py-1 text-xs rounded ${g===!0?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,type:"button",onClick:()=>b(g===!0?null:!0)},"Yes"),h.createElement("button",{className:`px-3 py-1 text-xs rounded ${g===!1?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,type:"button",onClick:()=>b(g===!1?null:!1)},"No"))),h.createElement("div",null,h.createElement("span",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-2"},"Phone Available"),h.createElement("div",{className:"flex gap-2"},h.createElement("button",{className:`px-3 py-1 text-xs rounded ${w===!0?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,type:"button",onClick:()=>E(w===!0?null:!0)},"Yes"),h.createElement("button",{className:`px-3 py-1 text-xs rounded ${w===!1?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,type:"button",onClick:()=>E(w===!1?null:!1)},"No"))))),M>0&&h.createElement("button",{className:"w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",type:"button",onClick:A},"Clear All Filters (",M,")"));return h.createElement("div",{className:"flex gap-6"},h.createElement("aside",{className:"hidden md:block w-64 flex-shrink-0 space-y-4"},h.createElement(I,null)),h.createElement("div",{className:"flex-1 min-w-0"},h.createElement("div",{className:"mb-4 flex items-center justify-between gap-4"},h.createElement("div",{className:"flex items-center gap-4"},h.createElement("div",{className:"flex items-center gap-2"},h.createElement("label",{className:"text-sm text-gray-600 dark:text-gray-400"},"Sort by:"),h.createElement("select",{className:"px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",value:i,onChange:O=>a(O.target.value)},Object.entries(Lpe).map(([O,X])=>h.createElement("option",{key:O,value:O},X))),h.createElement("button",{"aria-label":`Sort ${s==="asc"?"ascending":"descending"}`,className:"p-1.5 rounded border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",type:"button",onClick:()=>o(O=>O==="asc"?"desc":"asc")},h.createElement("span",{className:"text-gray-600 dark:text-gray-400"},s==="asc"?"↑":"↓"))),h.createElement("div",{className:"md:hidden"},h.createElement("button",{"aria-label":"Open filters",className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700",type:"button",onClick:()=>p(!0)},h.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M3 4h18M6 8h12M9 12h6M11 16h2",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),h.createElement("span",null,"Filters"),M>0&&h.createElement("span",{className:"ml-1 inline-flex items-center justify-center rounded-full bg-blue-600 text-white text-[10px] font-semibold min-w-[18px] h-[18px] px-1"},M))),h.createElement("div",{className:"flex items-center gap-1 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg"},h.createElement("button",{"aria-label":"Grid view",className:`p-1.5 rounded ${c==="grid"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,type:"button",onClick:()=>d("grid")},h.createElement("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"}))),h.createElement("button",{"aria-label":"List view",className:`p-1.5 rounded ${c==="list"?"bg-white dark:bg-gray-700 shadow":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,type:"button",onClick:()=>d("list")},h.createElement("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},h.createElement("path",{clipRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",fillRule:"evenodd"}))))),h.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400"},z,"-",N," of ",C.length," leads",_.length<t.length&&h.createElement("span",{className:"ml-1 text-xs"},"(",t.length-_.length," filtered)"))),n?h.createElement("div",{className:"text-center py-12"},h.createElement("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),h.createElement("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400"},"Loading leads...")):C.length===0?h.createElement("div",{className:"text-center py-12 border border-gray-200 dark:border-gray-700 rounded-lg"},h.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),h.createElement("h3",{className:"mt-4 text-sm font-medium text-gray-900 dark:text-gray-100"},"No leads found"),h.createElement("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400"},M>0?"Adjust your filters to see more results.":"Start a new campaign to generate leads."),M>0&&h.createElement("button",{className:"mt-4 px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700",type:"button",onClick:A},"Clear all filters")):h.createElement(h.Fragment,null,f&&h.createElement("div",{"aria-labelledby":"filters-title","aria-modal":"true",className:"fixed inset-0 z-40",role:"dialog"},h.createElement("div",{"aria-hidden":"true",className:"fixed inset-0 bg-black/40",onClick:()=>p(!1)}),h.createElement("div",{className:"fixed inset-y-0 right-0 w-full max-w-sm bg-white dark:bg-gray-900 shadow-xl p-4 overflow-y-auto"},h.createElement("div",{className:"flex items-center justify-between mb-3"},h.createElement("h2",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",id:"filters-title"},"Filters"),h.createElement("button",{autoFocus:!0,"aria-label":"Close filters",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",type:"button",onClick:()=>p(!1)},h.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M6 18L18 6M6 6l12 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})))),h.createElement("div",{className:"space-y-4"},h.createElement(I,null)))),h.createElement("div",{className:c==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4":"space-y-4"},x.map(O=>h.createElement(Ipe,{key:O.id,lead:O,onClick:()=>e==null?void 0:e(O)}))),k>1&&h.createElement("div",{className:"mt-6 flex items-center justify-between"},h.createElement("button",{className:"px-4 py-2 text-sm font-medium rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-800",disabled:l===0,type:"button",onClick:()=>u(O=>Math.max(0,O-1))},"Previous"),h.createElement("span",{className:"text-sm text-gray-600 dark:text-gray-400"},"Page ",l+1," of ",k),h.createElement("button",{className:"px-4 py-2 text-sm font-medium rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-800",disabled:l>=k-1,type:"button",onClick:()=>u(O=>Math.min(k-1,O+1))},"Next")))))},Vpe=({tabs:t,defaultTab:e,activeTab:n,onChange:r,className:i="",keyboardNavigation:a=!0,ariaLabel:s="Dashboard Navigation"})=>{var f,p;Z.useId();const o=n||e||((f=t[0])==null?void 0:f.id),[l,u]=Z.useState(o);if(Z.useRef([]),Z.useEffect(()=>{n&&n!==l&&u(n)},[n,l]),!t.length)return null;const c=l||t[0].id,d=t.findIndex(v=>v.id===c);return(p=t[d])==null||p.content,h.createElement("div",{className:`w-full ${i}`})},Gpe={high:{min:80,max:100,label:"High (≥80%)"},medium:{min:60,max:79,label:"Medium (60-79%)"},low:{min:0,max:59,label:"Low (<60%)"}},Jw=t=>{if(!t)return null;const e=new Date(t);return Number.isNaN(e.getTime())?null:e},HZ=t=>{const e=new Date,n=new Date(e);return n.setDate(n.getDate()-t),{start:n.toISOString(),end:e.toISOString()}},Ape=(t,e)=>t.length?t.filter(n=>{var o;const{confidenceBucket:r,validationStatuses:i,enrichmentTier:a,dateRange:s}=e;if(r){const l=Gpe[r],u=n.confidence_score??0;if(u<l.min||u>l.max)return!1}if(i!=null&&i.length&&!i.includes(n.validation_status))return!1;if(a){const l=a.toLowerCase(),u=(n.enrichment_tier||((o=n.enrichment_data)==null?void 0:o.enrichmentTier)||"").toLowerCase();if(!u||u!==l)return!1}if(s){const l=Jw(n.created_at),u=Jw(s.start),c=Jw(s.end);if(l&&u&&c&&(l<u||l>c))return!1}return!0}):t,Mpe=(t,e)=>{if(!t.length)return{totalLeads:0,qualifiedLeads:0,totalCampaigns:e,averageConfidence:0};const n=t.reduce((i,a)=>i+(a.confidence_score??0),0),r=t.filter(i=>(i.confidence_score??0)>=80);return{totalLeads:t.length,qualifiedLeads:r.length,totalCampaigns:e,averageConfidence:Math.round(n/t.length*10)/10}},YZ=[{label:"Last 7 days",value:"7d",days:7},{label:"Last 30 days",value:"30d",days:30},{label:"Last 90 days",value:"90d",days:90}],Qd=(t,e=0)=>{const n=Number(t);return Number.isFinite(n)?n:e},$w=t=>{if(!t)return null;const e=new Date(t);return Number.isNaN(e.getTime())?null:e},Xpe=(t,e)=>t.length?t.filter(n=>{const{status:r,tier:i,dateRange:a}=e;if(r&&n.status!==r)return!1;if(i){const s=i.toLowerCase(),o=(n.tier_used||"").toLowerCase();if(!o||o!==s)return!1}if(a){const s=$w(n.created_at),o=$w(a.start),l=$w(a.end);if(s&&o&&l&&(s<o||s>l))return!1}return!0}):t,Upe=t=>t==="completed"||t==="failed"||t==="cancelled"?t:"running",Wpe=t=>{if(!t)return null;const e=t.campaign_id??t.id;if(!e)return console.warn("[Dashboard] Ignoring campaign without identifier",t),null;const n=Upe(t.status),r=Qd(t.leads_found??t.results_count,0),i=Qd(t.leads_qualified,0),a=Qd(t.leads_validated??t.leads_qualified,i),s=(()=>typeof t.progress=="number"?Math.min(100,Math.max(0,t.progress)):n==="completed"?100:r>0?80:0)(),o=typeof t.created_at=="string"?t.created_at:new Date().toISOString(),l=typeof t.completed_at=="string"?t.completed_at:void 0,u=t.cache_performance&&typeof t.cache_performance=="object"?t.cache_performance:void 0;return{id:typeof t.id=="string"?t.id:void 0,campaign_id:String(e),business_type:typeof t.business_type=="string"?t.business_type:void 0,location:typeof t.location=="string"?t.location:void 0,status:n,progress:s,total_cost:Qd(t.total_cost,0),results_count:t.results_count!=null?Qd(t.results_count,0):void 0,leads_found:r,leads_qualified:i,leads_validated:a,created_at:o,completed_at:l,error_message:typeof t.error_message=="string"?t.error_message:void 0,tier_used:typeof t.tier_used=="string"?t.tier_used:void 0,vault_secured:typeof t.vault_secured=="boolean"?t.vault_secured:n==="completed"?!0:void 0,cache_performance:u}},Ppe=t=>t!==null,zpe=()=>{const t=Ml(),{user:e,loading:n}=Da(),{campaigns:r,leads:i}=tn(),[a,s]=Z.useState(r),[o,l]=Z.useState(i),[u,c]=Z.useState(!0),[d,f]=Z.useState(!0),[p,v]=Z.useState(null),[m,S]=Z.useState(null),[y,g]=Z.useState({}),[b,w]=Z.useState({}),[E,_]=Z.useState(null),[C,k]=Z.useState("leads"),[x,T]=Z.useState(),[A,M]=Z.useState();Z.useEffect(()=>{r.length&&s(r)},[r]),Z.useEffect(()=>{i.length&&l(i)},[i]),Z.useEffect(()=>{if(n)return;if(!(e!=null&&e.id)){s([]),c(!1),v(null);return}let H=!1;return(async()=>{c(!0);try{const{data:he,error:Pe}=await tt.from("campaigns").select("id,business_type,location,status,total_cost,results_count,created_at,updated_at").eq("user_id",e.id).order("created_at",{ascending:!1});if(H)return;if(Pe){console.error("[Dashboard] campaign fetch error",Pe),v(Pe.message);return}const An=Array.isArray(he)?he.map(Wpe).filter(Ppe):[];s(An),v(null)}catch(he){if(H)return;console.error("[Dashboard] campaign fetch unexpected error",he),v(he instanceof Error?he.message:"Failed to load campaigns")}finally{H||c(!1)}})(),()=>{H=!0}},[n,e==null?void 0:e.id]),Z.useEffect(()=>{if(n)return;if(!(e!=null&&e.id)){l([]),f(!1),S(null);return}let H=!1;return(async()=>{f(!0);try{const{data:he,error:Pe}=await tt.from("leads").select("id,campaign_id,business_name,address,phone,website,email,confidence_score,validation_cost,enrichment_data,created_at").eq("user_id",e.id).order("created_at",{ascending:!1});if(H)return;if(Pe){console.error("[Dashboard] lead fetch error",Pe),S(Pe.message);return}const An=np(he??[],null,"dashboard leads fetch");l(An),S(null)}catch(he){if(H)return;console.error("[Dashboard] lead fetch unexpected error",he),S(he instanceof Error?he.message:"Failed to load leads")}finally{H||f(!1)}})(),()=>{H=!0}},[n,e==null?void 0:e.id]),Z.useEffect(()=>{o.length||_(null)},[o.length]);const z=Z.useMemo(()=>Ape(o,y),[o,y]),N=Z.useMemo(()=>Xpe(a,b),[a,b]),I=Z.useMemo(()=>Mpe(o,a.length),[o,a.length]),O=Z.useMemo(()=>{const H=new Set;for(const pe of a)pe.tier_used&&H.add(pe.tier_used);return Array.from(H).sort((pe,he)=>pe.localeCompare(he))},[a]),X=Z.useMemo(()=>{var pe;const H=new Set;for(const he of o){const Pe=he.enrichment_tier||((pe=he.enrichment_data)==null?void 0:pe.enrichmentTier)||"";Pe&&H.add(Pe)}return Array.from(H).sort((he,Pe)=>he.localeCompare(Pe))},[o]),L=H=>{const pe=HZ(H.days);g(he=>({...he,datePreset:H.value,dateRange:pe})),T(H.value)},G=()=>{g(H=>{const{datePreset:pe,dateRange:he,...Pe}=H;return Pe}),T(void 0)},V=()=>{g({}),T(void 0)},P=H=>{const pe=HZ(H.days);w(he=>({...he,datePreset:H.value,dateRange:pe})),M(H.value)},F=()=>{w(H=>{const{datePreset:pe,dateRange:he,...Pe}=H;return Pe}),M(void 0)},ie=()=>{w({}),M(void 0)},re=H=>{if(H==="campaigns"){k("campaigns");return}k("leads"),H==="qualified"&&g(pe=>({...pe,confidenceBucket:"high"}))},ve=[{id:"leads",label:"Lead Explorer",badge:z.length,icon:h.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),content:h.createElement("div",{className:"space-y-4"},h.createElement("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-4 space-y-4"},h.createElement("div",{className:"flex flex-wrap items-center gap-3"},h.createElement("label",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},h.createElement("span",{className:"font-medium text-gray-700 dark:text-gray-200"},"Tier"),h.createElement("select",{className:"block w-44 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-900 text-sm",value:y.enrichmentTier||"",onChange:H=>g(pe=>({...pe,enrichmentTier:H.target.value||void 0}))},h.createElement("option",{value:""},"All tiers"),X.map(H=>h.createElement("option",{key:H,value:H},H))))),h.createElement("div",{className:"flex flex-wrap items-center gap-2"},YZ.map(H=>h.createElement("button",{key:H.value,className:`px-3 py-2 text-xs font-medium rounded-md border transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-gray-900 ${x===H.value?"border-blue-500 bg-blue-50 text-blue-700 dark:border-blue-400 dark:bg-blue-900/40 dark:text-blue-200":"border-gray-300 text-gray-600 hover:bg-gray-100 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800"}`,type:"button",onClick:()=>x===H.value?G():L(H)},H.label)),h.createElement("button",{className:"ml-auto px-3 py-2 text-xs font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",type:"button",onClick:V},"Clear filters"))),h.createElement(Zpe,{isLoading:d,leads:z,onRowClick:H=>_(H)}))},{id:"campaigns",label:"Campaigns",badge:N.length,icon:h.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),content:h.createElement("div",{className:"space-y-4"},h.createElement("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-4 space-y-4"},h.createElement("div",{className:"flex flex-wrap items-center gap-3"},h.createElement("label",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},h.createElement("span",{className:"font-medium text-gray-700 dark:text-gray-200"},"Status"),h.createElement("select",{className:"block w-44 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-900 text-sm",value:b.status||"",onChange:H=>{const pe=H.target.value;w(he=>({...he,status:pe||void 0}))}},h.createElement("option",{value:""},"All statuses"),h.createElement("option",{value:"running"},"Running"),h.createElement("option",{value:"completed"},"Completed"),h.createElement("option",{value:"failed"},"Failed"),h.createElement("option",{value:"cancelled"},"Cancelled"))),h.createElement("label",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},h.createElement("span",{className:"font-medium text-gray-700 dark:text-gray-200"},"Tier"),h.createElement("select",{className:"block w-44 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-900 text-sm",disabled:O.length===0,value:b.tier||"",onChange:H=>w(pe=>({...pe,tier:H.target.value||void 0}))},h.createElement("option",{value:""},"All tiers"),O.map(H=>h.createElement("option",{key:H,value:H},H))))),h.createElement("div",{className:"flex flex-wrap items-center gap-2"},YZ.map(H=>h.createElement("button",{key:H.value,className:`px-3 py-2 text-xs font-medium rounded-md border transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-gray-900 ${A===H.value?"border-blue-500 bg-blue-50 text-blue-700 dark:border-blue-400 dark:bg-blue-900/40 dark:text-blue-200":"border-gray-300 text-gray-600 hover:bg-gray-100 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800"}`,type:"button",onClick:()=>A===H.value?F():P(H)},H.label)),h.createElement("button",{className:"ml-auto px-3 py-2 text-xs font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",type:"button",onClick:ie},"Clear filters"))),h.createElement(Npe,{campaigns:N,isLoading:u,onRowClick:H=>t(`/campaign?id=${H.campaign_id}`)}))},{id:"insights",label:"Insights",content:h.createElement("div",{className:"text-center py-16 text-gray-500 dark:text-gray-400"},"Analytics and trends are coming soon.")}],ce=p??m;return n||u&&d?h.createElement("div",{className:"flex items-center justify-center h-64"},h.createElement("div",{className:"text-center"},h.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.createElement("p",{className:"mt-4 text-gray-600 dark:text-gray-400"},"Loading dashboard..."))):e?ce?h.createElement("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},h.createElement("div",{className:"flex"},h.createElement("div",{className:"text-red-500 dark:text-red-400 text-xl mr-3"},"⚠️"),h.createElement("div",null,h.createElement("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200"},"Error loading dashboard"),h.createElement("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1"},ce)))):h.createElement("div",{className:"space-y-6"},h.createElement("div",null,h.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100"},"Dashboard"),h.createElement("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Monitor lead quality, campaign performance, and enrichment progress.")),h.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3"},h.createElement("button",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-5 text-left hover:shadow transition-shadow",type:"button",onClick:()=>re("leads")},h.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},"Total Leads"),h.createElement("div",{className:"mt-2 text-3xl font-semibold text-gray-900 dark:text-gray-100"},I.totalLeads),h.createElement("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Avg confidence: ",I.averageConfidence,"%")),h.createElement("button",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-5 text-left hover:shadow transition-shadow",type:"button",onClick:()=>re("qualified")},h.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},"Qualified Leads"),h.createElement("div",{className:"mt-2 text-3xl font-semibold text-green-600 dark:text-green-400"},I.qualifiedLeads),h.createElement("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Confidence ≥ 80%")),h.createElement("button",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-5 text-left hover:shadow transition-shadow",type:"button",onClick:()=>re("campaigns")},h.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},"Active Campaigns"),h.createElement("div",{className:"mt-2 text-3xl font-semibold text-blue-600 dark:text-blue-400"},a.length),h.createElement("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Showing ",N.length," campaigns"))),h.createElement(Vpe,{keyboardNavigation:!0,activeTab:C,ariaLabel:"Dashboard navigation tabs",tabs:ve,onChange:k}),h.createElement(Ope,{isOpen:!!E,lead:E,onClose:()=>_(null)})):h.createElement("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-8 text-center"},h.createElement("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2"},"Sign in to view your dashboard"),h.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},"Create an account or sign in to access campaign analytics and lead history."))},Dpe=25,jpe=t=>t>=90?"bg-green-100 text-green-800":t>=80?"bg-blue-100 text-blue-800":t>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",Bpe=t=>{switch(t){case"validated":return"bg-green-100 text-green-800";case"validating":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Fpe=()=>{const e=Al().state??null,n=e==null?void 0:e.campaignId,{currentCampaign:r,currentCampaignId:i,setCurrentCampaign:a,setCampaignLeads:s}=tn(x=>({currentCampaign:x.currentCampaign,currentCampaignId:x.currentCampaignId,setCurrentCampaign:x.setCurrentCampaign,setCampaignLeads:x.setCampaignLeads})),[o,l]=Z.useState(0),u=n??i;Z.useEffect(()=>{l(0)},[u]);const{campaign:c,leads:d,totalLeads:f,totalPages:p,isLoading:v,isFetching:m,isError:S,error:y,refetch:g}=Lz(u,{page:o,pageSize:Dpe}),b=Z.useRef(null);Z.useEffect(()=>{console.log("[Results] useCampaignResults output:",{campaignId:u,campaign:c?{campaign_id:c.campaign_id,business_type:c.business_type,location:c.location,status:c.status,leads_found:c.leads_found,leads_qualified:c.leads_qualified,hasRawData:!!c}:null,leads:{isArray:Array.isArray(d),length:Array.isArray(d)?d.length:"not-array",type:typeof d,firstLead:Array.isArray(d)&&d.length>0?{id:d[0].id,campaign_id:d[0].campaign_id,business_name:d[0].business_name,hasPhone:!!d[0].phone,hasEmail:!!d[0].email,hasWebsite:!!d[0].website,confidence_score:d[0].confidence_score}:null},totalLeads:f,totalPages:p,isLoading:v,isError:S,error:y?String(y):null})},[c,d,f,p,v,S,y,u]),Z.useEffect(()=>{c&&(console.log("[Results] Setting current campaign:",{campaign_id:c.campaign_id,business_type:c.business_type,location:c.location,status:c.status,leads_found:c.leads_found,leads_qualified:c.leads_qualified}),a(c))},[c,a]),Z.useEffect(()=>{var T,A;if(!u){console.log("[Results] No campaignId, skipping setCampaignLeads");return}if(!Array.isArray(d)){console.warn("[Results] Non-array leads from useCampaignResults",{campaignId:u,leadsType:typeof d,leadsValue:d});return}if(v||m){console.log("[Results] Skipping setCampaignLeads while loading",{campaignId:u,isLoading:v,isFetching:m,leadsCount:Array.isArray(d)?d.length:"not-array"});return}const x=`${u}|${d.length}|${((T=d[0])==null?void 0:T.id)??"none"}|${((A=d[d.length-1])==null?void 0:A.id)??"none"}`;if(b.current!==x){b.current=x,console.log("[Results] About to call setCampaignLeads:",{campaignId:u,leadsCount:d.length,leadSample:d.slice(0,2).map(M=>({id:M.id,business_name:M.business_name,campaign_id:M.campaign_id}))});try{s(u,d),console.log("[Results] setCampaignLeads SUCCESS")}catch(M){console.error("[Results] setCampaignLeads FAILED",{campaignId:u,error:M instanceof Error?M.message:String(M),errorStack:M instanceof Error?M.stack:void 0,leadsLength:Array.isArray(d)?d.length:"not-array",leadsSample:Array.isArray(d)?d.slice(0,1):null})}}},[u,m,v,d,s]);const w=c??r,E=d,_=Z.useMemo(()=>E.filter(x=>x.confidence_score>=70).length,[E]),C=x=>{if(E.length===0)return;if(x==="csv"){eT(E,{fileName:`prospects-vault-secured-${new Date().toISOString().split("T")[0]}.csv`});return}const T=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),A=URL.createObjectURL(T),M=document.createElement("a");M.href=A,M.download=`prospects-vault-secured-${new Date().toISOString().split("T")[0]}.json`,M.click(),URL.revokeObjectURL(A)},k=x=>{l(x==="next"?T=>Math.min(T+1,Math.max(p-1,0)):T=>Math.max(T-1,0))};return u?S?h.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-red-700"},h.createElement("h2",{className:"text-lg font-semibold mb-2"},"Unable to load results"),h.createElement("p",{className:"text-sm mb-4"},y instanceof Error?y.message:"Unknown error"),h.createElement("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",onClick:()=>g()},"Retry")):h.createElement("div",{className:"space-y-6"},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("div",null,h.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Results"),h.createElement("p",{className:"mt-1 text-sm text-gray-500"},v?"Loading leads...":`${f} leads found`," •"," ",_," qualified on this page")),E.length>0&&h.createElement("div",{className:"flex space-x-3"},h.createElement("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>C("csv")},"📊 Export CSV"),h.createElement("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>C("json")},"📄 Export JSON"))),w&&h.createElement("div",{className:"bg-white shadow rounded-lg p-6"},h.createElement("div",{className:"flex items-center justify-between mb-4"},h.createElement("h3",{className:"text-lg font-medium text-gray-900"},"Progressive Enrichment Results"),w.vault_secured&&h.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"🔐 Vault Secured")),h.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-5"},h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-2xl font-bold text-gray-900"},w.leads_found),h.createElement("div",{className:"text-sm text-gray-500"},"Total Found")),h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-2xl font-bold text-blue-600"},w.leads_qualified),h.createElement("div",{className:"text-sm text-gray-500"},"Qualified")),h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-2xl font-bold text-green-600"},w.leads_validated),h.createElement("div",{className:"text-sm text-gray-500"},"Validated")),h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-2xl font-bold text-purple-600"},w.tier_used||"Professional"),h.createElement("div",{className:"text-sm text-gray-500"},"Tier Used")),h.createElement("div",{className:"text-center"},h.createElement("div",{className:"text-2xl font-bold text-gray-900"},"$",w.total_cost.toFixed(2)),h.createElement("div",{className:"text-sm text-gray-500"},"Total Cost"))),w.cache_performance&&h.createElement("div",{className:"mt-6 pt-6 border-t border-gray-200"},h.createElement("h4",{className:"text-sm font-medium text-gray-900 mb-3"},"🚀 90-Day Intelligent Cache Performance"),h.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},h.createElement("div",{className:"bg-green-50 p-3 rounded-lg text-center"},h.createElement("div",{className:"text-lg font-bold text-green-600"},w.cache_performance.cache_hit_ratio.toFixed(1),"%"),h.createElement("div",{className:"text-xs text-gray-600"},"Cache Hit Ratio")),h.createElement("div",{className:"bg-blue-50 p-3 rounded-lg text-center"},h.createElement("div",{className:"text-lg font-bold text-blue-600"},w.cache_performance.cache_hits),h.createElement("div",{className:"text-xs text-gray-600"},"Cache Hits")),h.createElement("div",{className:"bg-yellow-50 p-3 rounded-lg text-center"},h.createElement("div",{className:"text-lg font-bold text-yellow-600"},w.cache_performance.cache_misses),h.createElement("div",{className:"text-xs text-gray-600"},"Cache Misses")),h.createElement("div",{className:"bg-green-50 p-3 rounded-lg text-center"},h.createElement("div",{className:"text-lg font-bold text-green-600"},"$",w.cache_performance.cost_savings.toFixed(2)),h.createElement("div",{className:"text-xs text-gray-600"},"Cost Savings"))))),h.createElement("div",{className:"bg-white shadow rounded-lg overflow-hidden"},v&&E.length===0?h.createElement("div",{className:"text-center py-12 text-gray-500"},"Loading leads…"):E.length===0?h.createElement("div",{className:"text-center py-12"},h.createElement("span",{className:"text-4xl"},"🔍"),h.createElement("h3",{className:"mt-2 text-sm font-medium text-gray-900"},"No results on this page"),h.createElement("p",{className:"mt-1 text-sm text-gray-500"},"Adjust your filters or run a new discovery campaign to see fresh results.")):h.createElement("div",{className:"overflow-x-auto"},h.createElement("table",{className:"min-w-full divide-y divide-gray-200"},h.createElement("thead",{className:"bg-gray-50"},h.createElement("tr",null,h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Business"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Contact"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Confidence"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Enrichment"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),h.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cost"))),h.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},E.map(x=>h.createElement("tr",{key:x.id,className:"hover:bg-gray-50"},h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("div",{className:"flex items-center"},h.createElement("div",null,h.createElement("div",{className:"text-sm font-medium text-gray-900"},x.business_name),h.createElement("div",{className:"text-sm text-gray-500"},x.address)))),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("div",{className:"text-sm text-gray-900"},x.phone&&h.createElement("div",null,"📞 ",x.phone),x.website&&h.createElement("div",null,"🌐"," ",h.createElement("a",{className:"text-blue-600 hover:underline",href:x.website,rel:"noopener noreferrer",target:"_blank"},x.website.replace(/^https?:\/\//,""))),x.email&&h.createElement("div",null,"📧 ",x.email))),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${jpe(x.confidence_score)}`},x.confidence_score,"%")),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("div",{className:"flex flex-col space-y-1"},h.createElement("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-800"},x.enrichment_tier||"Professional"),x.vault_secured&&h.createElement("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800"},"🔐 Vault Secured"))),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},h.createElement("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Bpe(x.validation_status)}`},x.validation_status)),h.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},"$",x.cost_to_acquire.toFixed(3))))))),p>1&&h.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50"},h.createElement("div",{className:"text-sm text-gray-600"},"Page ",o+1," of ",p),h.createElement("div",{className:"space-x-3"},h.createElement("button",{className:"px-4 py-2 text-sm bg-white border border-gray-300 rounded-md disabled:opacity-40",disabled:o===0,onClick:()=>k("prev")},"← Previous"),h.createElement("button",{className:"px-4 py-2 text-sm bg-white border border-gray-300 rounded-md disabled:opacity-40",disabled:o+1>=p,onClick:()=>k("next")},"Next →"))))):h.createElement("div",{className:"bg-white shadow rounded-lg p-12 text-center"},h.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"No campaign selected"),h.createElement("p",{className:"text-gray-600"},"Launch a discovery campaign or open a recent campaign from the dashboard to review results."))};function Hpe(){return React.createElement(sfe,null,React.createElement(oJ,null,React.createElement(Wfe,null,React.createElement(JY,null,React.createElement(xi,{element:React.createElement(DZ,null),path:"/"}),React.createElement(xi,{element:React.createElement(zpe,null),path:"/dashboard"}),React.createElement(xi,{element:React.createElement(DZ,null),path:"/discovery"}),React.createElement(xi,{element:React.createElement(_pe,null),path:"/campaign"}),React.createElement(xi,{element:React.createElement(Rpe,null),path:"/campaign/:campaignId/progress"}),React.createElement(xi,{element:React.createElement(Fpe,null),path:"/results"}),React.createElement(xi,{element:React.createElement(Bfe,null),path:"/account"}),React.createElement(xi,{element:React.createElement(Ffe,null),path:"/admin"}),React.createElement(xi,{element:React.createElement(Hfe,null),path:"/auth/callback"})))))}typeof window<"u"&&(window.__supabase=tt);const Ype=new XD({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});eF.createRoot(document.getElementById("root")).render(h.createElement(h.StrictMode,null,h.createElement(fD,null,h.createElement(l4,{client:Ype},h.createElement(rJ,null,h.createElement(Hpe,null))))));
