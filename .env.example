# ProspectPro Real API Configuration with Supabase
# Copy this file to .env and fill in your actual credentials

# =====================================
# SUPABASE CONFIGURATION (REQUIRED)
# =====================================
# IMPORTANT:
# SUPABASE_URL MUST be the HTTPS API base (NOT the postgres:// connection string)
# Found in: Project Settings → API → Project URL
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SECRET_KEY=sb_secret_your_key_here            # Preferred new style secret
# Legacy / fallback keys (optional)
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOi...             # Legacy service-role
# SUPABASE_ANON_KEY=eyJhbGciOi...                      # Legacy anon public key
# New public keys (NOT for privileged server queries)
# SUPABASE_PUBLISHABLE_KEY=sb_publishable_xxx
# NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY=sb_publishable_xxx

# OPTIONAL: Postgres pooler / direct database connection URL (for raw pg libraries)
# Do NOT set this as SUPABASE_URL. Use a separate variable.
# Transaction Pooler (recommended for stateless runtime):
SUPABASE_DB_POOLER_URL=postgresql://postgres.your-ref:your-password@aws-0-us-west-1.pooler.supabase.com:6543/postgres
# Direct Connection fallback:
# SUPABASE_DB_DIRECT_URL=postgresql://postgres:your-password@db.your-ref.supabase.co:5432/postgres
# Session Pooler (IPv4 fallback):
# SUPABASE_DB_SESSION_POOLER_URL=postgresql://postgres.your-ref:your-password@aws-0-us-west-1.pooler.supabase.com:5432/postgres

# =====================================
# REQUIRED API KEYS FOR REAL DATA
# =====================================

# Google Places API (CRITICAL - Required for business discovery)
# Get from: https://console.cloud.google.com/apis/credentials
# Enable: Places API, Places Details API, Geocoding API
# Cost: ~$0.032 per search, $0.017 per details request
GOOGLE_PLACES_API_KEY=your_google_places_api_key_here

# Scrapingdog API (HIGH PRIORITY - Required for website scraping)
# Get from: https://www.scrapingdog.com/
# Free tier: 1000 requests/month, then $0.002 per request
SCRAPINGDOG_API_KEY=your_scrapingdog_api_key_here

# Hunter.io API (HIGH PRIORITY - Required for email discovery)
# Get from: https://hunter.io/api
# Free tier: 25 searches/month, then $0.04 per search
HUNTER_IO_API_KEY=your_hunter_io_api_key_here

# NeverBounce API (HIGH PRIORITY - Required for email validation)
# Get from: https://neverbounce.com/api
# Free tier: 1000 verifications/month, then $0.008 per verification
NEVERBOUNCE_API_KEY=your_neverbounce_api_key_here

# =====================================
# AUTHENTICATION & SECURITY
# =====================================

# Personal access token for private deployment (generate: openssl rand -hex 16)
PERSONAL_ACCESS_TOKEN=your_personal_access_token_here

# =====================================
# PERFORMANCE & RATE LIMITING
# =====================================

# Maximum concurrent API requests (avoid rate limiting)
MAX_CONCURRENT_REQUESTS=5

# Request timeout in milliseconds
REQUEST_TIMEOUT=15000

# Delay between requests to avoid rate limiting (milliseconds)
REQUEST_DELAY=1000

# Cache TTL for Google Places results (seconds)
CACHE_TTL=3600

# =====================================
# COST MANAGEMENT & LIMITS
# =====================================

# Daily budget limits (USD)
DAILY_BUDGET_LIMIT=25.00
MONTHLY_BUDGET_LIMIT=150.00
PER_LEAD_COST_LIMIT=2.00

# Minimum confidence score for lead qualification (0-100)
MIN_CONFIDENCE_SCORE=80

# Pre-validation score threshold to proceed with expensive APIs (0-100)
MIN_PREVALIDATION_SCORE=70

# Maximum leads per campaign to prevent API overuse
MAX_LEADS_PER_CAMPAIGN=500

# =====================================
# APPLICATION SETTINGS
# =====================================

# Environment (development, production, staging)
NODE_ENV=development

# Do NOT set PORT on Railway (platform injects it). Only uncomment locally if needed.
# PORT=3000

# Enable detailed logging for debugging
DEBUG_MODE=true
LOG_LEVEL=info

# Enable API cost tracking in database
TRACK_API_COSTS=true

# Enable real-time updates via Supabase
ENABLE_REALTIME=true

# =====================================
# DEPLOYMENT SETTINGS
# =====================================

# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,https://your-domain.com

# Session timeout in hours
SESSION_TIMEOUT_HOURS=24

# File upload limits
MAX_FILE_SIZE_MB=10
UPLOAD_DIR=uploads

# =====================================
# OPTIONAL: THIRD-PARTY INTEGRATIONS
# =====================================

# Sentry for error monitoring (optional)
# SENTRY_DSN=https://your-sentry-dsn.ingest.sentry.io

# SendGrid for email notifications (optional)
# SENDGRID_API_KEY=SG.your-sendgrid-api-key
# FROM_EMAIL=noreply@yourapp.com

# Stripe for future SaaS payments (optional)
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# =====================================
# DEVELOPMENT ONLY
# =====================================

# Skip authentication in development (set to true for easier local testing)
SKIP_AUTH_IN_DEV=false

# Mock API responses for development (set to true to avoid API costs during development)
MOCK_API_RESPONSES=false

# Enable development admin panel
ENABLE_DEV_ADMIN=true