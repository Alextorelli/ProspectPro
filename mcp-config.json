{
    "version": "1.1",
    "description": "ProspectPro v4.3 MCP Server Configuration - Tier-Aware Background Discovery & Supabase Session Enforcement",
    "servers": {
        "prospectpro-production": {
            "autoStart": true,
            "lazyLoad": true,
            "maxMemory": "192MB",
            "priority": "high",
            "description": "Production monitoring for tier-aware background discovery, enrichment, and session-enforced auth (28 tools)",
            "tools": [
                "monitor_api_performance",
                "analyze_database_metrics",
                "check_edge_function_health",
                "track_api_costs",
                "monitor_supabase_usage",
                "track_user_sessions",
                "monitor_authentication",
                "analyze_campaign_ownership"
            ]
        },
        "prospectpro-development": {
            "autoStart": false,
            "onDemand": true,
            "maxMemory": "96MB",
            "priority": "medium",
            "description": "Development tools for background discovery, census targeting, enrichment, and session token workflows",
            "activationKeywords": [
                "develop",
                "integrate",
                "new api",
                "test integration",
                "user auth",
                "session management"
            ]
        },
        "prospectpro-troubleshooting": {
            "autoStart": false,
            "onDemand": true,
            "maxMemory": "96MB",
            "priority": "medium",
            "description": "Debugging tools for background jobs, Supabase auth sessions, and enrichment pipelines",
            "activationKeywords": [
                "debug",
                "error",
                "fix",
                "troubleshoot",
                "404",
                "500",
                "auth error",
                "jwt",
                "session"
            ]
        }
    },
    "globalSettings": {
        "maxConcurrentServers": 2,
        "memoryThreshold": "384MB",
        "smartLoading": true,
        "contextOptimization": true
    },
    "contextFilters": {
        "allowedExtensions": [
            ".ts",
            ".js",
            ".json",
            ".md",
            ".sql"
        ],
        "excludedPaths": [
            "archive/**",
            "node_modules/**",
            ".deno_lsp/**",
            "logs/**",
            "dist/**"
        ],
        "maxContextLength": 200,
        "maxFileSize": 50000
    },
    "costOptimization": {
        "enabled": true,
        "tokenReduction": 38,
        "cacheResponses": true,
        "smartContext": true,
        "quickCommands": {
            "run prod mcp": "cd /workspaces/ProspectPro/mcp-servers && npm run start:production",
            "deploy discovery background": "supabase functions deploy business-discovery-background",
            "deploy orchestrator": "supabase functions deploy enrichment-orchestrator",
            "deploy export": "supabase functions deploy campaign-export-user-aware",
            "deploy auth diagnostics": "supabase functions deploy test-new-auth && supabase functions deploy test-official-auth",
            "check background logs": "supabase logs functions --project-ref sriycekxdqnesdsgwiuc --slug business-discovery-background --tail",
            "test background job": "curl -X POST \"https://sriycekxdqnesdsgwiuc.supabase.co/functions/v1/business-discovery-background\" -H \"Authorization: Bearer SUPABASE_SESSION_JWT\" -H \"Content-Type: application/json\" -d '{\"businessType\":\"coffee shop\",\"location\":\"Seattle, WA\",\"maxResults\":2,\"tierKey\":\"PROFESSIONAL\",\"sessionUserId\":\"mcp-smoke\"}'",
            "test export": "curl -X POST \"https://sriycekxdqnesdsgwiuc.supabase.co/functions/v1/campaign-export-user-aware\" -H \"Authorization: Bearer SUPABASE_SESSION_JWT\" -H \"Content-Type: application/json\" -d '{\"campaignId\":\"test\",\"format\":\"csv\",\"sessionUserId\":\"mcp-smoke\"}'",
            "test auth helper": "curl -X POST \"https://sriycekxdqnesdsgwiuc.supabase.co/functions/v1/test-new-auth\" -H \"Authorization: Bearer SUPABASE_SESSION_JWT\" -H \"Content-Type: application/json\" -d '{\"diagnostics\":true}'",
            "compare auth patterns": "./scripts/test-auth-patterns.sh SUPABASE_SESSION_JWT",
            "rebuild frontend": "npm install && npm run build"
        }
    },
    "userAwareFeatures": {
        "enabled": true,
        "sessionTracking": true,
        "authenticationMonitoring": true,
        "campaignOwnershipTracking": true,
        "dataIsolationValidation": true
    }
}