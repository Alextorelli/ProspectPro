{
  "clientName": "Thunder Client",
  "collectionName": "ProspectPro - Discovery Tests",
  "collectionId": "prospectpro-discovery",
  "dateExported": "2025-10-17T00:00:00.000Z",
  "version": "1.2",
  "folders": [
    {
      "id": "discovery-success",
      "name": "Discovery Success Cases",
      "containerId": "",
      "created": "2025-10-17T00:00:00.000Z",
      "sortNum": 10000
    },
    {
      "id": "discovery-failures",
      "name": "Discovery Failure Modes",
      "containerId": "",
      "created": "2025-10-17T00:00:00.000Z",
      "sortNum": 20000
    }
  ],
  "requests": [
    {
      "id": "discovery-background-success",
      "name": "✅ Background Discovery - Professional Tier",
      "url": "{{SUPABASE_URL}}/functions/v1/business-discovery-background",
      "method": "POST",
      "sortNum": 10000,
      "created": "2025-10-17T00:00:00.000Z",
      "modified": "2025-10-17T00:00:00.000Z",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{SUPABASE_SESSION_JWT}}"
        },
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "type": "json",
        "raw": "{\n  \"businessType\": \"coffee shop\",\n  \"location\": \"Seattle, WA\",\n  \"maxResults\": 2,\n  \"tierKey\": \"PROFESSIONAL\",\n  \"sessionUserId\": \"thunder_test_{{$timestamp}}\"\n}",
        "form": []
      },
      "tests": [
        {
          "type": "res-code",
          "value": "200"
        },
        {
          "type": "json-query",
          "value": "$.campaignId",
          "action": "notequals null"
        },
        {
          "type": "json-query",
          "value": "$.status",
          "action": "equals processing"
        },
        {
          "type": "json-query",
          "value": "$.tierKey",
          "action": "equals PROFESSIONAL"
        }
      ],
      "containerId": "discovery-success"
    },
    {
      "id": "discovery-optimized-success",
      "name": "✅ Optimized Discovery - Enterprise Tier",
      "url": "{{SUPABASE_URL}}/functions/v1/business-discovery-optimized",
      "method": "POST",
      "sortNum": 20000,
      "created": "2025-10-17T00:00:00.000Z",
      "modified": "2025-10-17T00:00:00.000Z",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{SUPABASE_SESSION_JWT}}"
        },
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "type": "json",
        "raw": "{\n  \"businessType\": \"accounting firm\",\n  \"location\": \"San Francisco, CA\",\n  \"maxResults\": 5,\n  \"tierKey\": \"ENTERPRISE\",\n  \"sessionUserId\": \"thunder_test_{{$timestamp}}\"\n}",
        "form": []
      },
      "tests": [
        {
          "type": "res-code",
          "value": "200"
        },
        {
          "type": "json-query",
          "value": "$.results",
          "action": "istype array"
        },
        {
          "type": "json-query",
          "value": "$.results[0].business_name",
          "action": "notequals null"
        }
      ],
      "containerId": "discovery-success"
    },
    {
      "id": "discovery-invalid-tier",
      "name": "❌ Invalid Tier Key",
      "url": "{{SUPABASE_URL}}/functions/v1/business-discovery-background",
      "method": "POST",
      "sortNum": 30000,
      "created": "2025-10-17T00:00:00.000Z",
      "modified": "2025-10-17T00:00:00.000Z",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{SUPABASE_SESSION_JWT}}"
        },
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "type": "json",
        "raw": "{\n  \"businessType\": \"coffee shop\",\n  \"location\": \"Seattle, WA\",\n  \"maxResults\": 2,\n  \"tierKey\": \"INVALID_TIER_999\",\n  \"sessionUserId\": \"thunder_test_{{$timestamp}}\"\n}",
        "form": []
      },
      "tests": [
        {
          "type": "res-code",
          "value": "400"
        },
        {
          "type": "json-query",
          "value": "$.error",
          "action": "contains tier"
        }
      ],
      "containerId": "discovery-failures"
    },
    {
      "id": "discovery-exhausted-budget",
      "name": "❌ Budget Exhausted (Zero Budget)",
      "url": "{{SUPABASE_URL}}/functions/v1/business-discovery-background",
      "method": "POST",
      "sortNum": 40000,
      "created": "2025-10-17T00:00:00.000Z",
      "modified": "2025-10-17T00:00:00.000Z",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{SUPABASE_SESSION_JWT}}"
        },
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "type": "json",
        "raw": "{\n  \"businessType\": \"coffee shop\",\n  \"location\": \"Seattle, WA\",\n  \"maxResults\": 100,\n  \"tierKey\": \"PROFESSIONAL\",\n  \"budgetLimit\": 0.01,\n  \"sessionUserId\": \"thunder_test_{{$timestamp}}\"\n}",
        "form": []
      },
      "tests": [
        {
          "type": "res-code",
          "value": "200"
        },
        {
          "type": "json-query",
          "value": "$.status",
          "action": "contains complete"
        },
        {
          "type": "json-query",
          "value": "$.message",
          "action": "contains budget"
        }
      ],
      "containerId": "discovery-failures"
    },
    {
      "id": "discovery-missing-params",
      "name": "❌ Missing Required Parameters",
      "url": "{{SUPABASE_URL}}/functions/v1/business-discovery-background",
      "method": "POST",
      "sortNum": 50000,
      "created": "2025-10-17T00:00:00.000Z",
      "modified": "2025-10-17T00:00:00.000Z",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{SUPABASE_SESSION_JWT}}"
        },
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "type": "json",
        "raw": "{\n  \"businessType\": \"coffee shop\"\n}",
        "form": []
      },
      "tests": [
        {
          "type": "res-code",
          "value": "400"
        },
        {
          "type": "json-query",
          "value": "$.error",
          "action": "contains required"
        }
      ],
      "containerId": "discovery-failures"
    },
    {
      "id": "discovery-unauthorized-user",
      "name": "❌ Unauthorized User (No Auth)",
      "url": "{{SUPABASE_URL}}/functions/v1/business-discovery-background",
      "method": "POST",
      "sortNum": 60000,
      "created": "2025-10-17T00:00:00.000Z",
      "modified": "2025-10-17T00:00:00.000Z",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "type": "json",
        "raw": "{\n  \"businessType\": \"coffee shop\",\n  \"location\": \"Seattle, WA\",\n  \"maxResults\": 2,\n  \"tierKey\": \"PROFESSIONAL\",\n  \"sessionUserId\": \"thunder_test_{{$timestamp}}\"\n}",
        "form": []
      },
      "tests": [
        {
          "type": "res-code",
          "value": "401"
        },
        {
          "type": "json-query",
          "value": "$.error",
          "action": "contains Unauthorized"
        }
      ],
      "containerId": "discovery-failures"
    }
  ],
  "settings": {
    "options": {
      "baseUrl": ""
    },
    "envId": "prospectpro-production"
  }
}
